var f5=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var Z9=f5((Kn,Vn)=>{function p5(s,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in s)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kc(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nf={exports:{}},uc={},rf={exports:{}},ht={};var fv;function x5(){if(fv)return ht;fv=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function k(q,ee,xe){this.props=q,this.context=ee,this.refs=b,this.updater=xe||N}k.prototype.isReactComponent={},k.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},k.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=k.prototype;function R(q,ee,xe){this.props=q,this.context=ee,this.refs=b,this.updater=xe||N}var T=R.prototype=new P;T.constructor=R,S(T,k.prototype),T.isPureReactComponent=!0;var O=Array.isArray,H=Object.prototype.hasOwnProperty,se={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function re(q,ee,xe){var U,_={},D=null,oe=null;if(ee!=null)for(U in ee.ref!==void 0&&(oe=ee.ref),ee.key!==void 0&&(D=""+ee.key),ee)H.call(ee,U)&&!K.hasOwnProperty(U)&&(_[U]=ee[U]);var ue=arguments.length-2;if(ue===1)_.children=xe;else if(1<ue){for(var ke=Array(ue),ye=0;ye<ue;ye++)ke[ye]=arguments[ye+2];_.children=ke}if(q&&q.defaultProps)for(U in ue=q.defaultProps,ue)_[U]===void 0&&(_[U]=ue[U]);return{$$typeof:s,type:q,key:D,ref:oe,props:_,_owner:se.current}}function W(q,ee){return{$$typeof:s,type:q.type,key:ee,ref:q.ref,props:q.props,_owner:q._owner}}function me(q){return typeof q=="object"&&q!==null&&q.$$typeof===s}function I(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(xe){return ee[xe]})}var X=/\/+/g;function $(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?I(""+q.key):ee.toString(36)}function Q(q,ee,xe,U,_){var D=typeof q;(D==="undefined"||D==="boolean")&&(q=null);var oe=!1;if(q===null)oe=!0;else switch(D){case"string":case"number":oe=!0;break;case"object":switch(q.$$typeof){case s:case t:oe=!0}}if(oe)return oe=q,_=_(oe),q=U===""?"."+$(oe,0):U,O(_)?(xe="",q!=null&&(xe=q.replace(X,"$&/")+"/"),Q(_,ee,xe,"",function(ye){return ye})):_!=null&&(me(_)&&(_=W(_,xe+(!_.key||oe&&oe.key===_.key?"":(""+_.key).replace(X,"$&/")+"/")+q)),ee.push(_)),1;if(oe=0,U=U===""?".":U+":",O(q))for(var ue=0;ue<q.length;ue++){D=q[ue];var ke=U+$(D,ue);oe+=Q(D,ee,xe,ke,_)}else if(ke=g(q),typeof ke=="function")for(q=ke.call(q),ue=0;!(D=q.next()).done;)D=D.value,ke=U+$(D,ue++),oe+=Q(D,ee,xe,ke,_);else if(D==="object")throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return oe}function ne(q,ee,xe){if(q==null)return q;var U=[],_=0;return Q(q,U,"","",function(D){return ee.call(xe,D,_++)}),U}function F(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(xe){(q._status===0||q._status===-1)&&(q._status=1,q._result=xe)},function(xe){(q._status===0||q._status===-1)&&(q._status=2,q._result=xe)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var C={current:null},E={transition:null},G={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:E,ReactCurrentOwner:se};function Y(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:ne,forEach:function(q,ee,xe){ne(q,function(){ee.apply(this,arguments)},xe)},count:function(q){var ee=0;return ne(q,function(){ee++}),ee},toArray:function(q){return ne(q,function(ee){return ee})||[]},only:function(q){if(!me(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ht.Component=k,ht.Fragment=n,ht.Profiler=o,ht.PureComponent=R,ht.StrictMode=a,ht.Suspense=m,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ht.act=Y,ht.cloneElement=function(q,ee,xe){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var U=S({},q.props),_=q.key,D=q.ref,oe=q._owner;if(ee!=null){if(ee.ref!==void 0&&(D=ee.ref,oe=se.current),ee.key!==void 0&&(_=""+ee.key),q.type&&q.type.defaultProps)var ue=q.type.defaultProps;for(ke in ee)H.call(ee,ke)&&!K.hasOwnProperty(ke)&&(U[ke]=ee[ke]===void 0&&ue!==void 0?ue[ke]:ee[ke])}var ke=arguments.length-2;if(ke===1)U.children=xe;else if(1<ke){ue=Array(ke);for(var ye=0;ye<ke;ye++)ue[ye]=arguments[ye+2];U.children=ue}return{$$typeof:s,type:q.type,key:_,ref:D,props:U,_owner:oe}},ht.createContext=function(q){return q={$$typeof:d,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:l,_context:q},q.Consumer=q},ht.createElement=re,ht.createFactory=function(q){var ee=re.bind(null,q);return ee.type=q,ee},ht.createRef=function(){return{current:null}},ht.forwardRef=function(q){return{$$typeof:u,render:q}},ht.isValidElement=me,ht.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:F}},ht.memo=function(q,ee){return{$$typeof:f,type:q,compare:ee===void 0?null:ee}},ht.startTransition=function(q){var ee=E.transition;E.transition={};try{q()}finally{E.transition=ee}},ht.unstable_act=Y,ht.useCallback=function(q,ee){return C.current.useCallback(q,ee)},ht.useContext=function(q){return C.current.useContext(q)},ht.useDebugValue=function(){},ht.useDeferredValue=function(q){return C.current.useDeferredValue(q)},ht.useEffect=function(q,ee){return C.current.useEffect(q,ee)},ht.useId=function(){return C.current.useId()},ht.useImperativeHandle=function(q,ee,xe){return C.current.useImperativeHandle(q,ee,xe)},ht.useInsertionEffect=function(q,ee){return C.current.useInsertionEffect(q,ee)},ht.useLayoutEffect=function(q,ee){return C.current.useLayoutEffect(q,ee)},ht.useMemo=function(q,ee){return C.current.useMemo(q,ee)},ht.useReducer=function(q,ee,xe){return C.current.useReducer(q,ee,xe)},ht.useRef=function(q){return C.current.useRef(q)},ht.useState=function(q){return C.current.useState(q)},ht.useSyncExternalStore=function(q,ee,xe){return C.current.useSyncExternalStore(q,ee,xe)},ht.useTransition=function(){return C.current.useTransition()},ht.version="18.3.1",ht}var pv;function eh(){return pv||(pv=1,rf.exports=x5()),rf.exports}var xv;function g5(){if(xv)return uc;xv=1;var s=eh(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,m,f){var y,v={},g=null,N=null;f!==void 0&&(g=""+f),m.key!==void 0&&(g=""+m.key),m.ref!==void 0&&(N=m.ref);for(y in m)a.call(m,y)&&!l.hasOwnProperty(y)&&(v[y]=m[y]);if(u&&u.defaultProps)for(y in m=u.defaultProps,m)v[y]===void 0&&(v[y]=m[y]);return{$$typeof:t,type:u,key:g,ref:N,props:v,_owner:o.current}}return uc.Fragment=n,uc.jsx=d,uc.jsxs=d,uc}var gv;function v5(){return gv||(gv=1,nf.exports=g5()),nf.exports}var e=v5(),Gd={},af={exports:{}},An={},of={exports:{}},lf={};var vv;function y5(){return vv||(vv=1,(function(s){function t(E,G){var Y=E.length;E.push(G);e:for(;0<Y;){var q=Y-1>>>1,ee=E[q];if(0<o(ee,G))E[q]=G,E[Y]=ee,Y=q;else break e}}function n(E){return E.length===0?null:E[0]}function a(E){if(E.length===0)return null;var G=E[0],Y=E.pop();if(Y!==G){E[0]=Y;e:for(var q=0,ee=E.length,xe=ee>>>1;q<xe;){var U=2*(q+1)-1,_=E[U],D=U+1,oe=E[D];if(0>o(_,Y))D<ee&&0>o(oe,_)?(E[q]=oe,E[D]=Y,q=D):(E[q]=_,E[U]=Y,q=U);else if(D<ee&&0>o(oe,Y))E[q]=oe,E[D]=Y,q=D;else break e}}return G}function o(E,G){var Y=E.sortIndex-G.sortIndex;return Y!==0?Y:E.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();s.unstable_now=function(){return d.now()-u}}var m=[],f=[],y=1,v=null,g=3,N=!1,S=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(E){for(var G=n(f);G!==null;){if(G.callback===null)a(f);else if(G.startTime<=E)a(f),G.sortIndex=G.expirationTime,t(m,G);else break;G=n(f)}}function O(E){if(b=!1,T(E),!S)if(n(m)!==null)S=!0,F(H);else{var G=n(f);G!==null&&C(O,G.startTime-E)}}function H(E,G){S=!1,b&&(b=!1,P(re),re=-1),N=!0;var Y=g;try{for(T(G),v=n(m);v!==null&&(!(v.expirationTime>G)||E&&!I());){var q=v.callback;if(typeof q=="function"){v.callback=null,g=v.priorityLevel;var ee=q(v.expirationTime<=G);G=s.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(m)&&a(m),T(G)}else a(m);v=n(m)}if(v!==null)var xe=!0;else{var U=n(f);U!==null&&C(O,U.startTime-G),xe=!1}return xe}finally{v=null,g=Y,N=!1}}var se=!1,K=null,re=-1,W=5,me=-1;function I(){return!(s.unstable_now()-me<W)}function X(){if(K!==null){var E=s.unstable_now();me=E;var G=!0;try{G=K(!0,E)}finally{G?$():(se=!1,K=null)}}else se=!1}var $;if(typeof R=="function")$=function(){R(X)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=X,$=function(){ne.postMessage(null)}}else $=function(){k(X,0)};function F(E){K=E,se||(se=!0,$())}function C(E,G){re=k(function(){E(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(E){E.callback=null},s.unstable_continueExecution=function(){S||N||(S=!0,F(H))},s.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<E?Math.floor(1e3/E):5},s.unstable_getCurrentPriorityLevel=function(){return g},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(E){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var Y=g;g=G;try{return E()}finally{g=Y}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(E,G){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var Y=g;g=E;try{return G()}finally{g=Y}},s.unstable_scheduleCallback=function(E,G,Y){var q=s.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?q+Y:q):Y=q,E){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,E={id:y++,callback:G,priorityLevel:E,startTime:Y,expirationTime:ee,sortIndex:-1},Y>q?(E.sortIndex=Y,t(f,E),n(m)===null&&E===n(f)&&(b?(P(re),re=-1):b=!0,C(O,Y-q))):(E.sortIndex=ee,t(m,E),S||N||(S=!0,F(H))),E},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(E){var G=g;return function(){var Y=g;g=G;try{return E.apply(this,arguments)}finally{g=Y}}}})(lf)),lf}var yv;function b5(){return yv||(yv=1,of.exports=y5()),of.exports}var bv;function w5(){if(bv)return An;bv=1;var s=eh(),t=b5();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(r,i){d(r,i),d(r+"Capture",i)}function d(r,i){for(o[r]=i,r=0;r<i.length;r++)a.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function g(r){return m.call(v,r)?!0:m.call(y,r)?!1:f.test(r)?v[r]=!0:(y[r]=!0,!1)}function N(r,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,c,h){if(i===null||typeof i>"u"||N(r,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(r,i,c,h,p,w,A){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=r,this.type=i,this.sanitizeURL=w,this.removeEmptyString=A}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new b(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(P,R);k[i]=new b(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(P,R);k[i]=new b(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(P,R);k[i]=new b(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function T(r,i,c,h){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,c,p,h)&&(c=null),h||p===null?g(i)&&(c===null?r.removeAttribute(i):r.setAttribute(i,""+c)):p.mustUseProperty?r[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,h=p.attributeNamespace,c===null?r.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,h?r.setAttributeNS(h,i,c):r.setAttribute(i,c))))}var O=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),se=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),I=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),E=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=E&&r[E]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Object.assign,q;function ee(r){if(q===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);q=i&&i[1]||""}return`
`+q+r}var xe=!1;function U(r,i){if(!r||xe)return"";xe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var h=ce}Reflect.construct(r,[],i)}else{try{i.call()}catch(ce){h=ce}r.call(i.prototype)}else{try{throw Error()}catch(ce){h=ce}r()}}catch(ce){if(ce&&h&&typeof ce.stack=="string"){for(var p=ce.stack.split(`
`),w=h.stack.split(`
`),A=p.length-1,B=w.length-1;1<=A&&0<=B&&p[A]!==w[B];)B--;for(;1<=A&&0<=B;A--,B--)if(p[A]!==w[B]){if(A!==1||B!==1)do if(A--,B--,0>B||p[A]!==w[B]){var Z=`
`+p[A].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=A&&0<=B);break}}}finally{xe=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?ee(r):""}function _(r){switch(r.tag){case 5:return ee(r.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return r=U(r.type,!1),r;case 11:return r=U(r.type.render,!1),r;case 1:return r=U(r.type,!0),r;default:return""}}function D(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case K:return"Fragment";case se:return"Portal";case W:return"Profiler";case re:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case I:return(r.displayName||"Context")+".Consumer";case me:return(r._context.displayName||"Context")+".Provider";case X:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ne:return i=r.displayName||null,i!==null?i:D(r.type)||"Memo";case F:i=r._payload,r=r._init;try{return D(r(i))}catch{}}return null}function oe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(i);case 8:return i===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ke(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ye(r){var i=ke(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,w=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(A){h=""+A,w.call(this,A)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ee(r){r._valueTracker||(r._valueTracker=ye(r))}function De(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return r&&(h=ke(r)?r.checked?"true":"false":r.value),r=h,r!==c?(i.setValue(r),!0):!1}function Ve(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Xe(r,i){var c=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ut(r,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=ue(i.value!=null?i.value:c),r._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function is(r,i){i=i.checked,i!=null&&T(r,"checked",i,!1)}function os(r,i){is(r,i);var c=ue(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Vs(r,i.type,c):i.hasOwnProperty("defaultValue")&&Vs(r,i.type,ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Ss(r,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,c||i===r.value||(r.value=i),r.defaultValue=i}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Vs(r,i,c){(i!=="number"||Ve(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var fs=Array.isArray;function bs(r,i,c,h){if(r=r.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=i.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&h&&(r[c].defaultSelected=!0)}else{for(c=""+ue(c),i=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Pt(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function qt(r,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(fs(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}r._wrapperState={initialValue:ue(c)}}function bt(r,i){var c=ue(i.value),h=ue(i.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),i.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),h!=null&&(r.defaultValue=""+h)}function le(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function _e(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?_e(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var wt,ls=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,p){MSApp.execUnsafeLocalFunction(function(){return r(i,c,h,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=wt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function $t(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var M={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(M).forEach(function(r){pe.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),M[i]=M[r]})});function Ye(r,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||M.hasOwnProperty(r)&&M[r]?(""+i).trim():i+"px"}function vt(r,i){r=r.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,p=Ye(c,i[c],h);c==="float"&&(c="cssFloat"),h?r.setProperty(c,p):r[c]=p}}var nt=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(r,i){if(i){if(nt[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Qs(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rn=null;function $s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var an=null,Fs=null,Gs=null;function bn(r){if(r=Yl(r)){if(typeof an!="function")throw Error(n(280));var i=r.stateNode;i&&(i=dd(i),an(r.stateNode,r.type,i))}}function Zn(r){Fs?Gs?Gs.push(r):Gs=[r]:Fs=r}function Ur(){if(Fs){var r=Fs,i=Gs;if(Gs=Fs=null,bn(r),i)for(r=0;r<i.length;r++)bn(i[r])}}function zt(r,i){return r(i)}function on(){}var wn=!1;function Br(r,i,c){if(wn)return r(i,c);wn=!0;try{return zt(r,i,c)}finally{wn=!1,(Fs!==null||Gs!==null)&&(on(),Ur())}}function Cs(r,i){var c=r.stateNode;if(c===null)return null;var h=dd(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var Hr=!1;if(u)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Hr=!1}function Ti(r,i,c,h,p,w,A,B,Z){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(c,ce)}catch(je){this.onError(je)}}var ps=!1,Is=null,Vt=!1,Wr=null,ua={onError:function(r){ps=!0,Is=r}};function Da(r,i,c,h,p,w,A,B,Z){ps=!1,Is=null,Ti.apply(ua,arguments)}function ln(r,i,c,h,p,w,A,B,Z){if(Da.apply(this,arguments),ps){if(ps){var ce=Is;ps=!1,Is=null}else throw Error(n(198));Vt||(Vt=!0,Wr=ce)}}function jn(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function cs(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ha(r){if(jn(r)!==r)throw Error(n(188))}function qa(r){var i=r.alternate;if(!i){if(i=jn(r),i===null)throw Error(n(188));return i!==r?null:r}for(var c=r,h=i;;){var p=c.return;if(p===null)break;var w=p.alternate;if(w===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===c)return ha(p),r;if(w===h)return ha(p),i;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=p,h=w;else{for(var A=!1,B=p.child;B;){if(B===c){A=!0,c=p,h=w;break}if(B===h){A=!0,h=p,c=w;break}B=B.sibling}if(!A){for(B=w.child;B;){if(B===c){A=!0,c=w,h=p;break}if(B===h){A=!0,h=w,c=p;break}B=B.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:i}function $a(r){return r=qa(r),r!==null?Be(r):null}function Be(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Be(r);if(i!==null)return i;r=r.sibling}return null}var J=t.unstable_scheduleCallback,ve=t.unstable_cancelCallback,Me=t.unstable_shouldYield,Mt=t.unstable_requestPaint,ot=t.unstable_now,Bt=t.unstable_getCurrentPriorityLevel,ds=t.unstable_ImmediatePriority,Es=t.unstable_UserBlockingPriority,Ys=t.unstable_NormalPriority,er=t.unstable_LowPriority,Rt=t.unstable_IdlePriority,Dn=null,zs=null;function Ll(r){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(Dn,r,void 0,(r.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Fa,Il=Math.log,Ml=Math.LN2;function Fa(r){return r>>>=0,r===0?32:31-(Il(r)/Ml|0)|0}var Kr=64,tr=4194304;function Vr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ma(r,i){var c=r.pendingLanes;if(c===0)return 0;var h=0,p=r.suspendedLanes,w=r.pingedLanes,A=c&268435455;if(A!==0){var B=A&~p;B!==0?h=Vr(B):(w&=A,w!==0&&(h=Vr(w)))}else A=c&~p,A!==0?h=Vr(A):w!==0&&(h=Vr(w));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,w=i&-i,p>=w||p===16&&(w&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)c=31-cn(i),p=1<<c,h|=r[c],i&=~p;return h}function Dl(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ql(r,i){for(var c=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,w=r.pendingLanes;0<w;){var A=31-cn(w),B=1<<A,Z=p[A];Z===-1?((B&c)===0||(B&h)!==0)&&(p[A]=Dl(B,i)):Z<=i&&(r.expiredLanes|=B),w&=~B}}function Ai(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function jo(){var r=Kr;return Kr<<=1,(Kr&4194240)===0&&(Kr=64),r}function fa(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function pa(r,i,c){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-cn(i),r[i]=c}function $l(r,i){var c=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<c;){var p=31-cn(c),w=1<<p;i[p]=0,h[p]=-1,r[p]=-1,c&=~w}}function br(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var h=31-cn(c),p=1<<h;p&i|r[h]&i&&(r[h]|=i),c&=~p}}var ct=0;function sr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var nr,Pi,qn,No,ko,Ri=!1,za=[],$n=null,es=null,Fn=null,Qr=new Map,rr=new Map,Nn=[],Ua="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function So(r,i){switch(r){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Qr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(i.pointerId)}}function Gr(r,i,c,h,p,w){return r===null||r.nativeEvent!==w?(r={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[p]},i!==null&&(i=Yl(i),i!==null&&Pi(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function _i(r,i,c,h,p){switch(i){case"focusin":return $n=Gr($n,r,i,c,h,p),!0;case"dragenter":return es=Gr(es,r,i,c,h,p),!0;case"mouseover":return Fn=Gr(Fn,r,i,c,h,p),!0;case"pointerover":var w=p.pointerId;return Qr.set(w,Gr(Qr.get(w)||null,r,i,c,h,p)),!0;case"gotpointercapture":return w=p.pointerId,rr.set(w,Gr(rr.get(w)||null,r,i,c,h,p)),!0}return!1}function Oi(r){var i=Mi(r.target);if(i!==null){var c=jn(i);if(c!==null){if(i=c.tag,i===13){if(i=cs(c),i!==null){r.blockedOn=i,ko(r.priority,function(){qn(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function dn(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=ft(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);rn=h,c.target.dispatchEvent(h),rn=null}else return i=Yl(c),i!==null&&Pi(i),r.blockedOn=c,!1;i.shift()}return!0}function Li(r,i,c){dn(r)&&c.delete(i)}function Ii(){Ri=!1,$n!==null&&dn($n)&&($n=null),es!==null&&dn(es)&&(es=null),Fn!==null&&dn(Fn)&&(Fn=null),Qr.forEach(Li),rr.forEach(Li)}function xa(r,i){r.blockedOn===i&&(r.blockedOn=null,Ri||(Ri=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ii)))}function ga(r){function i(p){return xa(p,r)}if(0<za.length){xa(za[0],r);for(var c=1;c<za.length;c++){var h=za[c];h.blockedOn===r&&(h.blockedOn=null)}}for($n!==null&&xa($n,r),es!==null&&xa(es,r),Fn!==null&&xa(Fn,r),Qr.forEach(i),rr.forEach(i),c=0;c<Nn.length;c++)h=Nn[c],h.blockedOn===r&&(h.blockedOn=null);for(;0<Nn.length&&(c=Nn[0],c.blockedOn===null);)Oi(c),c.blockedOn===null&&Nn.shift()}var j=O.ReactCurrentBatchConfig,L=!0;function V(r,i,c,h){var p=ct,w=j.transition;j.transition=null;try{ct=1,at(r,i,c,h)}finally{ct=p,j.transition=w}}function fe(r,i,c,h){var p=ct,w=j.transition;j.transition=null;try{ct=4,at(r,i,c,h)}finally{ct=p,j.transition=w}}function at(r,i,c,h){if(L){var p=ft(r,i,c,h);if(p===null)Vh(r,i,h,We,c),So(r,h);else if(_i(p,r,i,c,h))h.stopPropagation();else if(So(r,h),i&4&&-1<Ua.indexOf(r)){for(;p!==null;){var w=Yl(p);if(w!==null&&nr(w),w=ft(r,i,c,h),w===null&&Vh(r,i,h,We,c),w===p)break;p=w}p!==null&&h.stopPropagation()}else Vh(r,i,h,null,c)}}var We=null;function ft(r,i,c,h){if(We=null,r=$s(h),r=Mi(r),r!==null)if(i=jn(r),i===null)r=null;else if(c=i.tag,c===13){if(r=cs(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return We=r,null}function pt(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bt()){case ds:return 1;case Es:return 4;case Ys:case er:return 16;case Rt:return 536870912;default:return 16}default:return 16}}var Ft=null,yt=null,xs=null;function Us(){if(xs)return xs;var r,i=yt,c=i.length,h,p="value"in Ft?Ft.value:Ft.textContent,w=p.length;for(r=0;r<c&&i[r]===p[r];r++);var A=c-r;for(h=1;h<=A&&i[c-h]===p[w-h];h++);return xs=p.slice(r,1<h?1-h:void 0)}function ts(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function gs(){return!0}function ws(){return!1}function us(r){function i(c,h,p,w,A){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(c=r[B],this[B]=c?c(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?gs:ws,this.isPropagationStopped=ws,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=us(Xs),Ba=Y({},Xs,{view:0,detail:0}),Co=us(Ba),Ha,Lh,Fl,sd=Y({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fl&&(Fl&&r.type==="mousemove"?(Ha=r.screenX-Fl.screenX,Lh=r.screenY-Fl.screenY):Lh=Ha=0,Fl=r),Ha)},movementY:function(r){return"movementY"in r?r.movementY:Lh}}),ng=us(sd),U4=Y({},sd,{dataTransfer:0}),B4=us(U4),H4=Y({},Ba,{relatedTarget:0}),Ih=us(H4),W4=Y({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),K4=us(W4),V4=Y({},Xs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Q4=us(V4),G4=Y({},Xs,{data:0}),rg=us(G4),Y4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J4(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Z4[r])?!!i[r]:!1}function Mh(){return J4}var ek=Y({},Ba,{key:function(r){if(r.key){var i=Y4[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ts(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?X4[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(r){return r.type==="keypress"?ts(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ts(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),tk=us(ek),sk=Y({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=us(sk),nk=Y({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),rk=us(nk),ak=Y({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ik=us(ak),ok=Y({},sd,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),lk=us(ok),ck=[9,13,27,32],Dh=u&&"CompositionEvent"in window,zl=null;u&&"documentMode"in document&&(zl=document.documentMode);var dk=u&&"TextEvent"in window&&!zl,ig=u&&(!Dh||zl&&8<zl&&11>=zl),og=" ",lg=!1;function cg(r,i){switch(r){case"keyup":return ck.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Eo=!1;function uk(r,i){switch(r){case"compositionend":return dg(i);case"keypress":return i.which!==32?null:(lg=!0,og);case"textInput":return r=i.data,r===og&&lg?null:r;default:return null}}function hk(r,i){if(Eo)return r==="compositionend"||!Dh&&cg(r,i)?(r=Us(),xs=yt=Ft=null,Eo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ig&&i.locale!=="ko"?null:i.data;default:return null}}var mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!mk[r.type]:i==="textarea"}function hg(r,i,c,h){Zn(h),i=od(i,"onChange"),0<i.length&&(c=new wr("onChange","change",null,c,h),r.push({event:c,listeners:i}))}var Ul=null,Bl=null;function fk(r){Pg(r,0)}function nd(r){var i=_o(r);if(De(i))return r}function pk(r,i){if(r==="change")return i}var mg=!1;if(u){var qh;if(u){var $h="oninput"in document;if(!$h){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),$h=typeof fg.oninput=="function"}qh=$h}else qh=!1;mg=qh&&(!document.documentMode||9<document.documentMode)}function pg(){Ul&&(Ul.detachEvent("onpropertychange",xg),Bl=Ul=null)}function xg(r){if(r.propertyName==="value"&&nd(Bl)){var i=[];hg(i,Bl,r,$s(r)),Br(fk,i)}}function xk(r,i,c){r==="focusin"?(pg(),Ul=i,Bl=c,Ul.attachEvent("onpropertychange",xg)):r==="focusout"&&pg()}function gk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nd(Bl)}function vk(r,i){if(r==="click")return nd(i)}function yk(r,i){if(r==="input"||r==="change")return nd(i)}function bk(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var jr=typeof Object.is=="function"?Object.is:bk;function Hl(r,i){if(jr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!m.call(i,p)||!jr(r[p],i[p]))return!1}return!0}function gg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vg(r,i){var c=gg(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=i&&h>=i)return{node:c,offset:i-r};r=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=gg(c)}}function yg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?yg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function bg(){for(var r=window,i=Ve();i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=Ve(r.document)}return i}function Fh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function wk(r){var i=bg(),c=r.focusedElem,h=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&yg(c.ownerDocument.documentElement,c)){if(h!==null&&Fh(c)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(r,c.value.length);else if(r=(i=c.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=c.textContent.length,w=Math.min(h.start,p);h=h.end===void 0?w:Math.min(h.end,p),!r.extend&&w>h&&(p=h,h=w,w=p),p=vg(c,w);var A=vg(c,h);p&&A&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==A.node||r.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),w>h?(r.addRange(i),r.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),r.addRange(i)))}}for(i=[],r=c;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)r=i[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jk=u&&"documentMode"in document&&11>=document.documentMode,To=null,zh=null,Wl=null,Uh=!1;function wg(r,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Uh||To==null||To!==Ve(h)||(h=To,"selectionStart"in h&&Fh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wl&&Hl(Wl,h)||(Wl=h,h=od(zh,"onSelect"),0<h.length&&(i=new wr("onSelect","select",null,i,c),r.push({event:i,listeners:h}),i.target=To)))}function rd(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Ao={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},Bh={},jg={};u&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function ad(r){if(Bh[r])return Bh[r];if(!Ao[r])return r;var i=Ao[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in jg)return Bh[r]=i[c];return r}var Ng=ad("animationend"),kg=ad("animationiteration"),Sg=ad("animationstart"),Cg=ad("transitionend"),Eg=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(r,i){Eg.set(r,i),l(i,[r])}for(var Hh=0;Hh<Tg.length;Hh++){var Wh=Tg[Hh],Nk=Wh.toLowerCase(),kk=Wh[0].toUpperCase()+Wh.slice(1);Wa(Nk,"on"+kk)}Wa(Ng,"onAnimationEnd"),Wa(kg,"onAnimationIteration"),Wa(Sg,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(Cg,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function Ag(r,i,c){var h=r.type||"unknown-event";r.currentTarget=c,ln(h,i,void 0,r),r.currentTarget=null}function Pg(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],p=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var A=h.length-1;0<=A;A--){var B=h[A],Z=B.instance,ce=B.currentTarget;if(B=B.listener,Z!==w&&p.isPropagationStopped())break e;Ag(p,B,ce),w=Z}else for(A=0;A<h.length;A++){if(B=h[A],Z=B.instance,ce=B.currentTarget,B=B.listener,Z!==w&&p.isPropagationStopped())break e;Ag(p,B,ce),w=Z}}}if(Vt)throw r=Wr,Vt=!1,Wr=null,r}function Qt(r,i){var c=i[Jh];c===void 0&&(c=i[Jh]=new Set);var h=r+"__bubble";c.has(h)||(Rg(i,r,2,!1),c.add(h))}function Kh(r,i,c){var h=0;i&&(h|=4),Rg(c,r,h,i)}var id="_reactListening"+Math.random().toString(36).slice(2);function Vl(r){if(!r[id]){r[id]=!0,a.forEach(function(c){c!=="selectionchange"&&(Sk.has(c)||Kh(c,!1,r),Kh(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[id]||(i[id]=!0,Kh("selectionchange",!1,i))}}function Rg(r,i,c,h){switch(pt(i)){case 1:var p=V;break;case 4:p=fe;break;default:p=at}c=p.bind(null,i,c,r),p=void 0,!Hr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(i,c,{capture:!0,passive:p}):r.addEventListener(i,c,!0):p!==void 0?r.addEventListener(i,c,{passive:p}):r.addEventListener(i,c,!1)}function Vh(r,i,c,h,p){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var B=h.stateNode.containerInfo;if(B===p||B.nodeType===8&&B.parentNode===p)break;if(A===4)for(A=h.return;A!==null;){var Z=A.tag;if((Z===3||Z===4)&&(Z=A.stateNode.containerInfo,Z===p||Z.nodeType===8&&Z.parentNode===p))return;A=A.return}for(;B!==null;){if(A=Mi(B),A===null)return;if(Z=A.tag,Z===5||Z===6){h=w=A;continue e}B=B.parentNode}}h=h.return}Br(function(){var ce=w,je=$s(c),Se=[];e:{var we=Eg.get(r);if(we!==void 0){var Oe=wr,ze=r;switch(r){case"keypress":if(ts(c)===0)break e;case"keydown":case"keyup":Oe=tk;break;case"focusin":ze="focus",Oe=Ih;break;case"focusout":ze="blur",Oe=Ih;break;case"beforeblur":case"afterblur":Oe=Ih;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=B4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=rk;break;case Ng:case kg:case Sg:Oe=K4;break;case Cg:Oe=ik;break;case"scroll":Oe=Co;break;case"wheel":Oe=lk;break;case"copy":case"cut":case"paste":Oe=Q4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=ag}var He=(i&4)!==0,vs=!He&&r==="scroll",ae=He?we!==null?we+"Capture":null:we;He=[];for(var te=ce,ie;te!==null;){ie=te;var Te=ie.stateNode;if(ie.tag===5&&Te!==null&&(ie=Te,ae!==null&&(Te=Cs(te,ae),Te!=null&&He.push(Ql(te,Te,ie)))),vs)break;te=te.return}0<He.length&&(we=new Oe(we,ze,null,c,je),Se.push({event:we,listeners:He}))}}if((i&7)===0){e:{if(we=r==="mouseover"||r==="pointerover",Oe=r==="mouseout"||r==="pointerout",we&&c!==rn&&(ze=c.relatedTarget||c.fromElement)&&(Mi(ze)||ze[va]))break e;if((Oe||we)&&(we=je.window===je?je:(we=je.ownerDocument)?we.defaultView||we.parentWindow:window,Oe?(ze=c.relatedTarget||c.toElement,Oe=ce,ze=ze?Mi(ze):null,ze!==null&&(vs=jn(ze),ze!==vs||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Oe=null,ze=ce),Oe!==ze)){if(He=ng,Te="onMouseLeave",ae="onMouseEnter",te="mouse",(r==="pointerout"||r==="pointerover")&&(He=ag,Te="onPointerLeave",ae="onPointerEnter",te="pointer"),vs=Oe==null?we:_o(Oe),ie=ze==null?we:_o(ze),we=new He(Te,te+"leave",Oe,c,je),we.target=vs,we.relatedTarget=ie,Te=null,Mi(je)===ce&&(He=new He(ae,te+"enter",ze,c,je),He.target=ie,He.relatedTarget=vs,Te=He),vs=Te,Oe&&ze)t:{for(He=Oe,ae=ze,te=0,ie=He;ie;ie=Po(ie))te++;for(ie=0,Te=ae;Te;Te=Po(Te))ie++;for(;0<te-ie;)He=Po(He),te--;for(;0<ie-te;)ae=Po(ae),ie--;for(;te--;){if(He===ae||ae!==null&&He===ae.alternate)break t;He=Po(He),ae=Po(ae)}He=null}else He=null;Oe!==null&&_g(Se,we,Oe,He,!1),ze!==null&&vs!==null&&_g(Se,vs,ze,He,!0)}}e:{if(we=ce?_o(ce):window,Oe=we.nodeName&&we.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&we.type==="file")var Qe=pk;else if(ug(we))if(mg)Qe=yk;else{Qe=gk;var tt=xk}else(Oe=we.nodeName)&&Oe.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Qe=vk);if(Qe&&(Qe=Qe(r,ce))){hg(Se,Qe,c,je);break e}tt&&tt(r,we,ce),r==="focusout"&&(tt=we._wrapperState)&&tt.controlled&&we.type==="number"&&Vs(we,"number",we.value)}switch(tt=ce?_o(ce):window,r){case"focusin":(ug(tt)||tt.contentEditable==="true")&&(To=tt,zh=ce,Wl=null);break;case"focusout":Wl=zh=To=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,wg(Se,c,je);break;case"selectionchange":if(jk)break;case"keydown":case"keyup":wg(Se,c,je)}var st;if(Dh)e:{switch(r){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Eo?cg(r,c)&&(it="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(it="onCompositionStart");it&&(ig&&c.locale!=="ko"&&(Eo||it!=="onCompositionStart"?it==="onCompositionEnd"&&Eo&&(st=Us()):(Ft=je,yt="value"in Ft?Ft.value:Ft.textContent,Eo=!0)),tt=od(ce,it),0<tt.length&&(it=new rg(it,r,null,c,je),Se.push({event:it,listeners:tt}),st?it.data=st:(st=dg(c),st!==null&&(it.data=st)))),(st=dk?uk(r,c):hk(r,c))&&(ce=od(ce,"onBeforeInput"),0<ce.length&&(je=new rg("onBeforeInput","beforeinput",null,c,je),Se.push({event:je,listeners:ce}),je.data=st))}Pg(Se,i)})}function Ql(r,i,c){return{instance:r,listener:i,currentTarget:c}}function od(r,i){for(var c=i+"Capture",h=[];r!==null;){var p=r,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=Cs(r,c),w!=null&&h.unshift(Ql(r,w,p)),w=Cs(r,i),w!=null&&h.push(Ql(r,w,p))),r=r.return}return h}function Po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function _g(r,i,c,h,p){for(var w=i._reactName,A=[];c!==null&&c!==h;){var B=c,Z=B.alternate,ce=B.stateNode;if(Z!==null&&Z===h)break;B.tag===5&&ce!==null&&(B=ce,p?(Z=Cs(c,w),Z!=null&&A.unshift(Ql(c,Z,B))):p||(Z=Cs(c,w),Z!=null&&A.push(Ql(c,Z,B)))),c=c.return}A.length!==0&&r.push({event:i,listeners:A})}var Ck=/\r\n?/g,Ek=/\u0000|\uFFFD/g;function Og(r){return(typeof r=="string"?r:""+r).replace(Ck,`
`).replace(Ek,"")}function ld(r,i,c){if(i=Og(i),Og(r)!==i&&c)throw Error(n(425))}function cd(){}var Qh=null,Gh=null;function Yh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,Tk=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,Ak=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(r){return Lg.resolve(null).then(r).catch(Pk)}:Xh;function Pk(r){setTimeout(function(){throw r})}function Zh(r,i){var c=i,h=0;do{var p=c.nextSibling;if(r.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(h===0){r.removeChild(p),ga(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=p}while(c);ga(i)}function Ka(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Ig(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Ro,Gl="__reactProps$"+Ro,va="__reactContainer$"+Ro,Jh="__reactEvents$"+Ro,Rk="__reactListeners$"+Ro,_k="__reactHandles$"+Ro;function Mi(r){var i=r[Yr];if(i)return i;for(var c=r.parentNode;c;){if(i=c[va]||c[Yr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=Ig(r);r!==null;){if(c=r[Yr])return c;r=Ig(r)}return i}r=c,c=r.parentNode}return null}function Yl(r){return r=r[Yr]||r[va],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _o(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function dd(r){return r[Gl]||null}var em=[],Oo=-1;function Va(r){return{current:r}}function Gt(r){0>Oo||(r.current=em[Oo],em[Oo]=null,Oo--)}function Ht(r,i){Oo++,em[Oo]=r.current,r.current=i}var Qa={},Zs=Va(Qa),kn=Va(!1),Di=Qa;function Lo(r,i){var c=r.type.contextTypes;if(!c)return Qa;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in c)p[w]=i[w];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function Sn(r){return r=r.childContextTypes,r!=null}function ud(){Gt(kn),Gt(Zs)}function Mg(r,i,c){if(Zs.current!==Qa)throw Error(n(168));Ht(Zs,i),Ht(kn,c)}function Dg(r,i,c){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(n(108,oe(r)||"Unknown",p));return Y({},c,h)}function hd(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Qa,Di=Zs.current,Ht(Zs,r),Ht(kn,kn.current),!0}function qg(r,i,c){var h=r.stateNode;if(!h)throw Error(n(169));c?(r=Dg(r,i,Di),h.__reactInternalMemoizedMergedChildContext=r,Gt(kn),Gt(Zs),Ht(Zs,r)):Gt(kn),Ht(kn,c)}var ya=null,md=!1,tm=!1;function $g(r){ya===null?ya=[r]:ya.push(r)}function Ok(r){md=!0,$g(r)}function Ga(){if(!tm&&ya!==null){tm=!0;var r=0,i=ct;try{var c=ya;for(ct=1;r<c.length;r++){var h=c[r];do h=h(!0);while(h!==null)}ya=null,md=!1}catch(p){throw ya!==null&&(ya=ya.slice(r+1)),J(ds,Ga),p}finally{ct=i,tm=!1}}return null}var Io=[],Mo=0,fd=null,pd=0,ar=[],ir=0,qi=null,ba=1,wa="";function $i(r,i){Io[Mo++]=pd,Io[Mo++]=fd,fd=r,pd=i}function Fg(r,i,c){ar[ir++]=ba,ar[ir++]=wa,ar[ir++]=qi,qi=r;var h=ba;r=wa;var p=32-cn(h)-1;h&=~(1<<p),c+=1;var w=32-cn(i)+p;if(30<w){var A=p-p%5;w=(h&(1<<A)-1).toString(32),h>>=A,p-=A,ba=1<<32-cn(i)+p|c<<p|h,wa=w+r}else ba=1<<w|c<<p|h,wa=r}function sm(r){r.return!==null&&($i(r,1),Fg(r,1,0))}function nm(r){for(;r===fd;)fd=Io[--Mo],Io[Mo]=null,pd=Io[--Mo],Io[Mo]=null;for(;r===qi;)qi=ar[--ir],ar[ir]=null,wa=ar[--ir],ar[ir]=null,ba=ar[--ir],ar[ir]=null}var zn=null,Un=null,ss=!1,Nr=null;function zg(r,i){var c=dr(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=r,i=r.deletions,i===null?(r.deletions=[c],r.flags|=16):i.push(c)}function Ug(r,i){switch(r.tag){case 5:var c=r.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,zn=r,Un=Ka(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,zn=r,Un=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=qi!==null?{id:ba,overflow:wa}:null,r.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=dr(18,null,null,0),c.stateNode=i,c.return=r,r.child=c,zn=r,Un=null,!0):!1;default:return!1}}function rm(r){return(r.mode&1)!==0&&(r.flags&128)===0}function am(r){if(ss){var i=Un;if(i){var c=i;if(!Ug(r,i)){if(rm(r))throw Error(n(418));i=Ka(c.nextSibling);var h=zn;i&&Ug(r,i)?zg(h,c):(r.flags=r.flags&-4097|2,ss=!1,zn=r)}}else{if(rm(r))throw Error(n(418));r.flags=r.flags&-4097|2,ss=!1,zn=r}}}function Bg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;zn=r}function xd(r){if(r!==zn)return!1;if(!ss)return Bg(r),ss=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Yh(r.type,r.memoizedProps)),i&&(i=Un)){if(rm(r))throw Hg(),Error(n(418));for(;i;)zg(r,i),i=Ka(i.nextSibling)}if(Bg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(i===0){Un=Ka(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}r=r.nextSibling}Un=null}}else Un=zn?Ka(r.stateNode.nextSibling):null;return!0}function Hg(){for(var r=Un;r;)r=Ka(r.nextSibling)}function Do(){Un=zn=null,ss=!1}function im(r){Nr===null?Nr=[r]:Nr.push(r)}var Lk=O.ReactCurrentBatchConfig;function Xl(r,i,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,r));var p=h,w=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(A){var B=p.refs;A===null?delete B[w]:B[w]=A},i._stringRef=w,i)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function gd(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Wg(r){var i=r._init;return i(r._payload)}function Kg(r){function i(ae,te){if(r){var ie=ae.deletions;ie===null?(ae.deletions=[te],ae.flags|=16):ie.push(te)}}function c(ae,te){if(!r)return null;for(;te!==null;)i(ae,te),te=te.sibling;return null}function h(ae,te){for(ae=new Map;te!==null;)te.key!==null?ae.set(te.key,te):ae.set(te.index,te),te=te.sibling;return ae}function p(ae,te){return ae=ni(ae,te),ae.index=0,ae.sibling=null,ae}function w(ae,te,ie){return ae.index=ie,r?(ie=ae.alternate,ie!==null?(ie=ie.index,ie<te?(ae.flags|=2,te):ie):(ae.flags|=2,te)):(ae.flags|=1048576,te)}function A(ae){return r&&ae.alternate===null&&(ae.flags|=2),ae}function B(ae,te,ie,Te){return te===null||te.tag!==6?(te=Xm(ie,ae.mode,Te),te.return=ae,te):(te=p(te,ie),te.return=ae,te)}function Z(ae,te,ie,Te){var Qe=ie.type;return Qe===K?je(ae,te,ie.props.children,Te,ie.key):te!==null&&(te.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Wg(Qe)===te.type)?(Te=p(te,ie.props),Te.ref=Xl(ae,te,ie),Te.return=ae,Te):(Te=zd(ie.type,ie.key,ie.props,null,ae.mode,Te),Te.ref=Xl(ae,te,ie),Te.return=ae,Te)}function ce(ae,te,ie,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==ie.containerInfo||te.stateNode.implementation!==ie.implementation?(te=Zm(ie,ae.mode,Te),te.return=ae,te):(te=p(te,ie.children||[]),te.return=ae,te)}function je(ae,te,ie,Te,Qe){return te===null||te.tag!==7?(te=Vi(ie,ae.mode,Te,Qe),te.return=ae,te):(te=p(te,ie),te.return=ae,te)}function Se(ae,te,ie){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Xm(""+te,ae.mode,ie),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case H:return ie=zd(te.type,te.key,te.props,null,ae.mode,ie),ie.ref=Xl(ae,null,te),ie.return=ae,ie;case se:return te=Zm(te,ae.mode,ie),te.return=ae,te;case F:var Te=te._init;return Se(ae,Te(te._payload),ie)}if(fs(te)||G(te))return te=Vi(te,ae.mode,ie,null),te.return=ae,te;gd(ae,te)}return null}function we(ae,te,ie,Te){var Qe=te!==null?te.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Qe!==null?null:B(ae,te,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case H:return ie.key===Qe?Z(ae,te,ie,Te):null;case se:return ie.key===Qe?ce(ae,te,ie,Te):null;case F:return Qe=ie._init,we(ae,te,Qe(ie._payload),Te)}if(fs(ie)||G(ie))return Qe!==null?null:je(ae,te,ie,Te,null);gd(ae,ie)}return null}function Oe(ae,te,ie,Te,Qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ae=ae.get(ie)||null,B(te,ae,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case H:return ae=ae.get(Te.key===null?ie:Te.key)||null,Z(te,ae,Te,Qe);case se:return ae=ae.get(Te.key===null?ie:Te.key)||null,ce(te,ae,Te,Qe);case F:var tt=Te._init;return Oe(ae,te,ie,tt(Te._payload),Qe)}if(fs(Te)||G(Te))return ae=ae.get(ie)||null,je(te,ae,Te,Qe,null);gd(te,Te)}return null}function ze(ae,te,ie,Te){for(var Qe=null,tt=null,st=te,it=te=0,qs=null;st!==null&&it<ie.length;it++){st.index>it?(qs=st,st=null):qs=st.sibling;var Nt=we(ae,st,ie[it],Te);if(Nt===null){st===null&&(st=qs);break}r&&st&&Nt.alternate===null&&i(ae,st),te=w(Nt,te,it),tt===null?Qe=Nt:tt.sibling=Nt,tt=Nt,st=qs}if(it===ie.length)return c(ae,st),ss&&$i(ae,it),Qe;if(st===null){for(;it<ie.length;it++)st=Se(ae,ie[it],Te),st!==null&&(te=w(st,te,it),tt===null?Qe=st:tt.sibling=st,tt=st);return ss&&$i(ae,it),Qe}for(st=h(ae,st);it<ie.length;it++)qs=Oe(st,ae,it,ie[it],Te),qs!==null&&(r&&qs.alternate!==null&&st.delete(qs.key===null?it:qs.key),te=w(qs,te,it),tt===null?Qe=qs:tt.sibling=qs,tt=qs);return r&&st.forEach(function(ri){return i(ae,ri)}),ss&&$i(ae,it),Qe}function He(ae,te,ie,Te){var Qe=G(ie);if(typeof Qe!="function")throw Error(n(150));if(ie=Qe.call(ie),ie==null)throw Error(n(151));for(var tt=Qe=null,st=te,it=te=0,qs=null,Nt=ie.next();st!==null&&!Nt.done;it++,Nt=ie.next()){st.index>it?(qs=st,st=null):qs=st.sibling;var ri=we(ae,st,Nt.value,Te);if(ri===null){st===null&&(st=qs);break}r&&st&&ri.alternate===null&&i(ae,st),te=w(ri,te,it),tt===null?Qe=ri:tt.sibling=ri,tt=ri,st=qs}if(Nt.done)return c(ae,st),ss&&$i(ae,it),Qe;if(st===null){for(;!Nt.done;it++,Nt=ie.next())Nt=Se(ae,Nt.value,Te),Nt!==null&&(te=w(Nt,te,it),tt===null?Qe=Nt:tt.sibling=Nt,tt=Nt);return ss&&$i(ae,it),Qe}for(st=h(ae,st);!Nt.done;it++,Nt=ie.next())Nt=Oe(st,ae,it,Nt.value,Te),Nt!==null&&(r&&Nt.alternate!==null&&st.delete(Nt.key===null?it:Nt.key),te=w(Nt,te,it),tt===null?Qe=Nt:tt.sibling=Nt,tt=Nt);return r&&st.forEach(function(m5){return i(ae,m5)}),ss&&$i(ae,it),Qe}function vs(ae,te,ie,Te){if(typeof ie=="object"&&ie!==null&&ie.type===K&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case H:e:{for(var Qe=ie.key,tt=te;tt!==null;){if(tt.key===Qe){if(Qe=ie.type,Qe===K){if(tt.tag===7){c(ae,tt.sibling),te=p(tt,ie.props.children),te.return=ae,ae=te;break e}}else if(tt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Wg(Qe)===tt.type){c(ae,tt.sibling),te=p(tt,ie.props),te.ref=Xl(ae,tt,ie),te.return=ae,ae=te;break e}c(ae,tt);break}else i(ae,tt);tt=tt.sibling}ie.type===K?(te=Vi(ie.props.children,ae.mode,Te,ie.key),te.return=ae,ae=te):(Te=zd(ie.type,ie.key,ie.props,null,ae.mode,Te),Te.ref=Xl(ae,te,ie),Te.return=ae,ae=Te)}return A(ae);case se:e:{for(tt=ie.key;te!==null;){if(te.key===tt)if(te.tag===4&&te.stateNode.containerInfo===ie.containerInfo&&te.stateNode.implementation===ie.implementation){c(ae,te.sibling),te=p(te,ie.children||[]),te.return=ae,ae=te;break e}else{c(ae,te);break}else i(ae,te);te=te.sibling}te=Zm(ie,ae.mode,Te),te.return=ae,ae=te}return A(ae);case F:return tt=ie._init,vs(ae,te,tt(ie._payload),Te)}if(fs(ie))return ze(ae,te,ie,Te);if(G(ie))return He(ae,te,ie,Te);gd(ae,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,te!==null&&te.tag===6?(c(ae,te.sibling),te=p(te,ie),te.return=ae,ae=te):(c(ae,te),te=Xm(ie,ae.mode,Te),te.return=ae,ae=te),A(ae)):c(ae,te)}return vs}var qo=Kg(!0),Vg=Kg(!1),vd=Va(null),yd=null,$o=null,om=null;function lm(){om=$o=yd=null}function cm(r){var i=vd.current;Gt(vd),r._currentValue=i}function dm(r,i,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===c)break;r=r.return}}function Fo(r,i){yd=r,om=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Cn=!0),r.firstContext=null)}function or(r){var i=r._currentValue;if(om!==r)if(r={context:r,memoizedValue:i,next:null},$o===null){if(yd===null)throw Error(n(308));$o=r,yd.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return i}var Fi=null;function um(r){Fi===null?Fi=[r]:Fi.push(r)}function Qg(r,i,c,h){var p=i.interleaved;return p===null?(c.next=c,um(i)):(c.next=p.next,p.next=c),i.interleaved=c,ja(r,h)}function ja(r,i){r.lanes|=i;var c=r.alternate;for(c!==null&&(c.lanes|=i),c=r,r=r.return;r!==null;)r.childLanes|=i,c=r.alternate,c!==null&&(c.childLanes|=i),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Ya=!1;function hm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Na(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Xa(r,i,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(jt&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,ja(r,c)}return p=h.interleaved,p===null?(i.next=i,um(h)):(i.next=p.next,p.next=i),h.interleaved=i,ja(r,c)}function bd(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,c|=h,i.lanes=c,br(r,c)}}function Yg(r,i){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?p=w=A:w=w.next=A,c=c.next}while(c!==null);w===null?p=w=i:w=w.next=i}else p=w=i;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:h.shared,effects:h.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}function wd(r,i,c,h){var p=r.updateQueue;Ya=!1;var w=p.firstBaseUpdate,A=p.lastBaseUpdate,B=p.shared.pending;if(B!==null){p.shared.pending=null;var Z=B,ce=Z.next;Z.next=null,A===null?w=ce:A.next=ce,A=Z;var je=r.alternate;je!==null&&(je=je.updateQueue,B=je.lastBaseUpdate,B!==A&&(B===null?je.firstBaseUpdate=ce:B.next=ce,je.lastBaseUpdate=Z))}if(w!==null){var Se=p.baseState;A=0,je=ce=Z=null,B=w;do{var we=B.lane,Oe=B.eventTime;if((h&we)===we){je!==null&&(je=je.next={eventTime:Oe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var ze=r,He=B;switch(we=i,Oe=c,He.tag){case 1:if(ze=He.payload,typeof ze=="function"){Se=ze.call(Oe,Se,we);break e}Se=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=He.payload,we=typeof ze=="function"?ze.call(Oe,Se,we):ze,we==null)break e;Se=Y({},Se,we);break e;case 2:Ya=!0}}B.callback!==null&&B.lane!==0&&(r.flags|=64,we=p.effects,we===null?p.effects=[B]:we.push(B))}else Oe={eventTime:Oe,lane:we,tag:B.tag,payload:B.payload,callback:B.callback,next:null},je===null?(ce=je=Oe,Z=Se):je=je.next=Oe,A|=we;if(B=B.next,B===null){if(B=p.shared.pending,B===null)break;we=B,B=we.next,we.next=null,p.lastBaseUpdate=we,p.shared.pending=null}}while(!0);if(je===null&&(Z=Se),p.baseState=Z,p.firstBaseUpdate=ce,p.lastBaseUpdate=je,i=p.shared.interleaved,i!==null){p=i;do A|=p.lane,p=p.next;while(p!==i)}else w===null&&(p.shared.lanes=0);Bi|=A,r.lanes=A,r.memoizedState=Se}}function Xg(r,i,c){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],p=h.callback;if(p!==null){if(h.callback=null,h=c,typeof p!="function")throw Error(n(191,p));p.call(h)}}}var Zl={},Xr=Va(Zl),Jl=Va(Zl),ec=Va(Zl);function zi(r){if(r===Zl)throw Error(n(174));return r}function mm(r,i){switch(Ht(ec,i),Ht(Jl,r),Ht(Xr,Zl),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:et(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=et(i,r)}Gt(Xr),Ht(Xr,i)}function zo(){Gt(Xr),Gt(Jl),Gt(ec)}function Zg(r){zi(ec.current);var i=zi(Xr.current),c=et(i,r.type);i!==c&&(Ht(Jl,r),Ht(Xr,c))}function fm(r){Jl.current===r&&(Gt(Xr),Gt(Jl))}var ns=Va(0);function jd(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pm=[];function xm(){for(var r=0;r<pm.length;r++)pm[r]._workInProgressVersionPrimary=null;pm.length=0}var Nd=O.ReactCurrentDispatcher,gm=O.ReactCurrentBatchConfig,Ui=0,rs=null,Ts=null,Ms=null,kd=!1,tc=!1,sc=0,Ik=0;function Js(){throw Error(n(321))}function vm(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!jr(r[c],i[c]))return!1;return!0}function ym(r,i,c,h,p,w){if(Ui=w,rs=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Nd.current=r===null||r.memoizedState===null?$k:Fk,r=c(h,p),tc){w=0;do{if(tc=!1,sc=0,25<=w)throw Error(n(301));w+=1,Ms=Ts=null,i.updateQueue=null,Nd.current=zk,r=c(h,p)}while(tc)}if(Nd.current=Ed,i=Ts!==null&&Ts.next!==null,Ui=0,Ms=Ts=rs=null,kd=!1,i)throw Error(n(300));return r}function bm(){var r=sc!==0;return sc=0,r}function Zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ms===null?rs.memoizedState=Ms=r:Ms=Ms.next=r,Ms}function lr(){if(Ts===null){var r=rs.alternate;r=r!==null?r.memoizedState:null}else r=Ts.next;var i=Ms===null?rs.memoizedState:Ms.next;if(i!==null)Ms=i,Ts=r;else{if(r===null)throw Error(n(310));Ts=r,r={memoizedState:Ts.memoizedState,baseState:Ts.baseState,baseQueue:Ts.baseQueue,queue:Ts.queue,next:null},Ms===null?rs.memoizedState=Ms=r:Ms=Ms.next=r}return Ms}function nc(r,i){return typeof i=="function"?i(r):i}function wm(r){var i=lr(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var h=Ts,p=h.baseQueue,w=c.pending;if(w!==null){if(p!==null){var A=p.next;p.next=w.next,w.next=A}h.baseQueue=p=w,c.pending=null}if(p!==null){w=p.next,h=h.baseState;var B=A=null,Z=null,ce=w;do{var je=ce.lane;if((Ui&je)===je)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),h=ce.hasEagerState?ce.eagerState:r(h,ce.action);else{var Se={lane:je,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(B=Z=Se,A=h):Z=Z.next=Se,rs.lanes|=je,Bi|=je}ce=ce.next}while(ce!==null&&ce!==w);Z===null?A=h:Z.next=B,jr(h,i.memoizedState)||(Cn=!0),i.memoizedState=h,i.baseState=A,i.baseQueue=Z,c.lastRenderedState=h}if(r=c.interleaved,r!==null){p=r;do w=p.lane,rs.lanes|=w,Bi|=w,p=p.next;while(p!==r)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function jm(r){var i=lr(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var h=c.dispatch,p=c.pending,w=i.memoizedState;if(p!==null){c.pending=null;var A=p=p.next;do w=r(w,A.action),A=A.next;while(A!==p);jr(w,i.memoizedState)||(Cn=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),c.lastRenderedState=w}return[w,h]}function Jg(){}function e0(r,i){var c=rs,h=lr(),p=i(),w=!jr(h.memoizedState,p);if(w&&(h.memoizedState=p,Cn=!0),h=h.queue,Nm(n0.bind(null,c,h,r),[r]),h.getSnapshot!==i||w||Ms!==null&&Ms.memoizedState.tag&1){if(c.flags|=2048,rc(9,s0.bind(null,c,h,p,i),void 0,null),Ds===null)throw Error(n(349));(Ui&30)!==0||t0(c,i,p)}return p}function t0(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=rs.updateQueue,i===null?(i={lastEffect:null,stores:null},rs.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function s0(r,i,c,h){i.value=c,i.getSnapshot=h,r0(i)&&a0(r)}function n0(r,i,c){return c(function(){r0(i)&&a0(r)})}function r0(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!jr(r,c)}catch{return!0}}function a0(r){var i=ja(r,1);i!==null&&Er(i,r,1,-1)}function i0(r){var i=Zr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:r},i.queue=r,r=r.dispatch=qk.bind(null,rs,r),[i.memoizedState,r]}function rc(r,i,c,h){return r={tag:r,create:i,destroy:c,deps:h,next:null},i=rs.updateQueue,i===null?(i={lastEffect:null,stores:null},rs.updateQueue=i,i.lastEffect=r.next=r):(c=i.lastEffect,c===null?i.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,i.lastEffect=r)),r}function o0(){return lr().memoizedState}function Sd(r,i,c,h){var p=Zr();rs.flags|=r,p.memoizedState=rc(1|i,c,void 0,h===void 0?null:h)}function Cd(r,i,c,h){var p=lr();h=h===void 0?null:h;var w=void 0;if(Ts!==null){var A=Ts.memoizedState;if(w=A.destroy,h!==null&&vm(h,A.deps)){p.memoizedState=rc(i,c,w,h);return}}rs.flags|=r,p.memoizedState=rc(1|i,c,w,h)}function l0(r,i){return Sd(8390656,8,r,i)}function Nm(r,i){return Cd(2048,8,r,i)}function c0(r,i){return Cd(4,2,r,i)}function d0(r,i){return Cd(4,4,r,i)}function u0(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function h0(r,i,c){return c=c!=null?c.concat([r]):null,Cd(4,4,u0.bind(null,i,r),c)}function km(){}function m0(r,i){var c=lr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&vm(i,h[1])?h[0]:(c.memoizedState=[r,i],r)}function f0(r,i){var c=lr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&vm(i,h[1])?h[0]:(r=r(),c.memoizedState=[r,i],r)}function p0(r,i,c){return(Ui&21)===0?(r.baseState&&(r.baseState=!1,Cn=!0),r.memoizedState=c):(jr(c,i)||(c=jo(),rs.lanes|=c,Bi|=c,r.baseState=!0),i)}function Mk(r,i){var c=ct;ct=c!==0&&4>c?c:4,r(!0);var h=gm.transition;gm.transition={};try{r(!1),i()}finally{ct=c,gm.transition=h}}function x0(){return lr().memoizedState}function Dk(r,i,c){var h=ti(r);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},g0(r))v0(i,c);else if(c=Qg(r,i,c,h),c!==null){var p=hn();Er(c,r,h,p),y0(c,i,h)}}function qk(r,i,c){var h=ti(r),p={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(g0(r))v0(i,p);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var A=i.lastRenderedState,B=w(A,c);if(p.hasEagerState=!0,p.eagerState=B,jr(B,A)){var Z=i.interleaved;Z===null?(p.next=p,um(i)):(p.next=Z.next,Z.next=p),i.interleaved=p;return}}catch{}c=Qg(r,i,p,h),c!==null&&(p=hn(),Er(c,r,h,p),y0(c,i,h))}}function g0(r){var i=r.alternate;return r===rs||i!==null&&i===rs}function v0(r,i){tc=kd=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function y0(r,i,c){if((c&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,c|=h,i.lanes=c,br(r,c)}}var Ed={readContext:or,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useInsertionEffect:Js,useLayoutEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useMutableSource:Js,useSyncExternalStore:Js,useId:Js,unstable_isNewReconciler:!1},$k={readContext:or,useCallback:function(r,i){return Zr().memoizedState=[r,i===void 0?null:i],r},useContext:or,useEffect:l0,useImperativeHandle:function(r,i,c){return c=c!=null?c.concat([r]):null,Sd(4194308,4,u0.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Sd(4194308,4,r,i)},useInsertionEffect:function(r,i){return Sd(4,2,r,i)},useMemo:function(r,i){var c=Zr();return i=i===void 0?null:i,r=r(),c.memoizedState=[r,i],r},useReducer:function(r,i,c){var h=Zr();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Dk.bind(null,rs,r),[h.memoizedState,r]},useRef:function(r){var i=Zr();return r={current:r},i.memoizedState=r},useState:i0,useDebugValue:km,useDeferredValue:function(r){return Zr().memoizedState=r},useTransition:function(){var r=i0(!1),i=r[0];return r=Mk.bind(null,r[1]),Zr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,c){var h=rs,p=Zr();if(ss){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),Ds===null)throw Error(n(349));(Ui&30)!==0||t0(h,i,c)}p.memoizedState=c;var w={value:c,getSnapshot:i};return p.queue=w,l0(n0.bind(null,h,w,r),[r]),h.flags|=2048,rc(9,s0.bind(null,h,w,c,i),void 0,null),c},useId:function(){var r=Zr(),i=Ds.identifierPrefix;if(ss){var c=wa,h=ba;c=(h&~(1<<32-cn(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=sc++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Ik++,i=":"+i+"r"+c.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Fk={readContext:or,useCallback:m0,useContext:or,useEffect:Nm,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:d0,useMemo:f0,useReducer:wm,useRef:o0,useState:function(){return wm(nc)},useDebugValue:km,useDeferredValue:function(r){var i=lr();return p0(i,Ts.memoizedState,r)},useTransition:function(){var r=wm(nc)[0],i=lr().memoizedState;return[r,i]},useMutableSource:Jg,useSyncExternalStore:e0,useId:x0,unstable_isNewReconciler:!1},zk={readContext:or,useCallback:m0,useContext:or,useEffect:Nm,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:d0,useMemo:f0,useReducer:jm,useRef:o0,useState:function(){return jm(nc)},useDebugValue:km,useDeferredValue:function(r){var i=lr();return Ts===null?i.memoizedState=r:p0(i,Ts.memoizedState,r)},useTransition:function(){var r=jm(nc)[0],i=lr().memoizedState;return[r,i]},useMutableSource:Jg,useSyncExternalStore:e0,useId:x0,unstable_isNewReconciler:!1};function kr(r,i){if(r&&r.defaultProps){i=Y({},i),r=r.defaultProps;for(var c in r)i[c]===void 0&&(i[c]=r[c]);return i}return i}function Sm(r,i,c,h){i=r.memoizedState,c=c(h,i),c=c==null?i:Y({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Td={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,i,c){r=r._reactInternals;var h=hn(),p=ti(r),w=Na(h,p);w.payload=i,c!=null&&(w.callback=c),i=Xa(r,w,p),i!==null&&(Er(i,r,p,h),bd(i,r,p))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var h=hn(),p=ti(r),w=Na(h,p);w.tag=1,w.payload=i,c!=null&&(w.callback=c),i=Xa(r,w,p),i!==null&&(Er(i,r,p,h),bd(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=hn(),h=ti(r),p=Na(c,h);p.tag=2,i!=null&&(p.callback=i),i=Xa(r,p,h),i!==null&&(Er(i,r,h,c),bd(i,r,h))}};function b0(r,i,c,h,p,w,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,A):i.prototype&&i.prototype.isPureReactComponent?!Hl(c,h)||!Hl(p,w):!0}function w0(r,i,c){var h=!1,p=Qa,w=i.contextType;return typeof w=="object"&&w!==null?w=or(w):(p=Sn(i)?Di:Zs.current,h=i.contextTypes,w=(h=h!=null)?Lo(r,p):Qa),i=new i(c,w),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Td,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=w),i}function j0(r,i,c,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==r&&Td.enqueueReplaceState(i,i.state,null)}function Cm(r,i,c,h){var p=r.stateNode;p.props=c,p.state=r.memoizedState,p.refs={},hm(r);var w=i.contextType;typeof w=="object"&&w!==null?p.context=or(w):(w=Sn(i)?Di:Zs.current,p.context=Lo(r,w)),p.state=r.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Sm(r,i,w,c),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Td.enqueueReplaceState(p,p.state,null),wd(r,c,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Uo(r,i){try{var c="",h=i;do c+=_(h),h=h.return;while(h);var p=c}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:i,stack:p,digest:null}}function Em(r,i,c){return{value:r,source:null,stack:c??null,digest:i??null}}function Tm(r,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Uk=typeof WeakMap=="function"?WeakMap:Map;function N0(r,i,c){c=Na(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){Id||(Id=!0,Bm=h),Tm(r,i)},c}function k0(r,i,c){c=Na(-1,c),c.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;c.payload=function(){return h(p)},c.callback=function(){Tm(r,i)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Tm(r,i),typeof h!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})}),c}function S0(r,i,c){var h=r.pingCache;if(h===null){h=r.pingCache=new Uk;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(c)||(p.add(c),r=s5.bind(null,r,i,c),i.then(r,r))}function C0(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function E0(r,i,c,h,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Na(-1,1),i.tag=2,Xa(c,i,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Bk=O.ReactCurrentOwner,Cn=!1;function un(r,i,c,h){i.child=r===null?Vg(i,null,c,h):qo(i,r.child,c,h)}function T0(r,i,c,h,p){c=c.render;var w=i.ref;return Fo(i,p),h=ym(r,i,c,h,w,p),c=bm(),r!==null&&!Cn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,ka(r,i,p)):(ss&&c&&sm(i),i.flags|=1,un(r,i,h,p),i.child)}function A0(r,i,c,h,p){if(r===null){var w=c.type;return typeof w=="function"&&!Ym(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=w,P0(r,i,w,h,p)):(r=zd(c.type,null,h,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(w=r.child,(r.lanes&p)===0){var A=w.memoizedProps;if(c=c.compare,c=c!==null?c:Hl,c(A,h)&&r.ref===i.ref)return ka(r,i,p)}return i.flags|=1,r=ni(w,h),r.ref=i.ref,r.return=i,i.child=r}function P0(r,i,c,h,p){if(r!==null){var w=r.memoizedProps;if(Hl(w,h)&&r.ref===i.ref)if(Cn=!1,i.pendingProps=h=w,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Cn=!0);else return i.lanes=r.lanes,ka(r,i,p)}return Am(r,i,c,h,p)}function R0(r,i,c){var h=i.pendingProps,p=h.children,w=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Ho,Bn),Bn|=c;else{if((c&1073741824)===0)return r=w!==null?w.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ht(Ho,Bn),Bn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,Ht(Ho,Bn),Bn|=h}else w!==null?(h=w.baseLanes|c,i.memoizedState=null):h=c,Ht(Ho,Bn),Bn|=h;return un(r,i,p,c),i.child}function _0(r,i){var c=i.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Am(r,i,c,h,p){var w=Sn(c)?Di:Zs.current;return w=Lo(i,w),Fo(i,p),c=ym(r,i,c,h,w,p),h=bm(),r!==null&&!Cn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,ka(r,i,p)):(ss&&h&&sm(i),i.flags|=1,un(r,i,c,p),i.child)}function O0(r,i,c,h,p){if(Sn(c)){var w=!0;hd(i)}else w=!1;if(Fo(i,p),i.stateNode===null)Pd(r,i),w0(i,c,h),Cm(i,c,h,p),h=!0;else if(r===null){var A=i.stateNode,B=i.memoizedProps;A.props=B;var Z=A.context,ce=c.contextType;typeof ce=="object"&&ce!==null?ce=or(ce):(ce=Sn(c)?Di:Zs.current,ce=Lo(i,ce));var je=c.getDerivedStateFromProps,Se=typeof je=="function"||typeof A.getSnapshotBeforeUpdate=="function";Se||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==h||Z!==ce)&&j0(i,A,h,ce),Ya=!1;var we=i.memoizedState;A.state=we,wd(i,h,A,p),Z=i.memoizedState,B!==h||we!==Z||kn.current||Ya?(typeof je=="function"&&(Sm(i,c,je,h),Z=i.memoizedState),(B=Ya||b0(i,c,B,h,we,Z,ce))?(Se||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=Z),A.props=h,A.state=Z,A.context=ce,h=B):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{A=i.stateNode,Gg(r,i),B=i.memoizedProps,ce=i.type===i.elementType?B:kr(i.type,B),A.props=ce,Se=i.pendingProps,we=A.context,Z=c.contextType,typeof Z=="object"&&Z!==null?Z=or(Z):(Z=Sn(c)?Di:Zs.current,Z=Lo(i,Z));var Oe=c.getDerivedStateFromProps;(je=typeof Oe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==Se||we!==Z)&&j0(i,A,h,Z),Ya=!1,we=i.memoizedState,A.state=we,wd(i,h,A,p);var ze=i.memoizedState;B!==Se||we!==ze||kn.current||Ya?(typeof Oe=="function"&&(Sm(i,c,Oe,h),ze=i.memoizedState),(ce=Ya||b0(i,c,ce,h,we,ze,Z)||!1)?(je||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,ze,Z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,ze,Z)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===r.memoizedProps&&we===r.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&we===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ze),A.props=h,A.state=ze,A.context=Z,h=ce):(typeof A.componentDidUpdate!="function"||B===r.memoizedProps&&we===r.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&we===r.memoizedState||(i.flags|=1024),h=!1)}return Pm(r,i,c,h,w,p)}function Pm(r,i,c,h,p,w){_0(r,i);var A=(i.flags&128)!==0;if(!h&&!A)return p&&qg(i,c,!1),ka(r,i,w);h=i.stateNode,Bk.current=i;var B=A&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&A?(i.child=qo(i,r.child,null,w),i.child=qo(i,null,B,w)):un(r,i,B,w),i.memoizedState=h.state,p&&qg(i,c,!0),i.child}function L0(r){var i=r.stateNode;i.pendingContext?Mg(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Mg(r,i.context,!1),mm(r,i.containerInfo)}function I0(r,i,c,h,p){return Do(),im(p),i.flags|=256,un(r,i,c,h),i.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function _m(r){return{baseLanes:r,cachePool:null,transitions:null}}function M0(r,i,c){var h=i.pendingProps,p=ns.current,w=!1,A=(i.flags&128)!==0,B;if((B=A)||(B=r!==null&&r.memoizedState===null?!1:(p&2)!==0),B?(w=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ht(ns,p&1),r===null)return am(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(A=h.children,r=h.fallback,w?(h=i.mode,w=i.child,A={mode:"hidden",children:A},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=A):w=Ud(A,h,0,null),r=Vi(r,h,c,null),w.return=i,r.return=i,w.sibling=r,i.child=w,i.child.memoizedState=_m(c),i.memoizedState=Rm,r):Om(i,A));if(p=r.memoizedState,p!==null&&(B=p.dehydrated,B!==null))return Hk(r,i,A,h,B,p,c);if(w){w=h.fallback,A=i.mode,p=r.child,B=p.sibling;var Z={mode:"hidden",children:h.children};return(A&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=Z,i.deletions=null):(h=ni(p,Z),h.subtreeFlags=p.subtreeFlags&14680064),B!==null?w=ni(B,w):(w=Vi(w,A,c,null),w.flags|=2),w.return=i,h.return=i,h.sibling=w,i.child=h,h=w,w=i.child,A=r.child.memoizedState,A=A===null?_m(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=r.childLanes&~c,i.memoizedState=Rm,h}return w=r.child,r=w.sibling,h=ni(w,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,r!==null&&(c=i.deletions,c===null?(i.deletions=[r],i.flags|=16):c.push(r)),i.child=h,i.memoizedState=null,h}function Om(r,i){return i=Ud({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ad(r,i,c,h){return h!==null&&im(h),qo(i,r.child,null,c),r=Om(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Hk(r,i,c,h,p,w,A){if(c)return i.flags&256?(i.flags&=-257,h=Em(Error(n(422))),Ad(r,i,A,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(w=h.fallback,p=i.mode,h=Ud({mode:"visible",children:h.children},p,0,null),w=Vi(w,p,A,null),w.flags|=2,h.return=i,w.return=i,h.sibling=w,i.child=h,(i.mode&1)!==0&&qo(i,r.child,null,A),i.child.memoizedState=_m(A),i.memoizedState=Rm,w);if((i.mode&1)===0)return Ad(r,i,A,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var B=h.dgst;return h=B,w=Error(n(419)),h=Em(w,h,void 0),Ad(r,i,A,h)}if(B=(A&r.childLanes)!==0,Cn||B){if(h=Ds,h!==null){switch(A&-A){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|A))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,ja(r,p),Er(h,r,p,-1))}return Gm(),h=Em(Error(n(421))),Ad(r,i,A,h)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=n5.bind(null,r),p._reactRetry=i,null):(r=w.treeContext,Un=Ka(p.nextSibling),zn=i,ss=!0,Nr=null,r!==null&&(ar[ir++]=ba,ar[ir++]=wa,ar[ir++]=qi,ba=r.id,wa=r.overflow,qi=i),i=Om(i,h.children),i.flags|=4096,i)}function D0(r,i,c){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),dm(r.return,i,c)}function Lm(r,i,c,h,p){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=p)}function q0(r,i,c){var h=i.pendingProps,p=h.revealOrder,w=h.tail;if(un(r,i,h.children,c),h=ns.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&D0(r,c,i);else if(r.tag===19)D0(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ht(ns,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)r=c.alternate,r!==null&&jd(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),Lm(i,!1,p,c,w);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&jd(r)===null){i.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}Lm(i,!0,c,null,w);break;case"together":Lm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pd(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function ka(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),Bi|=i.lanes,(c&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,c=ni(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=ni(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function Wk(r,i,c){switch(i.tag){case 3:L0(i),Do();break;case 5:Zg(i);break;case 1:Sn(i.type)&&hd(i);break;case 4:mm(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;Ht(vd,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ht(ns,ns.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?M0(r,i,c):(Ht(ns,ns.current&1),r=ka(r,i,c),r!==null?r.sibling:null);Ht(ns,ns.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(r.flags&128)!==0){if(h)return q0(r,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ht(ns,ns.current),h)break;return null;case 22:case 23:return i.lanes=0,R0(r,i,c)}return ka(r,i,c)}var $0,Im,F0,z0;$0=function(r,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Im=function(){},F0=function(r,i,c,h){var p=r.memoizedProps;if(p!==h){r=i.stateNode,zi(Xr.current);var w=null;switch(c){case"input":p=Xe(r,p),h=Xe(r,h),w=[];break;case"select":p=Y({},p,{value:void 0}),h=Y({},h,{value:void 0}),w=[];break;case"textarea":p=Pt(r,p),h=Pt(r,h),w=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=cd)}It(c,h);var A;c=null;for(ce in p)if(!h.hasOwnProperty(ce)&&p.hasOwnProperty(ce)&&p[ce]!=null)if(ce==="style"){var B=p[ce];for(A in B)B.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?w||(w=[]):(w=w||[]).push(ce,null));for(ce in h){var Z=h[ce];if(B=p?.[ce],h.hasOwnProperty(ce)&&Z!==B&&(Z!=null||B!=null))if(ce==="style")if(B){for(A in B)!B.hasOwnProperty(A)||Z&&Z.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in Z)Z.hasOwnProperty(A)&&B[A]!==Z[A]&&(c||(c={}),c[A]=Z[A])}else c||(w||(w=[]),w.push(ce,c)),c=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,B=B?B.__html:void 0,Z!=null&&B!==Z&&(w=w||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(w=w||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&Qt("scroll",r),w||B===Z||(w=[])):(w=w||[]).push(ce,Z))}c&&(w=w||[]).push("style",c);var ce=w;(i.updateQueue=ce)&&(i.flags|=4)}},z0=function(r,i,c,h){c!==h&&(i.flags|=4)};function ac(r,i){if(!ss)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function en(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(i)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=c,i}function Kk(r,i,c){var h=i.pendingProps;switch(nm(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return Sn(i.type)&&ud(),en(i),null;case 3:return h=i.stateNode,zo(),Gt(kn),Gt(Zs),xm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(xd(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nr!==null&&(Km(Nr),Nr=null))),Im(r,i),en(i),null;case 5:fm(i);var p=zi(ec.current);if(c=i.type,r!==null&&i.stateNode!=null)F0(r,i,c,h,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return en(i),null}if(r=zi(Xr.current),xd(i)){h=i.stateNode,c=i.type;var w=i.memoizedProps;switch(h[Yr]=i,h[Gl]=w,r=(i.mode&1)!==0,c){case"dialog":Qt("cancel",h),Qt("close",h);break;case"iframe":case"object":case"embed":Qt("load",h);break;case"video":case"audio":for(p=0;p<Kl.length;p++)Qt(Kl[p],h);break;case"source":Qt("error",h);break;case"img":case"image":case"link":Qt("error",h),Qt("load",h);break;case"details":Qt("toggle",h);break;case"input":ut(h,w),Qt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Qt("invalid",h);break;case"textarea":qt(h,w),Qt("invalid",h)}It(c,w),p=null;for(var A in w)if(w.hasOwnProperty(A)){var B=w[A];A==="children"?typeof B=="string"?h.textContent!==B&&(w.suppressHydrationWarning!==!0&&ld(h.textContent,B,r),p=["children",B]):typeof B=="number"&&h.textContent!==""+B&&(w.suppressHydrationWarning!==!0&&ld(h.textContent,B,r),p=["children",""+B]):o.hasOwnProperty(A)&&B!=null&&A==="onScroll"&&Qt("scroll",h)}switch(c){case"input":Ee(h),Ss(h,w,!0);break;case"textarea":Ee(h),le(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=cd)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{A=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_e(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=A.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=A.createElement(c,{is:h.is}):(r=A.createElement(c),c==="select"&&(A=r,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):r=A.createElementNS(r,c),r[Yr]=i,r[Gl]=h,$0(r,i,!1,!1),i.stateNode=r;e:{switch(A=Qs(c,h),c){case"dialog":Qt("cancel",r),Qt("close",r),p=h;break;case"iframe":case"object":case"embed":Qt("load",r),p=h;break;case"video":case"audio":for(p=0;p<Kl.length;p++)Qt(Kl[p],r);p=h;break;case"source":Qt("error",r),p=h;break;case"img":case"image":case"link":Qt("error",r),Qt("load",r),p=h;break;case"details":Qt("toggle",r),p=h;break;case"input":ut(r,h),p=Xe(r,h),Qt("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=Y({},h,{value:void 0}),Qt("invalid",r);break;case"textarea":qt(r,h),p=Pt(r,h),Qt("invalid",r);break;default:p=h}It(c,p),B=p;for(w in B)if(B.hasOwnProperty(w)){var Z=B[w];w==="style"?vt(r,Z):w==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&ls(r,Z)):w==="children"?typeof Z=="string"?(c!=="textarea"||Z!=="")&&$t(r,Z):typeof Z=="number"&&$t(r,""+Z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?Z!=null&&w==="onScroll"&&Qt("scroll",r):Z!=null&&T(r,w,Z,A))}switch(c){case"input":Ee(r),Ss(r,h,!1);break;case"textarea":Ee(r),le(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ue(h.value));break;case"select":r.multiple=!!h.multiple,w=h.value,w!=null?bs(r,!!h.multiple,w,!1):h.defaultValue!=null&&bs(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=cd)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return en(i),null;case 6:if(r&&i.stateNode!=null)z0(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(c=zi(ec.current),zi(Xr.current),xd(i)){if(h=i.stateNode,c=i.memoizedProps,h[Yr]=i,(w=h.nodeValue!==c)&&(r=zn,r!==null))switch(r.tag){case 3:ld(h.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ld(h.nodeValue,c,(r.mode&1)!==0)}w&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Yr]=i,i.stateNode=h}return en(i),null;case 13:if(Gt(ns),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ss&&Un!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Hg(),Do(),i.flags|=98560,w=!1;else if(w=xd(i),h!==null&&h.dehydrated!==null){if(r===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Yr]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),w=!1}else Nr!==null&&(Km(Nr),Nr=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(ns.current&1)!==0?As===0&&(As=3):Gm())),i.updateQueue!==null&&(i.flags|=4),en(i),null);case 4:return zo(),Im(r,i),r===null&&Vl(i.stateNode.containerInfo),en(i),null;case 10:return cm(i.type._context),en(i),null;case 17:return Sn(i.type)&&ud(),en(i),null;case 19:if(Gt(ns),w=i.memoizedState,w===null)return en(i),null;if(h=(i.flags&128)!==0,A=w.rendering,A===null)if(h)ac(w,!1);else{if(As!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(A=jd(r),A!==null){for(i.flags|=128,ac(w,!1),h=A.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)w=c,r=h,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,r=A.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Ht(ns,ns.current&1|2),i.child}r=r.sibling}w.tail!==null&&ot()>Wo&&(i.flags|=128,h=!0,ac(w,!1),i.lanes=4194304)}else{if(!h)if(r=jd(A),r!==null){if(i.flags|=128,h=!0,c=r.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ac(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!ss)return en(i),null}else 2*ot()-w.renderingStartTime>Wo&&c!==1073741824&&(i.flags|=128,h=!0,ac(w,!1),i.lanes=4194304);w.isBackwards?(A.sibling=i.child,i.child=A):(c=w.last,c!==null?c.sibling=A:i.child=A,w.last=A)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=ot(),i.sibling=null,c=ns.current,Ht(ns,h?c&1|2:c&1),i):(en(i),null);case 22:case 23:return Qm(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Bn&1073741824)!==0&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Vk(r,i){switch(nm(i),i.tag){case 1:return Sn(i.type)&&ud(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return zo(),Gt(kn),Gt(Zs),xm(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return fm(i),null;case 13:if(Gt(ns),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Do()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Gt(ns),null;case 4:return zo(),null;case 10:return cm(i.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var Rd=!1,tn=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Bo(r,i){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){hs(r,i,h)}else c.current=null}function Mm(r,i,c){try{c()}catch(h){hs(r,i,h)}}var U0=!1;function Gk(r,i){if(Qh=L,r=bg(),Fh(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var A=0,B=-1,Z=-1,ce=0,je=0,Se=r,we=null;t:for(;;){for(var Oe;Se!==c||p!==0&&Se.nodeType!==3||(B=A+p),Se!==w||h!==0&&Se.nodeType!==3||(Z=A+h),Se.nodeType===3&&(A+=Se.nodeValue.length),(Oe=Se.firstChild)!==null;)we=Se,Se=Oe;for(;;){if(Se===r)break t;if(we===c&&++ce===p&&(B=A),we===w&&++je===h&&(Z=A),(Oe=Se.nextSibling)!==null)break;Se=we,we=Se.parentNode}Se=Oe}c=B===-1||Z===-1?null:{start:B,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Gh={focusedElem:r,selectionRange:c},L=!1,qe=i;qe!==null;)if(i=qe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,qe=r;else for(;qe!==null;){i=qe;try{var ze=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var He=ze.memoizedProps,vs=ze.memoizedState,ae=i.stateNode,te=ae.getSnapshotBeforeUpdate(i.elementType===i.type?He:kr(i.type,He),vs);ae.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ie=i.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Te){hs(i,i.return,Te)}if(r=i.sibling,r!==null){r.return=i.return,qe=r;break}qe=i.return}return ze=U0,U0=!1,ze}function ic(r,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var w=p.destroy;p.destroy=void 0,w!==void 0&&Mm(i,c,w)}p=p.next}while(p!==h)}}function _d(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&r)===r){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function Dm(r){var i=r.ref;if(i!==null){var c=r.stateNode;r.tag,r=c,typeof i=="function"?i(r):i.current=r}}function B0(r){var i=r.alternate;i!==null&&(r.alternate=null,B0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Yr],delete i[Gl],delete i[Jh],delete i[Rk],delete i[_k])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function H0(r){return r.tag===5||r.tag===3||r.tag===4}function W0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||H0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qm(r,i,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(r,i):c.insertBefore(r,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(r,c)):(i=c,i.appendChild(r)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=cd));else if(h!==4&&(r=r.child,r!==null))for(qm(r,i,c),r=r.sibling;r!==null;)qm(r,i,c),r=r.sibling}function $m(r,i,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for($m(r,i,c),r=r.sibling;r!==null;)$m(r,i,c),r=r.sibling}var Bs=null,Sr=!1;function Za(r,i,c){for(c=c.child;c!==null;)K0(r,i,c),c=c.sibling}function K0(r,i,c){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(Dn,c)}catch{}switch(c.tag){case 5:tn||Bo(c,i);case 6:var h=Bs,p=Sr;Bs=null,Za(r,i,c),Bs=h,Sr=p,Bs!==null&&(Sr?(r=Bs,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):Bs.removeChild(c.stateNode));break;case 18:Bs!==null&&(Sr?(r=Bs,c=c.stateNode,r.nodeType===8?Zh(r.parentNode,c):r.nodeType===1&&Zh(r,c),ga(r)):Zh(Bs,c.stateNode));break;case 4:h=Bs,p=Sr,Bs=c.stateNode.containerInfo,Sr=!0,Za(r,i,c),Bs=h,Sr=p;break;case 0:case 11:case 14:case 15:if(!tn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var w=p,A=w.destroy;w=w.tag,A!==void 0&&((w&2)!==0||(w&4)!==0)&&Mm(c,i,A),p=p.next}while(p!==h)}Za(r,i,c);break;case 1:if(!tn&&(Bo(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(B){hs(c,i,B)}Za(r,i,c);break;case 21:Za(r,i,c);break;case 22:c.mode&1?(tn=(h=tn)||c.memoizedState!==null,Za(r,i,c),tn=h):Za(r,i,c);break;default:Za(r,i,c)}}function V0(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Qk),i.forEach(function(h){var p=r5.bind(null,r,h);c.has(h)||(c.add(h),h.then(p,p))})}}function Cr(r,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];try{var w=r,A=i,B=A;e:for(;B!==null;){switch(B.tag){case 5:Bs=B.stateNode,Sr=!1;break e;case 3:Bs=B.stateNode.containerInfo,Sr=!0;break e;case 4:Bs=B.stateNode.containerInfo,Sr=!0;break e}B=B.return}if(Bs===null)throw Error(n(160));K0(w,A,p),Bs=null,Sr=!1;var Z=p.alternate;Z!==null&&(Z.return=null),p.return=null}catch(ce){hs(p,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Q0(i,r),i=i.sibling}function Q0(r,i){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cr(i,r),Jr(r),h&4){try{ic(3,r,r.return),_d(3,r)}catch(He){hs(r,r.return,He)}try{ic(5,r,r.return)}catch(He){hs(r,r.return,He)}}break;case 1:Cr(i,r),Jr(r),h&512&&c!==null&&Bo(c,c.return);break;case 5:if(Cr(i,r),Jr(r),h&512&&c!==null&&Bo(c,c.return),r.flags&32){var p=r.stateNode;try{$t(p,"")}catch(He){hs(r,r.return,He)}}if(h&4&&(p=r.stateNode,p!=null)){var w=r.memoizedProps,A=c!==null?c.memoizedProps:w,B=r.type,Z=r.updateQueue;if(r.updateQueue=null,Z!==null)try{B==="input"&&w.type==="radio"&&w.name!=null&&is(p,w),Qs(B,A);var ce=Qs(B,w);for(A=0;A<Z.length;A+=2){var je=Z[A],Se=Z[A+1];je==="style"?vt(p,Se):je==="dangerouslySetInnerHTML"?ls(p,Se):je==="children"?$t(p,Se):T(p,je,Se,ce)}switch(B){case"input":os(p,w);break;case"textarea":bt(p,w);break;case"select":var we=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var Oe=w.value;Oe!=null?bs(p,!!w.multiple,Oe,!1):we!==!!w.multiple&&(w.defaultValue!=null?bs(p,!!w.multiple,w.defaultValue,!0):bs(p,!!w.multiple,w.multiple?[]:"",!1))}p[Gl]=w}catch(He){hs(r,r.return,He)}}break;case 6:if(Cr(i,r),Jr(r),h&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,w=r.memoizedProps;try{p.nodeValue=w}catch(He){hs(r,r.return,He)}}break;case 3:if(Cr(i,r),Jr(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ga(i.containerInfo)}catch(He){hs(r,r.return,He)}break;case 4:Cr(i,r),Jr(r);break;case 13:Cr(i,r),Jr(r),p=r.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(Um=ot())),h&4&&V0(r);break;case 22:if(je=c!==null&&c.memoizedState!==null,r.mode&1?(tn=(ce=tn)||je,Cr(i,r),tn=ce):Cr(i,r),Jr(r),h&8192){if(ce=r.memoizedState!==null,(r.stateNode.isHidden=ce)&&!je&&(r.mode&1)!==0)for(qe=r,je=r.child;je!==null;){for(Se=qe=je;qe!==null;){switch(we=qe,Oe=we.child,we.tag){case 0:case 11:case 14:case 15:ic(4,we,we.return);break;case 1:Bo(we,we.return);var ze=we.stateNode;if(typeof ze.componentWillUnmount=="function"){h=we,c=we.return;try{i=h,ze.props=i.memoizedProps,ze.state=i.memoizedState,ze.componentWillUnmount()}catch(He){hs(h,c,He)}}break;case 5:Bo(we,we.return);break;case 22:if(we.memoizedState!==null){X0(Se);continue}}Oe!==null?(Oe.return=we,qe=Oe):X0(Se)}je=je.sibling}e:for(je=null,Se=r;;){if(Se.tag===5){if(je===null){je=Se;try{p=Se.stateNode,ce?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(B=Se.stateNode,Z=Se.memoizedProps.style,A=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,B.style.display=Ye("display",A))}catch(He){hs(r,r.return,He)}}}else if(Se.tag===6){if(je===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch(He){hs(r,r.return,He)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===r)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===r)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===r)break e;je===Se&&(je=null),Se=Se.return}je===Se&&(je=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Cr(i,r),Jr(r),h&4&&V0(r);break;case 21:break;default:Cr(i,r),Jr(r)}}function Jr(r){var i=r.flags;if(i&2){try{e:{for(var c=r.return;c!==null;){if(H0(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&($t(p,""),h.flags&=-33);var w=W0(r);$m(r,w,p);break;case 3:case 4:var A=h.stateNode.containerInfo,B=W0(r);qm(r,B,A);break;default:throw Error(n(161))}}catch(Z){hs(r,r.return,Z)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Yk(r,i,c){qe=r,G0(r)}function G0(r,i,c){for(var h=(r.mode&1)!==0;qe!==null;){var p=qe,w=p.child;if(p.tag===22&&h){var A=p.memoizedState!==null||Rd;if(!A){var B=p.alternate,Z=B!==null&&B.memoizedState!==null||tn;B=Rd;var ce=tn;if(Rd=A,(tn=Z)&&!ce)for(qe=p;qe!==null;)A=qe,Z=A.child,A.tag===22&&A.memoizedState!==null?Z0(p):Z!==null?(Z.return=A,qe=Z):Z0(p);for(;w!==null;)qe=w,G0(w),w=w.sibling;qe=p,Rd=B,tn=ce}Y0(r)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,qe=w):Y0(r)}}function Y0(r){for(;qe!==null;){var i=qe;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:tn||_d(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!tn)if(c===null)h.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:kr(i.type,c.memoizedProps);h.componentDidUpdate(p,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&Xg(i,w,h);break;case 3:var A=i.updateQueue;if(A!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Xg(i,A,c)}break;case 5:var B=i.stateNode;if(c===null&&i.flags&4){c=B;var Z=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&c.focus();break;case"img":Z.src&&(c.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var je=ce.memoizedState;if(je!==null){var Se=je.dehydrated;Se!==null&&ga(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tn||i.flags&512&&Dm(i)}catch(we){hs(i,i.return,we)}}if(i===r){qe=null;break}if(c=i.sibling,c!==null){c.return=i.return,qe=c;break}qe=i.return}}function X0(r){for(;qe!==null;){var i=qe;if(i===r){qe=null;break}var c=i.sibling;if(c!==null){c.return=i.return,qe=c;break}qe=i.return}}function Z0(r){for(;qe!==null;){var i=qe;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{_d(4,i)}catch(Z){hs(i,c,Z)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(Z){hs(i,p,Z)}}var w=i.return;try{Dm(i)}catch(Z){hs(i,w,Z)}break;case 5:var A=i.return;try{Dm(i)}catch(Z){hs(i,A,Z)}}}catch(Z){hs(i,i.return,Z)}if(i===r){qe=null;break}var B=i.sibling;if(B!==null){B.return=i.return,qe=B;break}qe=i.return}}var Xk=Math.ceil,Od=O.ReactCurrentDispatcher,Fm=O.ReactCurrentOwner,cr=O.ReactCurrentBatchConfig,jt=0,Ds=null,js=null,Hs=0,Bn=0,Ho=Va(0),As=0,oc=null,Bi=0,Ld=0,zm=0,lc=null,En=null,Um=0,Wo=1/0,Sa=null,Id=!1,Bm=null,Ja=null,Md=!1,ei=null,Dd=0,cc=0,Hm=null,qd=-1,$d=0;function hn(){return(jt&6)!==0?ot():qd!==-1?qd:qd=ot()}function ti(r){return(r.mode&1)===0?1:(jt&2)!==0&&Hs!==0?Hs&-Hs:Lk.transition!==null?($d===0&&($d=jo()),$d):(r=ct,r!==0||(r=window.event,r=r===void 0?16:pt(r.type)),r)}function Er(r,i,c,h){if(50<cc)throw cc=0,Hm=null,Error(n(185));pa(r,c,h),((jt&2)===0||r!==Ds)&&(r===Ds&&((jt&2)===0&&(Ld|=c),As===4&&si(r,Hs)),Tn(r,h),c===1&&jt===0&&(i.mode&1)===0&&(Wo=ot()+500,md&&Ga()))}function Tn(r,i){var c=r.callbackNode;ql(r,i);var h=ma(r,r===Ds?Hs:0);if(h===0)c!==null&&ve(c),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(c!=null&&ve(c),i===1)r.tag===0?Ok(ev.bind(null,r)):$g(ev.bind(null,r)),Ak(function(){(jt&6)===0&&Ga()}),c=null;else{switch(sr(h)){case 1:c=ds;break;case 4:c=Es;break;case 16:c=Ys;break;case 536870912:c=Rt;break;default:c=Ys}c=lv(c,J0.bind(null,r))}r.callbackPriority=i,r.callbackNode=c}}function J0(r,i){if(qd=-1,$d=0,(jt&6)!==0)throw Error(n(327));var c=r.callbackNode;if(Ko()&&r.callbackNode!==c)return null;var h=ma(r,r===Ds?Hs:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Fd(r,h);else{i=h;var p=jt;jt|=2;var w=sv();(Ds!==r||Hs!==i)&&(Sa=null,Wo=ot()+500,Wi(r,i));do try{e5();break}catch(B){tv(r,B)}while(!0);lm(),Od.current=w,jt=p,js!==null?i=0:(Ds=null,Hs=0,i=As)}if(i!==0){if(i===2&&(p=Ai(r),p!==0&&(h=p,i=Wm(r,p))),i===1)throw c=oc,Wi(r,0),si(r,h),Tn(r,ot()),c;if(i===6)si(r,h);else{if(p=r.current.alternate,(h&30)===0&&!Zk(p)&&(i=Fd(r,h),i===2&&(w=Ai(r),w!==0&&(h=w,i=Wm(r,w))),i===1))throw c=oc,Wi(r,0),si(r,h),Tn(r,ot()),c;switch(r.finishedWork=p,r.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:Ki(r,En,Sa);break;case 3:if(si(r,h),(h&130023424)===h&&(i=Um+500-ot(),10<i)){if(ma(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){hn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Xh(Ki.bind(null,r,En,Sa),i);break}Ki(r,En,Sa);break;case 4:if(si(r,h),(h&4194240)===h)break;for(i=r.eventTimes,p=-1;0<h;){var A=31-cn(h);w=1<<A,A=i[A],A>p&&(p=A),h&=~w}if(h=p,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Xk(h/1960))-h,10<h){r.timeoutHandle=Xh(Ki.bind(null,r,En,Sa),h);break}Ki(r,En,Sa);break;case 5:Ki(r,En,Sa);break;default:throw Error(n(329))}}}return Tn(r,ot()),r.callbackNode===c?J0.bind(null,r):null}function Wm(r,i){var c=lc;return r.current.memoizedState.isDehydrated&&(Wi(r,i).flags|=256),r=Fd(r,i),r!==2&&(i=En,En=c,i!==null&&Km(i)),r}function Km(r){En===null?En=r:En.push.apply(En,r)}function Zk(r){for(var i=r;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var p=c[h],w=p.getSnapshot;p=p.value;try{if(!jr(w(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function si(r,i){for(i&=~zm,i&=~Ld,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var c=31-cn(i),h=1<<c;r[c]=-1,i&=~h}}function ev(r){if((jt&6)!==0)throw Error(n(327));Ko();var i=ma(r,0);if((i&1)===0)return Tn(r,ot()),null;var c=Fd(r,i);if(r.tag!==0&&c===2){var h=Ai(r);h!==0&&(i=h,c=Wm(r,h))}if(c===1)throw c=oc,Wi(r,0),si(r,i),Tn(r,ot()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ki(r,En,Sa),Tn(r,ot()),null}function Vm(r,i){var c=jt;jt|=1;try{return r(i)}finally{jt=c,jt===0&&(Wo=ot()+500,md&&Ga())}}function Hi(r){ei!==null&&ei.tag===0&&(jt&6)===0&&Ko();var i=jt;jt|=1;var c=cr.transition,h=ct;try{if(cr.transition=null,ct=1,r)return r()}finally{ct=h,cr.transition=c,jt=i,(jt&6)===0&&Ga()}}function Qm(){Bn=Ho.current,Gt(Ho)}function Wi(r,i){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Tk(c)),js!==null)for(c=js.return;c!==null;){var h=c;switch(nm(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ud();break;case 3:zo(),Gt(kn),Gt(Zs),xm();break;case 5:fm(h);break;case 4:zo();break;case 13:Gt(ns);break;case 19:Gt(ns);break;case 10:cm(h.type._context);break;case 22:case 23:Qm()}c=c.return}if(Ds=r,js=r=ni(r.current,null),Hs=Bn=i,As=0,oc=null,zm=Ld=Bi=0,En=lc=null,Fi!==null){for(i=0;i<Fi.length;i++)if(c=Fi[i],h=c.interleaved,h!==null){c.interleaved=null;var p=h.next,w=c.pending;if(w!==null){var A=w.next;w.next=p,h.next=A}c.pending=h}Fi=null}return r}function tv(r,i){do{var c=js;try{if(lm(),Nd.current=Ed,kd){for(var h=rs.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}kd=!1}if(Ui=0,Ms=Ts=rs=null,tc=!1,sc=0,Fm.current=null,c===null||c.return===null){As=1,oc=i,js=null;break}e:{var w=r,A=c.return,B=c,Z=i;if(i=Hs,B.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,je=B,Se=je.tag;if((je.mode&1)===0&&(Se===0||Se===11||Se===15)){var we=je.alternate;we?(je.updateQueue=we.updateQueue,je.memoizedState=we.memoizedState,je.lanes=we.lanes):(je.updateQueue=null,je.memoizedState=null)}var Oe=C0(A);if(Oe!==null){Oe.flags&=-257,E0(Oe,A,B,w,i),Oe.mode&1&&S0(w,ce,i),i=Oe,Z=ce;var ze=i.updateQueue;if(ze===null){var He=new Set;He.add(Z),i.updateQueue=He}else ze.add(Z);break e}else{if((i&1)===0){S0(w,ce,i),Gm();break e}Z=Error(n(426))}}else if(ss&&B.mode&1){var vs=C0(A);if(vs!==null){(vs.flags&65536)===0&&(vs.flags|=256),E0(vs,A,B,w,i),im(Uo(Z,B));break e}}w=Z=Uo(Z,B),As!==4&&(As=2),lc===null?lc=[w]:lc.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var ae=N0(w,Z,i);Yg(w,ae);break e;case 1:B=Z;var te=w.type,ie=w.stateNode;if((w.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Ja===null||!Ja.has(ie)))){w.flags|=65536,i&=-i,w.lanes|=i;var Te=k0(w,B,i);Yg(w,Te);break e}}w=w.return}while(w!==null)}rv(c)}catch(Qe){i=Qe,js===c&&c!==null&&(js=c=c.return);continue}break}while(!0)}function sv(){var r=Od.current;return Od.current=Ed,r===null?Ed:r}function Gm(){(As===0||As===3||As===2)&&(As=4),Ds===null||(Bi&268435455)===0&&(Ld&268435455)===0||si(Ds,Hs)}function Fd(r,i){var c=jt;jt|=2;var h=sv();(Ds!==r||Hs!==i)&&(Sa=null,Wi(r,i));do try{Jk();break}catch(p){tv(r,p)}while(!0);if(lm(),jt=c,Od.current=h,js!==null)throw Error(n(261));return Ds=null,Hs=0,As}function Jk(){for(;js!==null;)nv(js)}function e5(){for(;js!==null&&!Me();)nv(js)}function nv(r){var i=ov(r.alternate,r,Bn);r.memoizedProps=r.pendingProps,i===null?rv(r):js=i,Fm.current=null}function rv(r){var i=r;do{var c=i.alternate;if(r=i.return,(i.flags&32768)===0){if(c=Kk(c,i,Bn),c!==null){js=c;return}}else{if(c=Vk(c,i),c!==null){c.flags&=32767,js=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{As=6,js=null;return}}if(i=i.sibling,i!==null){js=i;return}js=i=r}while(i!==null);As===0&&(As=5)}function Ki(r,i,c){var h=ct,p=cr.transition;try{cr.transition=null,ct=1,t5(r,i,c,h)}finally{cr.transition=p,ct=h}return null}function t5(r,i,c,h){do Ko();while(ei!==null);if((jt&6)!==0)throw Error(n(327));c=r.finishedWork;var p=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var w=c.lanes|c.childLanes;if($l(r,w),r===Ds&&(js=Ds=null,Hs=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Md||(Md=!0,lv(Ys,function(){return Ko(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=cr.transition,cr.transition=null;var A=ct;ct=1;var B=jt;jt|=4,Fm.current=null,Gk(r,c),Q0(c,r),wk(Gh),L=!!Qh,Gh=Qh=null,r.current=c,Yk(c),Mt(),jt=B,ct=A,cr.transition=w}else r.current=c;if(Md&&(Md=!1,ei=r,Dd=p),w=r.pendingLanes,w===0&&(Ja=null),Ll(c.stateNode),Tn(r,ot()),i!==null)for(h=r.onRecoverableError,c=0;c<i.length;c++)p=i[c],h(p.value,{componentStack:p.stack,digest:p.digest});if(Id)throw Id=!1,r=Bm,Bm=null,r;return(Dd&1)!==0&&r.tag!==0&&Ko(),w=r.pendingLanes,(w&1)!==0?r===Hm?cc++:(cc=0,Hm=r):cc=0,Ga(),null}function Ko(){if(ei!==null){var r=sr(Dd),i=cr.transition,c=ct;try{if(cr.transition=null,ct=16>r?16:r,ei===null)var h=!1;else{if(r=ei,ei=null,Dd=0,(jt&6)!==0)throw Error(n(331));var p=jt;for(jt|=4,qe=r.current;qe!==null;){var w=qe,A=w.child;if((qe.flags&16)!==0){var B=w.deletions;if(B!==null){for(var Z=0;Z<B.length;Z++){var ce=B[Z];for(qe=ce;qe!==null;){var je=qe;switch(je.tag){case 0:case 11:case 15:ic(8,je,w)}var Se=je.child;if(Se!==null)Se.return=je,qe=Se;else for(;qe!==null;){je=qe;var we=je.sibling,Oe=je.return;if(B0(je),je===ce){qe=null;break}if(we!==null){we.return=Oe,qe=we;break}qe=Oe}}}var ze=w.alternate;if(ze!==null){var He=ze.child;if(He!==null){ze.child=null;do{var vs=He.sibling;He.sibling=null,He=vs}while(He!==null)}}qe=w}}if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,qe=A;else e:for(;qe!==null;){if(w=qe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ic(9,w,w.return)}var ae=w.sibling;if(ae!==null){ae.return=w.return,qe=ae;break e}qe=w.return}}var te=r.current;for(qe=te;qe!==null;){A=qe;var ie=A.child;if((A.subtreeFlags&2064)!==0&&ie!==null)ie.return=A,qe=ie;else e:for(A=te;qe!==null;){if(B=qe,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:_d(9,B)}}catch(Qe){hs(B,B.return,Qe)}if(B===A){qe=null;break e}var Te=B.sibling;if(Te!==null){Te.return=B.return,qe=Te;break e}qe=B.return}}if(jt=p,Ga(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(Dn,r)}catch{}h=!0}return h}finally{ct=c,cr.transition=i}}return!1}function av(r,i,c){i=Uo(c,i),i=N0(r,i,1),r=Xa(r,i,1),i=hn(),r!==null&&(pa(r,1,i),Tn(r,i))}function hs(r,i,c){if(r.tag===3)av(r,r,c);else for(;i!==null;){if(i.tag===3){av(i,r,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ja===null||!Ja.has(h))){r=Uo(c,r),r=k0(i,r,1),i=Xa(i,r,1),r=hn(),i!==null&&(pa(i,1,r),Tn(i,r));break}}i=i.return}}function s5(r,i,c){var h=r.pingCache;h!==null&&h.delete(i),i=hn(),r.pingedLanes|=r.suspendedLanes&c,Ds===r&&(Hs&c)===c&&(As===4||As===3&&(Hs&130023424)===Hs&&500>ot()-Um?Wi(r,0):zm|=c),Tn(r,i)}function iv(r,i){i===0&&((r.mode&1)===0?i=1:(i=tr,tr<<=1,(tr&130023424)===0&&(tr=4194304)));var c=hn();r=ja(r,i),r!==null&&(pa(r,i,c),Tn(r,c))}function n5(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),iv(r,c)}function r5(r,i){var c=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),iv(r,c)}var ov;ov=function(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps||kn.current)Cn=!0;else{if((r.lanes&c)===0&&(i.flags&128)===0)return Cn=!1,Wk(r,i,c);Cn=(r.flags&131072)!==0}else Cn=!1,ss&&(i.flags&1048576)!==0&&Fg(i,pd,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Pd(r,i),r=i.pendingProps;var p=Lo(i,Zs.current);Fo(i,c),p=ym(null,i,h,r,p,c);var w=bm();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Sn(h)?(w=!0,hd(i)):w=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,hm(i),p.updater=Td,i.stateNode=p,p._reactInternals=i,Cm(i,h,r,c),i=Pm(null,i,h,!0,w,c)):(i.tag=0,ss&&w&&sm(i),un(null,i,p,c),i=i.child),i;case 16:h=i.elementType;e:{switch(Pd(r,i),r=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=i5(h),r=kr(h,r),p){case 0:i=Am(null,i,h,r,c);break e;case 1:i=O0(null,i,h,r,c);break e;case 11:i=T0(null,i,h,r,c);break e;case 14:i=A0(null,i,h,kr(h.type,r),c);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:kr(h,p),Am(r,i,h,p,c);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:kr(h,p),O0(r,i,h,p,c);case 3:e:{if(L0(i),r===null)throw Error(n(387));h=i.pendingProps,w=i.memoizedState,p=w.element,Gg(r,i),wd(i,h,null,c);var A=i.memoizedState;if(h=A.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){p=Uo(Error(n(423)),i),i=I0(r,i,h,c,p);break e}else if(h!==p){p=Uo(Error(n(424)),i),i=I0(r,i,h,c,p);break e}else for(Un=Ka(i.stateNode.containerInfo.firstChild),zn=i,ss=!0,Nr=null,c=Vg(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Do(),h===p){i=ka(r,i,c);break e}un(r,i,h,c)}i=i.child}return i;case 5:return Zg(i),r===null&&am(i),h=i.type,p=i.pendingProps,w=r!==null?r.memoizedProps:null,A=p.children,Yh(h,p)?A=null:w!==null&&Yh(h,w)&&(i.flags|=32),_0(r,i),un(r,i,A,c),i.child;case 6:return r===null&&am(i),null;case 13:return M0(r,i,c);case 4:return mm(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=qo(i,null,h,c):un(r,i,h,c),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:kr(h,p),T0(r,i,h,p,c);case 7:return un(r,i,i.pendingProps,c),i.child;case 8:return un(r,i,i.pendingProps.children,c),i.child;case 12:return un(r,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,w=i.memoizedProps,A=p.value,Ht(vd,h._currentValue),h._currentValue=A,w!==null)if(jr(w.value,A)){if(w.children===p.children&&!kn.current){i=ka(r,i,c);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var B=w.dependencies;if(B!==null){A=w.child;for(var Z=B.firstContext;Z!==null;){if(Z.context===h){if(w.tag===1){Z=Na(-1,c&-c),Z.tag=2;var ce=w.updateQueue;if(ce!==null){ce=ce.shared;var je=ce.pending;je===null?Z.next=Z:(Z.next=je.next,je.next=Z),ce.pending=Z}}w.lanes|=c,Z=w.alternate,Z!==null&&(Z.lanes|=c),dm(w.return,c,i),B.lanes|=c;break}Z=Z.next}}else if(w.tag===10)A=w.type===i.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(n(341));A.lanes|=c,B=A.alternate,B!==null&&(B.lanes|=c),dm(A,c,i),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===i){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}un(r,i,p.children,c),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,Fo(i,c),p=or(p),h=h(p),i.flags|=1,un(r,i,h,c),i.child;case 14:return h=i.type,p=kr(h,i.pendingProps),p=kr(h.type,p),A0(r,i,h,p,c);case 15:return P0(r,i,i.type,i.pendingProps,c);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:kr(h,p),Pd(r,i),i.tag=1,Sn(h)?(r=!0,hd(i)):r=!1,Fo(i,c),w0(i,h,p),Cm(i,h,p,c),Pm(null,i,h,!0,r,c);case 19:return q0(r,i,c);case 22:return R0(r,i,c)}throw Error(n(156,i.tag))};function lv(r,i){return J(r,i)}function a5(r,i,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,i,c,h){return new a5(r,i,c,h)}function Ym(r){return r=r.prototype,!(!r||!r.isReactComponent)}function i5(r){if(typeof r=="function")return Ym(r)?1:0;if(r!=null){if(r=r.$$typeof,r===X)return 11;if(r===ne)return 14}return 2}function ni(r,i){var c=r.alternate;return c===null?(c=dr(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function zd(r,i,c,h,p,w){var A=2;if(h=r,typeof r=="function")Ym(r)&&(A=1);else if(typeof r=="string")A=5;else e:switch(r){case K:return Vi(c.children,p,w,i);case re:A=8,p|=8;break;case W:return r=dr(12,c,i,p|2),r.elementType=W,r.lanes=w,r;case $:return r=dr(13,c,i,p),r.elementType=$,r.lanes=w,r;case Q:return r=dr(19,c,i,p),r.elementType=Q,r.lanes=w,r;case C:return Ud(c,p,w,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case me:A=10;break e;case I:A=9;break e;case X:A=11;break e;case ne:A=14;break e;case F:A=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=dr(A,c,i,p),i.elementType=r,i.type=h,i.lanes=w,i}function Vi(r,i,c,h){return r=dr(7,r,h,i),r.lanes=c,r}function Ud(r,i,c,h){return r=dr(22,r,h,i),r.elementType=C,r.lanes=c,r.stateNode={isHidden:!1},r}function Xm(r,i,c){return r=dr(6,r,null,i),r.lanes=c,r}function Zm(r,i,c){return i=dr(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function o5(r,i,c,h,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Jm(r,i,c,h,p,w,A,B,Z){return r=new o5(r,i,c,B,Z),i===1?(i=1,w===!0&&(i|=8)):i=0,w=dr(3,null,null,i),r.current=w,w.stateNode=r,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},hm(w),r}function l5(r,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:h==null?null:""+h,children:r,containerInfo:i,implementation:c}}function cv(r){if(!r)return Qa;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Sn(c))return Dg(r,c,i)}return i}function dv(r,i,c,h,p,w,A,B,Z){return r=Jm(c,h,!0,r,p,w,A,B,Z),r.context=cv(null),c=r.current,h=hn(),p=ti(c),w=Na(h,p),w.callback=i??null,Xa(c,w,p),r.current.lanes=p,pa(r,p,h),Tn(r,h),r}function Bd(r,i,c,h){var p=i.current,w=hn(),A=ti(p);return c=cv(c),i.context===null?i.context=c:i.pendingContext=c,i=Na(w,A),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=Xa(p,i,A),r!==null&&(Er(r,p,A,w),bd(r,p,A)),A}function Hd(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function uv(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function ef(r,i){uv(r,i),(r=r.alternate)&&uv(r,i)}function c5(){return null}var hv=typeof reportError=="function"?reportError:function(r){console.error(r)};function tf(r){this._internalRoot=r}Wd.prototype.render=tf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Bd(r,i,null,null)},Wd.prototype.unmount=tf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Hi(function(){Bd(null,r,null,null)}),i[va]=null}};function Wd(r){this._internalRoot=r}Wd.prototype.unstable_scheduleHydration=function(r){if(r){var i=No();r={blockedOn:null,target:r,priority:i};for(var c=0;c<Nn.length&&i!==0&&i<Nn[c].priority;c++);Nn.splice(c,0,r),c===0&&Oi(r)}};function sf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Kd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function mv(){}function d5(r,i,c,h,p){if(p){if(typeof h=="function"){var w=h;h=function(){var ce=Hd(A);w.call(ce)}}var A=dv(i,h,r,0,null,!1,!1,"",mv);return r._reactRootContainer=A,r[va]=A.current,Vl(r.nodeType===8?r.parentNode:r),Hi(),A}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var B=h;h=function(){var ce=Hd(Z);B.call(ce)}}var Z=Jm(r,0,!1,null,null,!1,!1,"",mv);return r._reactRootContainer=Z,r[va]=Z.current,Vl(r.nodeType===8?r.parentNode:r),Hi(function(){Bd(i,Z,c,h)}),Z}function Vd(r,i,c,h,p){var w=c._reactRootContainer;if(w){var A=w;if(typeof p=="function"){var B=p;p=function(){var Z=Hd(A);B.call(Z)}}Bd(i,A,r,p)}else A=d5(c,i,r,p,h);return Hd(A)}nr=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var c=Vr(i.pendingLanes);c!==0&&(br(i,c|1),Tn(i,ot()),(jt&6)===0&&(Wo=ot()+500,Ga()))}break;case 13:Hi(function(){var h=ja(r,1);if(h!==null){var p=hn();Er(h,r,1,p)}}),ef(r,1)}},Pi=function(r){if(r.tag===13){var i=ja(r,134217728);if(i!==null){var c=hn();Er(i,r,134217728,c)}ef(r,134217728)}},qn=function(r){if(r.tag===13){var i=ti(r),c=ja(r,i);if(c!==null){var h=hn();Er(c,r,i,h)}ef(r,i)}},No=function(){return ct},ko=function(r,i){var c=ct;try{return ct=r,i()}finally{ct=c}},an=function(r,i,c){switch(i){case"input":if(os(r,c),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==r&&h.form===r.form){var p=dd(h);if(!p)throw Error(n(90));De(h),os(h,p)}}}break;case"textarea":bt(r,c);break;case"select":i=c.value,i!=null&&bs(r,!!c.multiple,i,!1)}},zt=Vm,on=Hi;var u5={usingClientEntryPoint:!1,Events:[Yl,_o,dd,Zn,Ur,Vm]},dc={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h5={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=$a(r),r===null?null:r.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||c5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Dn=Qd.inject(h5),zs=Qd}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u5,An.createPortal=function(r,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(i))throw Error(n(200));return l5(r,i,null,c)},An.createRoot=function(r,i){if(!sf(r))throw Error(n(299));var c=!1,h="",p=hv;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Jm(r,1,!1,null,null,c,!1,h,p),r[va]=i.current,Vl(r.nodeType===8?r.parentNode:r),new tf(i)},An.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=$a(i),r=r===null?null:r.stateNode,r},An.flushSync=function(r){return Hi(r)},An.hydrate=function(r,i,c){if(!Kd(i))throw Error(n(200));return Vd(null,r,i,!0,c)},An.hydrateRoot=function(r,i,c){if(!sf(r))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,p=!1,w="",A=hv;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),i=dv(i,null,r,1,c??null,p,!1,w,A),r[va]=i.current,Vl(r),h)for(r=0;r<h.length;r++)c=h[r],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new Wd(i)},An.render=function(r,i,c){if(!Kd(i))throw Error(n(200));return Vd(null,r,i,!1,c)},An.unmountComponentAtNode=function(r){if(!Kd(r))throw Error(n(40));return r._reactRootContainer?(Hi(function(){Vd(null,null,r,!1,function(){r._reactRootContainer=null,r[va]=null})}),!0):!1},An.unstable_batchedUpdates=Vm,An.unstable_renderSubtreeIntoContainer=function(r,i,c,h){if(!Kd(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Vd(r,i,c,!1,h)},An.version="18.3.1-next-f1338f8080-20240426",An}var wv;function bb(){if(wv)return af.exports;wv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),af.exports=w5(),af.exports}var jv;function j5(){if(jv)return Gd;jv=1;var s=bb();return Gd.createRoot=s.createRoot,Gd.hydrateRoot=s.hydrateRoot,Gd}var N5=j5(),x=eh();const rt=Kc(x),Gp=p5({__proto__:null,default:rt},[x]);function k5(s,t){if(s instanceof RegExp)return{keys:!1,pattern:s};var n,a,o,l,d=[],u="",m=s.split("/");for(m[0]||m.shift();o=m.shift();)n=o[0],n==="*"?(d.push(n),u+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=o.indexOf("?",1),l=o.indexOf(".",1),d.push(o.substring(1,~a?a:~l?l:o.length)),u+=~a&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(u+=(~a?"?":"")+"\\"+o.substring(l))):u+="/"+o;return{keys:d,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var cf={exports:{}},df={};var Nv;function S5(){if(Nv)return df;Nv=1;var s=eh();function t(v,g){return v===g&&(v!==0||1/v===1/g)||v!==v&&g!==g}var n=typeof Object.is=="function"?Object.is:t,a=s.useState,o=s.useEffect,l=s.useLayoutEffect,d=s.useDebugValue;function u(v,g){var N=g(),S=a({inst:{value:N,getSnapshot:g}}),b=S[0].inst,k=S[1];return l(function(){b.value=N,b.getSnapshot=g,m(b)&&k({inst:b})},[v,N,g]),o(function(){return m(b)&&k({inst:b}),v(function(){m(b)&&k({inst:b})})},[v]),d(N),N}function m(v){var g=v.getSnapshot;v=v.value;try{var N=g();return!n(v,N)}catch{return!0}}function f(v,g){return g()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return df.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:y,df}var kv;function C5(){return kv||(kv=1,cf.exports=S5()),cf.exports}var wb=C5();const E5=Gp.useInsertionEffect,T5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A5=T5?x.useLayoutEffect:x.useEffect,P5=E5||A5,jb=s=>{const t=x.useRef([s,(...n)=>t[0](...n)]).current;return P5(()=>{t[0]=s}),t[1]},R5="popstate",Yp="pushState",Xp="replaceState",_5="hashchange",Sv=[R5,Yp,Xp,_5],O5=s=>{for(const t of Sv)addEventListener(t,s);return()=>{for(const t of Sv)removeEventListener(t,s)}},Nb=(s,t)=>wb.useSyncExternalStore(O5,s,t),L5=()=>location.search,I5=({ssrSearch:s=""}={})=>Nb(L5,()=>s),Cv=()=>location.pathname,M5=({ssrPath:s}={})=>Nb(Cv,s?()=>s:Cv),D5=(s,{replace:t=!1,state:n=null}={})=>history[t?Xp:Yp](n,"",s),q5=(s={})=>[M5(s),D5],Ev=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ev]>"u"){for(const s of[Yp,Xp]){const t=history[s];history[s]=function(){const n=t.apply(this,arguments),a=new Event(s);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,Ev,{value:!0})}const $5=(s,t)=>t.toLowerCase().indexOf(s.toLowerCase())?"~"+t:t.slice(s.length)||"/",kb=(s="")=>s==="/"?"":s,F5=(s,t)=>s[0]==="~"?s.slice(1):kb(t)+s,z5=(s="",t)=>$5(Zf(kb(s)),Zf(t)),U5=s=>s[0]==="?"?s.slice(1):s,Zf=s=>{try{return decodeURI(s)}catch{return s}},B5=s=>Zf(U5(s)),Sb={hook:q5,searchHook:I5,parser:k5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:s=>s},Cb=x.createContext(Sb),mo=()=>x.useContext(Cb),Eb={},Tb=x.createContext(Eb),th=()=>x.useContext(Tb),sh=s=>{const[t,n]=s.hook(s);return[z5(s.base,t),jb((a,o)=>n(F5(a,s.base),o))]},Ab=()=>sh(mo()),H5=()=>{const s=mo();return B5(s.searchHook(s))},Zp=(s,t,n,a)=>{const{pattern:o,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:s(t||"*",a),d=o.exec(n)||[],[u,...m]=d;return u!==void 0?[!0,(()=>{const f=l!==!1?Object.fromEntries(l.map((v,g)=>[v,m[g]])):d.groups;let y={...m};return f&&Object.assign(y,f),y})(),...a?[u]:[]]:[!1,null]},W5=s=>Zp(mo().parser,s,Ab()[0]),K5=({children:s,...t})=>{const n=mo(),a=t.hook?Sb:n;let o=a;const[l,d]=t.ssrPath?.split("?")??[];d&&(t.ssrSearch=d,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let u=x.useRef({}),m=u.current,f=m;for(let y in a){const v=y==="base"?a[y]+(t[y]||""):t[y]||a[y];m===f&&v!==f[y]&&(u.current=f={...f}),f[y]=v,v!==a[y]&&(o=f)}return x.createElement(Cb.Provider,{value:o,children:s})},Tv=({children:s,component:t},n)=>t?x.createElement(t,{params:n}):typeof s=="function"?s(n):s,V5=s=>{let t=x.useRef(Eb),n=t.current;for(const a in s)s[a]!==n[a]&&(n=s);return Object.keys(s).length===0&&(n=s),t.current=n},Dt=({path:s,nest:t,match:n,...a})=>{const o=mo(),[l]=sh(o),[d,u,m]=n??Zp(o.parser,s,l,t),f=V5({...th(),...u});if(!d)return null;const y=m?x.createElement(K5,{base:m},Tv(a,f)):Tv(a,f);return x.createElement(Tb.Provider,{value:f,children:y})},Pn=x.forwardRef((s,t)=>{const n=mo(),[a,o]=sh(n),{to:l="",href:d=l,onClick:u,asChild:m,children:f,className:y,replace:v,state:g,...N}=s,S=jb(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(u?.(k),k.defaultPrevented||(k.preventDefault(),o(d,s)))}),b=n.hrefs(d[0]==="~"?d.slice(1):n.base+d,n);return m&&x.isValidElement(f)?x.cloneElement(f,{onClick:S,href:b}):x.createElement("a",{...N,onClick:S,href:b,className:y?.call?y(a===d):y,children:f,ref:t})}),Pb=s=>Array.isArray(s)?s.flatMap(t=>Pb(t&&t.type===x.Fragment?t.props.children:t)):[s],Rb=({children:s,location:t})=>{const n=mo(),[a]=sh(n);for(const o of Pb(s)){let l=0;if(x.isValidElement(o)&&(l=Zp(n.parser,o.props.path,t||a,o.props.nest))[0])return x.cloneElement(o,{match:l})}return null};var jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eo=typeof window>"u"||"Deno"in globalThis;function ur(){}function Q5(s,t){return typeof s=="function"?s(t):s}function Jf(s){return typeof s=="number"&&s>=0&&s!==1/0}function _b(s,t){return Math.max(s+(t||0)-Date.now(),0)}function nl(s,t){return typeof s=="function"?s(t):s}function Rr(s,t){return typeof s=="function"?s(t):s}function Av(s,t){const{type:n="all",exact:a,fetchStatus:o,predicate:l,queryKey:d,stale:u}=s;if(d){if(a){if(t.queryHash!==Jp(d,t.options))return!1}else if(!Lc(t.queryKey,d))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||o&&o!==t.state.fetchStatus||l&&!l(t))}function Pv(s,t){const{exact:n,status:a,predicate:o,mutationKey:l}=s;if(l){if(!t.options.mutationKey)return!1;if(n){if(to(t.options.mutationKey)!==to(l))return!1}else if(!Lc(t.options.mutationKey,l))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function Jp(s,t){return(t?.queryKeyHashFn||to)(s)}function to(s){return JSON.stringify(s,(t,n)=>ep(n)?Object.keys(n).sort().reduce((a,o)=>(a[o]=n[o],a),{}):n)}function Lc(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Lc(s[n],t[n])):!1}function Ob(s,t){if(s===t)return s;const n=Rv(s)&&Rv(t);if(n||ep(s)&&ep(t)){const a=n?s:Object.keys(s),o=a.length,l=n?t:Object.keys(t),d=l.length,u=n?[]:{};let m=0;for(let f=0;f<d;f++){const y=n?f:l[f];(!n&&a.includes(y)||n)&&s[y]===void 0&&t[y]===void 0?(u[y]=void 0,m++):(u[y]=Ob(s[y],t[y]),u[y]===s[y]&&s[y]!==void 0&&m++)}return o===d&&m===o?s:u}return t}function Pu(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const n in s)if(s[n]!==t[n])return!1;return!0}function Rv(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function ep(s){if(!_v(s))return!1;const t=s.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!_v(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function _v(s){return Object.prototype.toString.call(s)==="[object Object]"}function G5(s){return new Promise(t=>{setTimeout(t,s)})}function tp(s,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,t):n.structuralSharing!==!1?Ob(s,t):t}function Y5(s,t,n=0){const a=[...s,t];return n&&a.length>n?a.slice(1):a}function X5(s,t,n=0){const a=[t,...s];return n&&a.length>n?a.slice(0,-1):a}var ex=Symbol();function Lb(s,t){return!s.queryFn&&t?.initialPromise?()=>t.initialPromise:!s.queryFn||s.queryFn===ex?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Z5=class extends jl{#e;#t;#n;constructor(){super(),this.#n=s=>{if(!eo&&window.addEventListener){const t=()=>s();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(t=>{t(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},tx=new Z5,J5=class extends jl{#e=!0;#t;#n;constructor(){super(),this.#n=s=>{if(!eo&&window.addEventListener){const t=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(n=>{n(s)}))}isOnline(){return this.#e}},Ru=new J5;function sp(){let s,t;const n=new Promise((o,l)=>{s=o,t=l});n.status="pending",n.catch(()=>{});function a(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{a({status:"fulfilled",value:o}),s(o)},n.reject=o=>{a({status:"rejected",reason:o}),t(o)},n}function eS(s){return Math.min(1e3*2**s,3e4)}function Ib(s){return(s??"online")==="online"?Ru.isOnline():!0}var Mb=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function uf(s){return s instanceof Mb}function Db(s){let t=!1,n=0,a=!1,o;const l=sp(),d=b=>{a||(g(new Mb(b)),s.abort?.())},u=()=>{t=!0},m=()=>{t=!1},f=()=>tx.isFocused()&&(s.networkMode==="always"||Ru.isOnline())&&s.canRun(),y=()=>Ib(s.networkMode)&&s.canRun(),v=b=>{a||(a=!0,s.onSuccess?.(b),o?.(),l.resolve(b))},g=b=>{a||(a=!0,s.onError?.(b),o?.(),l.reject(b))},N=()=>new Promise(b=>{o=k=>{(a||f())&&b(k)},s.onPause?.()}).then(()=>{o=void 0,a||s.onContinue?.()}),S=()=>{if(a)return;let b;const k=n===0?s.initialPromise:void 0;try{b=k??s.fn()}catch(P){b=Promise.reject(P)}Promise.resolve(b).then(v).catch(P=>{if(a)return;const R=s.retry??(eo?0:3),T=s.retryDelay??eS,O=typeof T=="function"?T(n,P):T,H=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,P);if(t||!H){g(P);return}n++,s.onFail?.(n,P),G5(O).then(()=>f()?void 0:N()).then(()=>{t?g(P):S()})})};return{promise:l,cancel:d,continue:()=>(o?.(),l),cancelRetry:u,continueRetry:m,canStart:y,start:()=>(y()?S():N().then(S),l)}}function tS(){let s=[],t=0,n=u=>{u()},a=u=>{u()},o=u=>setTimeout(u,0);const l=u=>{t?s.push(u):o(()=>{n(u)})},d=()=>{const u=s;s=[],u.length&&o(()=>{a(()=>{u.forEach(m=>{n(m)})})})};return{batch:u=>{let m;t++;try{m=u()}finally{t--,t||d()}return m},batchCalls:u=>(...m)=>{l(()=>{u(...m)})},schedule:l,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{o=u}}}var Rs=tS(),qb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jf(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(eo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},sS=class extends qb{#e;#t;#n;#s;#i;#a;constructor(s){super(),this.#a=!1,this.#i=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#n=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=nS(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(s){this.options={...this.#i,...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(s,t){const n=tp(this.state.data,s,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(s,t){this.#r({type:"setState",state:s,setStateOptions:t})}cancel(s){const t=this.#s?.promise;return this.#s?.cancel(s),t?t.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>Rr(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ex||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!_b(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(t=>t!==s),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(s,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(s&&this.setOptions(s),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},o=()=>{const u=Lb(this.options,t),m={queryKey:this.queryKey,meta:this.meta};return a(m),this.#a=!1,this.options.persister?this.options.persister(u,m,this):u(m)},l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta});const d=u=>{uf(u)&&u.silent||this.#r({type:"error",error:u}),uf(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#s=Db({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(m){d(m);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:d,onFail:(u,m)=>{this.#r({type:"failed",failureCount:u,error:m})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#s.start()}#r(s){const t=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$b(n.data,this.options),fetchMeta:s.meta??null};case"success":return{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return uf(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=t(this.state),Rs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:s})})}};function $b(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ib(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function nS(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,n=t!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rS=class extends jl{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,t,n){const a=t.queryKey,o=t.queryHash??Jp(a,t);let l=this.get(o);return l||(l=new sS({cache:this,queryKey:a,queryHash:o,options:s.defaultQueryOptions(t),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const t=this.#e.get(s.queryHash);t&&(s.destroy(),t===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Rs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const t={exact:!0,...s};return this.getAll().find(n=>Av(t,n))}findAll(s={}){const t=this.getAll();return Object.keys(s).length>0?t.filter(n=>Av(s,n)):t}notify(s){Rs.batch(()=>{this.listeners.forEach(t=>{t(s)})})}onFocus(){Rs.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Rs.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},aS=class extends qb{#e;#t;#n;constructor(s){super(),this.mutationId=s.mutationId,this.#t=s.mutationCache,this.#e=[],this.state=s.state||Fb(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#e.includes(s)||(this.#e.push(s),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#e=this.#e.filter(t=>t!==s),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(s){this.#n=Db({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#s({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#n.canStart();try{if(!t){this.#s({type:"pending",variables:s,isPaused:n}),await this.#t.config.onMutate?.(s,this);const o=await this.options.onMutate?.(s);o!==this.state.context&&this.#s({type:"pending",context:o,variables:s,isPaused:n})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,s,this.state.context,this),await this.options.onSuccess?.(a,s,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,s,this.state.context),this.#s({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,s,this.state.context,this),await this.options.onError?.(a,s,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,s,this.state.context),a}finally{this.#s({type:"error",error:a})}}finally{this.#t.runNext(this)}}#s(s){const t=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Rs.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(s)}),this.#t.notify({mutation:this,type:"updated",action:s})})}};function Fb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iS=class extends jl{constructor(s={}){super(),this.config=s,this.#e=new Map,this.#t=Date.now()}#e;#t;build(s,t,n){const a=new aS({mutationCache:this,mutationId:++this.#t,options:s.defaultMutationOptions(t),state:n});return this.add(a),a}add(s){const t=Yd(s),n=this.#e.get(t)??[];n.push(s),this.#e.set(t,n),this.notify({type:"added",mutation:s})}remove(s){const t=Yd(s);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(a=>a!==s);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:s})}canRun(s){const t=this.#e.get(Yd(s))?.find(n=>n.state.status==="pending");return!t||t===s}runNext(s){return this.#e.get(Yd(s))?.find(n=>n!==s&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Rs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}getAll(){return[...this.#e.values()].flat()}find(s){const t={exact:!0,...s};return this.getAll().find(n=>Pv(t,n))}findAll(s={}){return this.getAll().filter(t=>Pv(s,t))}notify(s){Rs.batch(()=>{this.listeners.forEach(t=>{t(s)})})}resumePausedMutations(){const s=this.getAll().filter(t=>t.state.isPaused);return Rs.batch(()=>Promise.all(s.map(t=>t.continue().catch(ur))))}};function Yd(s){return s.options.scope?.id??String(s.mutationId)}function Ov(s){return{onFetch:(t,n)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},m=0;const f=async()=>{let y=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=Lb(t.options,t.fetchOptions),N=async(S,b,k)=>{if(y)return Promise.reject();if(b==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:t.queryKey,pageParam:b,direction:k?"backward":"forward",meta:t.options.meta};v(P);const R=await g(P),{maxPages:T}=t.options,O=k?X5:Y5;return{pages:O(S.pages,R,T),pageParams:O(S.pageParams,b,T)}};if(o&&l.length){const S=o==="backward",b=S?oS:Lv,k={pages:l,pageParams:d},P=b(a,k);u=await N(k,P,S)}else{const S=s??l.length;do{const b=m===0?d[0]??a.initialPageParam:Lv(a,u);if(m>0&&b==null)break;u=await N(u,b),m++}while(m<S)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=f}}}function Lv(s,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?s.getNextPageParam(t[a],t,n[a],n):void 0}function oS(s,{pages:t,pageParams:n}){return t.length>0?s.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var lS=class{#e;#t;#n;#s;#i;#a;#r;#o;constructor(s={}){this.#e=s.queryCache||new rS,this.#t=s.mutationCache||new iS,this.#n=s.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#r=tx.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Ru.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#r?.(),this.#r=void 0,this.#o?.(),this.#o=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(s){const t=this.getQueryData(s.queryKey);if(t===void 0)return this.fetchQuery(s);{const n=this.defaultQueryOptions(s),a=this.#e.build(this,n);return s.revalidateIfStale&&a.isStaleByTime(nl(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(s,t,n){const a=this.defaultQueryOptions({queryKey:s}),l=this.#e.get(a.queryHash)?.state.data,d=Q5(t,l);if(d!==void 0)return this.#e.build(this,a).setData(d,{...n,manual:!0})}setQueriesData(s,t,n){return Rs.batch(()=>this.#e.findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state}removeQueries(s){const t=this.#e;Rs.batch(()=>{t.findAll(s).forEach(n=>{t.remove(n)})})}resetQueries(s,t){const n=this.#e,a={type:"active",...s};return Rs.batch(()=>(n.findAll(s).forEach(o=>{o.reset()}),this.refetchQueries(a,t)))}cancelQueries(s={},t={}){const n={revert:!0,...t},a=Rs.batch(()=>this.#e.findAll(s).map(o=>o.cancel(n)));return Promise.all(a).then(ur).catch(ur)}invalidateQueries(s={},t={}){return Rs.batch(()=>{if(this.#e.findAll(s).forEach(a=>{a.invalidate()}),s.refetchType==="none")return Promise.resolve();const n={...s,type:s.refetchType??s.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(s={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},a=Rs.batch(()=>this.#e.findAll(s).filter(o=>!o.isDisabled()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(ur)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(ur)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(nl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(ur).catch(ur)}fetchInfiniteQuery(s){return s.behavior=Ov(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(ur).catch(ur)}ensureInfiniteQueryData(s){return s.behavior=Ov(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Ru.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(s){this.#n=s}setQueryDefaults(s,t){this.#s.set(to(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...this.#s.values()];let n={};return t.forEach(a=>{Lc(s,a.queryKey)&&(n={...n,...a.defaultOptions})}),n}setMutationDefaults(s,t){this.#i.set(to(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...this.#i.values()];let n={};return t.forEach(a=>{Lc(s,a.mutationKey)&&(n={...n,...a.defaultOptions})}),n}defaultQueryOptions(s){if(s._defaulted)return s;const t={...this.#n.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=Jp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ex&&(t.enabled=!1),t}defaultMutationOptions(s){return s?._defaulted?s:{...this.#n.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},cS=class extends jl{constructor(s,t){super(),this.options=t,this.#e=s,this.#o=null,this.#r=sp(),this.options.experimental_prefetchInRender||this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#a;#r;#o;#p;#h;#m;#c;#d;#l;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Iv(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return np(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return np(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(s,t){const n=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),n._defaulted&&!Pu(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Mv(this.#t,a,this.options,n)&&this.#u(),this.updateResult(t),o&&(this.#t!==a||Rr(this.options.enabled,this.#t)!==Rr(n.enabled,this.#t)||nl(this.options.staleTime,this.#t)!==nl(n.staleTime,this.#t))&&this.#x();const l=this.#g();o&&(this.#t!==a||Rr(this.options.enabled,this.#t)!==Rr(n.enabled,this.#t)||l!==this.#l)&&this.#v(l)}getOptimisticResult(s){const t=this.#e.getQueryCache().build(this.#e,s),n=this.createResult(t,s);return uS(this,n)&&(this.#s=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(s,t){const n={};return Object.keys(s).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),t?.(a),s[a])})}),n}trackProp(s){this.#f.add(s)}getCurrentQuery(){return this.#t}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const t=this.#e.defaultQueryOptions(s),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(s){return this.#u({...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#u(s){this.#j();let t=this.#t.fetch(this.options,s);return s?.throwOnError||(t=t.catch(ur)),t}#x(){this.#b();const s=nl(this.options.staleTime,this.#t);if(eo||this.#s.isStale||!Jf(s))return;const n=_b(this.#s.dataUpdatedAt,s)+1;this.#c=setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(s){this.#w(),this.#l=s,!(eo||Rr(this.options.enabled,this.#t)===!1||!Jf(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||tx.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(s,t){const n=this.#t,a=this.options,o=this.#s,l=this.#i,d=this.#a,m=s!==n?s.state:this.#n,{state:f}=s;let y={...f},v=!1,g;if(t._optimisticResults){const K=this.hasListeners(),re=!K&&Iv(s,t),W=K&&Mv(s,n,t,a);(re||W)&&(y={...y,...$b(f.data,s.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:N,errorUpdatedAt:S,status:b}=y;if(t.select&&y.data!==void 0)if(o&&y.data===l?.data&&t.select===this.#p)g=this.#h;else try{this.#p=t.select,g=t.select(y.data),g=tp(o?.data,g,t),this.#h=g,this.#o=null}catch(K){this.#o=K}else g=y.data;if(t.placeholderData!==void 0&&g===void 0&&b==="pending"){let K;if(o?.isPlaceholderData&&t.placeholderData===d?.placeholderData)K=o.data;else if(K=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,t.select&&K!==void 0)try{K=t.select(K),this.#o=null}catch(re){this.#o=re}K!==void 0&&(b="success",g=tp(o?.data,K,t),v=!0)}this.#o&&(N=this.#o,g=this.#h,S=Date.now(),b="error");const k=y.fetchStatus==="fetching",P=b==="pending",R=b==="error",T=P&&k,O=g!==void 0,se={status:b,fetchStatus:y.fetchStatus,isPending:P,isSuccess:b==="success",isError:R,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:y.dataUpdatedAt,error:N,errorUpdatedAt:S,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>m.dataUpdateCount||y.errorUpdateCount>m.errorUpdateCount,isFetching:k,isRefetching:k&&!P,isLoadingError:R&&!O,isPaused:y.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:R&&O,isStale:sx(s,t),refetch:this.refetch,promise:this.#r};if(this.options.experimental_prefetchInRender){const K=me=>{se.status==="error"?me.reject(se.error):se.data!==void 0&&me.resolve(se.data)},re=()=>{const me=this.#r=se.promise=sp();K(me)},W=this.#r;switch(W.status){case"pending":s.queryHash===n.queryHash&&K(W);break;case"fulfilled":(se.status==="error"||se.data!==W.value)&&re();break;case"rejected":(se.status!=="error"||se.error!==W.reason)&&re();break}}return se}updateResult(s){const t=this.#s,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#m=this.#t),Pu(n,t))return;this.#s=n;const a={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,d=typeof l=="function"?l():l;if(d==="all"||!d&&!this.#f.size)return!0;const u=new Set(d??this.#f);return this.options.throwOnError&&u.add("error"),Object.keys(this.#s).some(m=>{const f=m;return this.#s[f]!==t[f]&&u.has(f)})};s?.listeners!==!1&&o()&&(a.listeners=!0),this.#N({...a,...s})}#j(){const s=this.#e.getQueryCache().build(this.#e,this.options);if(s===this.#t)return;const t=this.#t;this.#t=s,this.#n=s.state,this.hasListeners()&&(t?.removeObserver(this),s.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(s){Rs.batch(()=>{s.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function dS(s,t){return Rr(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Iv(s,t){return dS(s,t)||s.state.data!==void 0&&np(s,t,t.refetchOnMount)}function np(s,t,n){if(Rr(t.enabled,s)!==!1){const a=typeof n=="function"?n(s):n;return a==="always"||a!==!1&&sx(s,t)}return!1}function Mv(s,t,n,a){return(s!==t||Rr(a.enabled,s)===!1)&&(!n.suspense||s.state.status!=="error")&&sx(s,n)}function sx(s,t){return Rr(t.enabled,s)!==!1&&s.isStaleByTime(nl(t.staleTime,s))}function uS(s,t){return!Pu(s.getCurrentResult(),t)}var hS=class extends jl{#e;#t=void 0;#n;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Pu(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&to(n.mutationKey)!==to(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(t,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??Fb();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Rs.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,a=this.#t.context;t?.type==="success"?(this.#s.onSuccess?.(t.data,n,a),this.#s.onSettled?.(t.data,null,n,a)):t?.type==="error"&&(this.#s.onError?.(t.error,n,a),this.#s.onSettled?.(void 0,t.error,n,a))}this.listeners.forEach(n=>{n(this.#t)})})}},zb=x.createContext(void 0),nx=s=>{const t=x.useContext(zb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mS=({client:s,children:t})=>(x.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(zb.Provider,{value:s,children:t})),Ub=x.createContext(!1),fS=()=>x.useContext(Ub);Ub.Provider;function pS(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var xS=x.createContext(pS()),gS=()=>x.useContext(xS);function Bb(s,t){return typeof s=="function"?s(...t):!!s}function rp(){}var vS=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},yS=s=>{x.useEffect(()=>{s.clearReset()},[s])},bS=({result:s,errorResetBoundary:t,throwOnError:n,query:a})=>s.isError&&!t.isReset()&&!s.isFetching&&a&&Bb(n,[s.error,a]),wS=s=>{s.suspense&&(s.staleTime===void 0&&(s.staleTime=1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},jS=(s,t)=>s.isLoading&&s.isFetching&&!t,NS=(s,t)=>s?.suspense&&t.isPending,Dv=(s,t,n)=>t.fetchOptimistic(s).catch(()=>{n.clearReset()});function kS(s,t,n){const a=nx(),o=fS(),l=gS(),d=a.defaultQueryOptions(s);a.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=o?"isRestoring":"optimistic",wS(d),vS(d,l),yS(l);const u=!a.getQueryCache().get(d.queryHash),[m]=x.useState(()=>new t(a,d)),f=m.getOptimisticResult(d);if(x.useSyncExternalStore(x.useCallback(y=>{const v=o?rp:m.subscribe(Rs.batchCalls(y));return m.updateResult(),v},[m,o]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),x.useEffect(()=>{m.setOptions(d,{listeners:!1})},[d,m]),NS(d,f))throw Dv(d,m,l);if(bS({result:f,errorResetBoundary:l,throwOnError:d.throwOnError,query:a.getQueryCache().get(d.queryHash)}))throw f.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(d,f),d.experimental_prefetchInRender&&!eo&&jS(f,o)&&(u?Dv(d,m,l):a.getQueryCache().get(d.queryHash)?.promise)?.catch(rp).finally(()=>{m.updateResult()}),d.notifyOnChangeProps?f:m.trackResult(f)}function Ie(s,t){return kS(s,cS)}function Re(s,t){const n=nx(),[a]=x.useState(()=>new hS(n,s));x.useEffect(()=>{a.setOptions(s)},[a,s]);const o=x.useSyncExternalStore(x.useCallback(d=>a.subscribe(Rs.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=x.useCallback((d,u)=>{a.mutate(d,u).catch(rp)},[a]);if(o.error&&Bb(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function Hb(s){if(!s.ok){const t=await s.text()||s.statusText;throw new Error(`${s.status}: ${t}`)}}async function Ae(s,t,n){const a=await fetch(t,{method:s,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Hb(a),a}const SS=({on401:s})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await Hb(n),await n.json()},be=new lS({defaultOptions:{queries:{queryFn:SS({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),CS=1,ES=1e6;let hf=0;function TS(){return hf=(hf+1)%Number.MAX_SAFE_INTEGER,hf.toString()}const mf=new Map,qv=s=>{if(mf.has(s))return;const t=setTimeout(()=>{mf.delete(s),Ec({type:"REMOVE_TOAST",toastId:s})},ES);mf.set(s,t)},AS=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,CS)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?qv(n):s.toasts.forEach(a=>{qv(a.id)}),{...s,toasts:s.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(n=>n.id!==t.toastId)}}},bu=[];let wu={toasts:[]};function Ec(s){wu=AS(wu,s),bu.forEach(t=>{t(wu)})}function PS({...s}){const t=TS(),n=o=>Ec({type:"UPDATE_TOAST",toast:{...o,id:t}}),a=()=>Ec({type:"DISMISS_TOAST",toastId:t});return Ec({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:o=>{o||a()}}}),{id:t,dismiss:a,update:n}}function gt(){const[s,t]=x.useState(wu);return x.useEffect(()=>(bu.push(t),()=>{const n=bu.indexOf(t);n>-1&&bu.splice(n,1)}),[s]),{...s,toast:PS,dismiss:n=>Ec({type:"DISMISS_TOAST",toastId:n})}}var Nl=bb();const RS=Kc(Nl);function lt(s,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(s?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function $v(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function rx(...s){return t=>{let n=!1;const a=s.map(o=>{const l=$v(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():$v(s[o],null)}}}}function Kt(...s){return x.useCallback(rx(...s),s)}function _S(s,t){const n=x.createContext(t),a=l=>{const{children:d,...u}=l,m=x.useMemo(()=>u,Object.values(u));return e.jsx(n.Provider,{value:m,children:d})};a.displayName=s+"Provider";function o(l){const d=x.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${s}\``)}return[a,o]}function fo(s,t=[]){let n=[];function a(l,d){const u=x.createContext(d),m=n.length;n=[...n,d];const f=v=>{const{scope:g,children:N,...S}=v,b=g?.[s]?.[m]||u,k=x.useMemo(()=>S,Object.values(S));return e.jsx(b.Provider,{value:k,children:N})};f.displayName=l+"Provider";function y(v,g){const N=g?.[s]?.[m]||u,S=x.useContext(N);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[f,y]}const o=()=>{const l=n.map(d=>x.createContext(d));return function(u){const m=u?.[s]||l;return x.useMemo(()=>({[`__scope${s}`]:{...u,[s]:m}}),[u,m])}};return o.scopeName=s,[a,OS(o,...t)]}function OS(...s){const t=s[0];if(s.length===1)return t;const n=()=>{const a=s.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=a.reduce((u,{useScope:m,scopeName:f})=>{const v=m(l)[`__scope${f}`];return{...u,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function ml(s){const t=LS(s),n=x.forwardRef((a,o)=>{const{children:l,...d}=a,u=x.Children.toArray(l),m=u.find(MS);if(m){const f=m.props.children,y=u.map(v=>v===m?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return e.jsx(t,{...d,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,y):null})}return e.jsx(t,{...d,ref:o,children:l})});return n.displayName=`${s}.Slot`,n}var ax=ml("Slot");function LS(s){const t=x.forwardRef((n,a)=>{const{children:o,...l}=n;if(x.isValidElement(o)){const d=qS(o),u=DS(l,o.props);return o.type!==x.Fragment&&(u.ref=a?rx(a,d):d),x.cloneElement(o,u)}return x.Children.count(o)>1?x.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Wb=Symbol("radix.slottable");function IS(s){const t=({children:n})=>e.jsx(e.Fragment,{children:n});return t.displayName=`${s}.Slottable`,t.__radixId=Wb,t}function MS(s){return x.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Wb}function DS(s,t){const n={...t};for(const a in t){const o=s[a],l=t[a];/^on[A-Z]/.test(a)?o&&l?n[a]=(...u)=>{l(...u),o(...u)}:o&&(n[a]=o):a==="style"?n[a]={...o,...l}:a==="className"&&(n[a]=[o,l].filter(Boolean).join(" "))}return{...s,...n}}function qS(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}function Kb(s){const t=s+"CollectionProvider",[n,a]=fo(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=b=>{const{scope:k,children:P}=b,R=rt.useRef(null),T=rt.useRef(new Map).current;return e.jsx(o,{scope:k,itemMap:T,collectionRef:R,children:P})};d.displayName=t;const u=s+"CollectionSlot",m=ml(u),f=rt.forwardRef((b,k)=>{const{scope:P,children:R}=b,T=l(u,P),O=Kt(k,T.collectionRef);return e.jsx(m,{ref:O,children:R})});f.displayName=u;const y=s+"CollectionItemSlot",v="data-radix-collection-item",g=ml(y),N=rt.forwardRef((b,k)=>{const{scope:P,children:R,...T}=b,O=rt.useRef(null),H=Kt(k,O),se=l(y,P);return rt.useEffect(()=>(se.itemMap.set(O,{ref:O,...T}),()=>{se.itemMap.delete(O)})),e.jsx(g,{[v]:"",ref:H,children:R})});N.displayName=y;function S(b){const k=l(s+"CollectionConsumer",b);return rt.useCallback(()=>{const R=k.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((se,K)=>T.indexOf(se.ref.current)-T.indexOf(K.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:d,Slot:f,ItemSlot:N},S,a]}var $S=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xt=$S.reduce((s,t)=>{const n=ml(`Primitive.${t}`),a=x.forwardRef((o,l)=>{const{asChild:d,...u}=o,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...u,ref:l})});return a.displayName=`Primitive.${t}`,{...s,[t]:a}},{});function Vb(s,t){s&&Nl.flushSync(()=>s.dispatchEvent(t))}function On(s){const t=x.useRef(s);return x.useEffect(()=>{t.current=s}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function FS(s,t=globalThis?.document){const n=On(s);x.useEffect(()=>{const a=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var zS="DismissableLayer",ap="dismissableLayer.update",US="dismissableLayer.pointerDownOutside",BS="dismissableLayer.focusOutside",Fv,Qb=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vc=x.forwardRef((s,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:u,...m}=s,f=x.useContext(Qb),[y,v]=x.useState(null),g=y?.ownerDocument??globalThis?.document,[,N]=x.useState({}),S=Kt(t,K=>v(K)),b=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),P=b.indexOf(k),R=y?b.indexOf(y):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,O=R>=P,H=WS(K=>{const re=K.target,W=[...f.branches].some(me=>me.contains(re));!O||W||(o?.(K),d?.(K),K.defaultPrevented||u?.())},g),se=KS(K=>{const re=K.target;[...f.branches].some(me=>me.contains(re))||(l?.(K),d?.(K),K.defaultPrevented||u?.())},g);return FS(K=>{R===f.layers.size-1&&(a?.(K),!K.defaultPrevented&&u&&(K.preventDefault(),u()))},g),x.useEffect(()=>{if(y)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Fv=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(y)),f.layers.add(y),zv(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Fv)}},[y,g,n,f]),x.useEffect(()=>()=>{y&&(f.layers.delete(y),f.layersWithOutsidePointerEventsDisabled.delete(y),zv())},[y,f]),x.useEffect(()=>{const K=()=>N({});return document.addEventListener(ap,K),()=>document.removeEventListener(ap,K)},[]),e.jsx(xt.div,{...m,ref:S,style:{pointerEvents:T?O?"auto":"none":void 0,...s.style},onFocusCapture:lt(s.onFocusCapture,se.onFocusCapture),onBlurCapture:lt(s.onBlurCapture,se.onBlurCapture),onPointerDownCapture:lt(s.onPointerDownCapture,H.onPointerDownCapture)})});Vc.displayName=zS;var HS="DismissableLayerBranch",Gb=x.forwardRef((s,t)=>{const n=x.useContext(Qb),a=x.useRef(null),o=Kt(t,a);return x.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),e.jsx(xt.div,{...s,ref:o})});Gb.displayName=HS;function WS(s,t=globalThis?.document){const n=On(s),a=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const l=u=>{if(u.target&&!a.current){let m=function(){Yb(US,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);a.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function KS(s,t=globalThis?.document){const n=On(s),a=x.useRef(!1);return x.useEffect(()=>{const o=l=>{l.target&&!a.current&&Yb(BS,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function zv(){const s=new CustomEvent(ap);document.dispatchEvent(s)}function Yb(s,t,n,{discrete:a}){const o=n.originalEvent.target,l=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(s,t,{once:!0}),a?Vb(o,l):o.dispatchEvent(l)}var VS=Vc,QS=Gb,Ls=globalThis?.document?x.useLayoutEffect:()=>{},GS="Portal",nh=x.forwardRef((s,t)=>{const{container:n,...a}=s,[o,l]=x.useState(!1);Ls(()=>l(!0),[]);const d=n||o&&globalThis?.document?.body;return d?RS.createPortal(e.jsx(xt.div,{...a,ref:t}),d):null});nh.displayName=GS;function YS(s,t){return x.useReducer((n,a)=>t[n][a]??n,s)}var kl=s=>{const{present:t,children:n}=s,a=XS(t),o=typeof n=="function"?n({present:a.isPresent}):x.Children.only(n),l=Kt(a.ref,ZS(o));return typeof n=="function"||a.isPresent?x.cloneElement(o,{ref:l}):null};kl.displayName="Presence";function XS(s){const[t,n]=x.useState(),a=x.useRef({}),o=x.useRef(s),l=x.useRef("none"),d=s?"mounted":"unmounted",[u,m]=YS(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Xd(a.current);l.current=u==="mounted"?f:"none"},[u]),Ls(()=>{const f=a.current,y=o.current;if(y!==s){const g=l.current,N=Xd(f);s?m("MOUNT"):N==="none"||f?.display==="none"?m("UNMOUNT"):m(y&&g!==N?"ANIMATION_OUT":"UNMOUNT"),o.current=s}},[s,m]),Ls(()=>{if(t){let f;const y=t.ownerDocument.defaultView??window,v=N=>{const b=Xd(a.current).includes(N.animationName);if(N.target===t&&b&&(m("ANIMATION_END"),!o.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",f=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},g=N=>{N.target===t&&(l.current=Xd(a.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{y.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(f=>{f&&(a.current=getComputedStyle(f)),n(f)},[])}}function Xd(s){return s?.animationName||"none"}function ZS(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}function fl({prop:s,defaultProp:t,onChange:n=()=>{}}){const[a,o]=JS({defaultProp:t,onChange:n}),l=s!==void 0,d=l?s:a,u=On(n),m=x.useCallback(f=>{if(l){const v=typeof f=="function"?f(s):f;v!==s&&u(v)}else o(f)},[l,s,o,u]);return[d,m]}function JS({defaultProp:s,onChange:t}){const n=x.useState(s),[a]=n,o=x.useRef(a),l=On(t);return x.useEffect(()=>{o.current!==a&&(l(a),o.current=a)},[a,o,l]),n}var eC="VisuallyHidden",Qc=x.forwardRef((s,t)=>e.jsx(xt.span,{...s,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...s.style}}));Qc.displayName=eC;var tC=Qc,ix="ToastProvider",[ox,sC,nC]=Kb("Toast"),[Xb]=fo("Toast",[nC]),[rC,rh]=Xb(ix),Zb=s=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:d}=s,[u,m]=x.useState(null),[f,y]=x.useState(0),v=x.useRef(!1),g=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ix}\`. Expected non-empty \`string\`.`),e.jsx(ox.Provider,{scope:t,children:e.jsx(rC,{scope:t,label:n,duration:a,swipeDirection:o,swipeThreshold:l,toastCount:f,viewport:u,onViewportChange:m,onToastAdd:x.useCallback(()=>y(N=>N+1),[]),onToastRemove:x.useCallback(()=>y(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:g,children:d})})};Zb.displayName=ix;var Jb="ToastViewport",aC=["F8"],ip="toast.viewportPause",op="toast.viewportResume",ew=x.forwardRef((s,t)=>{const{__scopeToast:n,hotkey:a=aC,label:o="Notifications ({hotkey})",...l}=s,d=rh(Jb,n),u=sC(n),m=x.useRef(null),f=x.useRef(null),y=x.useRef(null),v=x.useRef(null),g=Kt(t,v,d.onViewportChange),N=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=d.toastCount>0;x.useEffect(()=>{const k=P=>{a.length!==0&&a.every(T=>P[T]||P.code===T)&&v.current?.focus()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[a]),x.useEffect(()=>{const k=m.current,P=v.current;if(S&&k&&P){const R=()=>{if(!d.isClosePausedRef.current){const se=new CustomEvent(ip);P.dispatchEvent(se),d.isClosePausedRef.current=!0}},T=()=>{if(d.isClosePausedRef.current){const se=new CustomEvent(op);P.dispatchEvent(se),d.isClosePausedRef.current=!1}},O=se=>{!k.contains(se.relatedTarget)&&T()},H=()=>{k.contains(document.activeElement)||T()};return k.addEventListener("focusin",R),k.addEventListener("focusout",O),k.addEventListener("pointermove",R),k.addEventListener("pointerleave",H),window.addEventListener("blur",R),window.addEventListener("focus",T),()=>{k.removeEventListener("focusin",R),k.removeEventListener("focusout",O),k.removeEventListener("pointermove",R),k.removeEventListener("pointerleave",H),window.removeEventListener("blur",R),window.removeEventListener("focus",T)}}},[S,d.isClosePausedRef]);const b=x.useCallback(({tabbingDirection:k})=>{const R=u().map(T=>{const O=T.ref.current,H=[O,...vC(O)];return k==="forwards"?H:H.reverse()});return(k==="forwards"?R.reverse():R).flat()},[u]);return x.useEffect(()=>{const k=v.current;if(k){const P=R=>{const T=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!T){const H=document.activeElement,se=R.shiftKey;if(R.target===k&&se){f.current?.focus();return}const W=b({tabbingDirection:se?"backwards":"forwards"}),me=W.findIndex(I=>I===H);ff(W.slice(me+1))?R.preventDefault():se?f.current?.focus():y.current?.focus()}};return k.addEventListener("keydown",P),()=>k.removeEventListener("keydown",P)}},[u,b]),e.jsxs(QS,{ref:m,role:"region","aria-label":o.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&e.jsx(lp,{ref:f,onFocusFromOutsideViewport:()=>{const k=b({tabbingDirection:"forwards"});ff(k)}}),e.jsx(ox.Slot,{scope:n,children:e.jsx(xt.ol,{tabIndex:-1,...l,ref:g})}),S&&e.jsx(lp,{ref:y,onFocusFromOutsideViewport:()=>{const k=b({tabbingDirection:"backwards"});ff(k)}})]})});ew.displayName=Jb;var tw="ToastFocusProxy",lp=x.forwardRef((s,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...o}=s,l=rh(tw,n);return e.jsx(Qc,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:d=>{const u=d.relatedTarget;!l.viewport?.contains(u)&&a()}})});lp.displayName=tw;var ah="Toast",iC="toast.swipeStart",oC="toast.swipeMove",lC="toast.swipeCancel",cC="toast.swipeEnd",sw=x.forwardRef((s,t)=>{const{forceMount:n,open:a,defaultOpen:o,onOpenChange:l,...d}=s,[u=!0,m]=fl({prop:a,defaultProp:o,onChange:l});return e.jsx(kl,{present:n||u,children:e.jsx(hC,{open:u,...d,ref:t,onClose:()=>m(!1),onPause:On(s.onPause),onResume:On(s.onResume),onSwipeStart:lt(s.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lt(s.onSwipeMove,f=>{const{x:y,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:lt(s.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lt(s.onSwipeEnd,f=>{const{x:y,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),m(!1)})})})});sw.displayName=ah;var[dC,uC]=Xb(ah,{onClose(){}}),hC=x.forwardRef((s,t)=>{const{__scopeToast:n,type:a="foreground",duration:o,open:l,onClose:d,onEscapeKeyDown:u,onPause:m,onResume:f,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:g,onSwipeEnd:N,...S}=s,b=rh(ah,n),[k,P]=x.useState(null),R=Kt(t,Q=>P(Q)),T=x.useRef(null),O=x.useRef(null),H=o||b.duration,se=x.useRef(0),K=x.useRef(H),re=x.useRef(0),{onToastAdd:W,onToastRemove:me}=b,I=On(()=>{k?.contains(document.activeElement)&&b.viewport?.focus(),d()}),X=x.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(re.current),se.current=new Date().getTime(),re.current=window.setTimeout(I,Q))},[I]);x.useEffect(()=>{const Q=b.viewport;if(Q){const ne=()=>{X(K.current),f?.()},F=()=>{const C=new Date().getTime()-se.current;K.current=K.current-C,window.clearTimeout(re.current),m?.()};return Q.addEventListener(ip,F),Q.addEventListener(op,ne),()=>{Q.removeEventListener(ip,F),Q.removeEventListener(op,ne)}}},[b.viewport,H,m,f,X]),x.useEffect(()=>{l&&!b.isClosePausedRef.current&&X(H)},[l,H,b.isClosePausedRef,X]),x.useEffect(()=>(W(),()=>me()),[W,me]);const $=x.useMemo(()=>k?cw(k):null,[k]);return b.viewport?e.jsxs(e.Fragment,{children:[$&&e.jsx(mC,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),e.jsx(dC,{scope:n,onClose:I,children:Nl.createPortal(e.jsx(ox.ItemSlot,{scope:n,children:e.jsx(VS,{asChild:!0,onEscapeKeyDown:lt(u,()=>{b.isFocusedToastEscapeKeyDownRef.current||I(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":b.swipeDirection,...S,ref:R,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:lt(s.onKeyDown,Q=>{Q.key==="Escape"&&(u?.(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:lt(s.onPointerDown,Q=>{Q.button===0&&(T.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:lt(s.onPointerMove,Q=>{if(!T.current)return;const ne=Q.clientX-T.current.x,F=Q.clientY-T.current.y,C=!!O.current,E=["left","right"].includes(b.swipeDirection),G=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Y=E?G(0,ne):0,q=E?0:G(0,F),ee=Q.pointerType==="touch"?10:2,xe={x:Y,y:q},U={originalEvent:Q,delta:xe};C?(O.current=xe,Zd(oC,v,U,{discrete:!1})):Uv(xe,b.swipeDirection,ee)?(O.current=xe,Zd(iC,y,U,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(ne)>ee||Math.abs(F)>ee)&&(T.current=null)}),onPointerUp:lt(s.onPointerUp,Q=>{const ne=O.current,F=Q.target;if(F.hasPointerCapture(Q.pointerId)&&F.releasePointerCapture(Q.pointerId),O.current=null,T.current=null,ne){const C=Q.currentTarget,E={originalEvent:Q,delta:ne};Uv(ne,b.swipeDirection,b.swipeThreshold)?Zd(cC,N,E,{discrete:!0}):Zd(lC,g,E,{discrete:!0}),C.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),mC=s=>{const{__scopeToast:t,children:n,...a}=s,o=rh(ah,t),[l,d]=x.useState(!1),[u,m]=x.useState(!1);return xC(()=>d(!0)),x.useEffect(()=>{const f=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:e.jsx(nh,{asChild:!0,children:e.jsx(Qc,{...a,children:l&&e.jsxs(e.Fragment,{children:[o.label," ",n]})})})},fC="ToastTitle",nw=x.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s;return e.jsx(xt.div,{...a,ref:t})});nw.displayName=fC;var pC="ToastDescription",rw=x.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s;return e.jsx(xt.div,{...a,ref:t})});rw.displayName=pC;var aw="ToastAction",iw=x.forwardRef((s,t)=>{const{altText:n,...a}=s;return n.trim()?e.jsx(lw,{altText:n,asChild:!0,children:e.jsx(lx,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${aw}\`. Expected non-empty \`string\`.`),null)});iw.displayName=aw;var ow="ToastClose",lx=x.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s,o=uC(ow,n);return e.jsx(lw,{asChild:!0,children:e.jsx(xt.button,{type:"button",...a,ref:t,onClick:lt(s.onClick,o.onClose)})})});lx.displayName=ow;var lw=x.forwardRef((s,t)=>{const{__scopeToast:n,altText:a,...o}=s;return e.jsx(xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...o,ref:t})});function cw(s){const t=[];return Array.from(s.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),gC(a)){const o=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const d=a.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...cw(a))}}),t}function Zd(s,t,n,{discrete:a}){const o=n.originalEvent.currentTarget,l=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(s,t,{once:!0}),a?Vb(o,l):o.dispatchEvent(l)}var Uv=(s,t,n=0)=>{const a=Math.abs(s.x),o=Math.abs(s.y),l=a>o;return t==="left"||t==="right"?l&&a>n:!l&&o>n};function xC(s=()=>{}){const t=On(s);Ls(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function gC(s){return s.nodeType===s.ELEMENT_NODE}function vC(s){const t=[],n=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ff(s){const t=document.activeElement;return s.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var yC=Zb,dw=ew,uw=sw,hw=nw,mw=rw,fw=iw,pw=lx;function xw(s){var t,n,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(t=0;t<o;t++)s[t]&&(n=xw(s[t]))&&(a&&(a+=" "),a+=n)}else for(n in s)s[n]&&(a&&(a+=" "),a+=n);return a}function gw(){for(var s,t,n=0,a="",o=arguments.length;n<o;n++)(s=arguments[n])&&(t=xw(s))&&(a&&(a+=" "),a+=t);return a}const Bv=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Hv=gw,Sl=(s,t)=>n=>{var a;if(t?.variants==null)return Hv(s,n?.class,n?.className);const{variants:o,defaultVariants:l}=t,d=Object.keys(o).map(f=>{const y=n?.[f],v=l?.[f];if(y===null)return null;const g=Bv(y)||Bv(v);return o[f][g]}),u=n&&Object.entries(n).reduce((f,y)=>{let[v,g]=y;return g===void 0||(f[v]=g),f},{}),m=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((f,y)=>{let{class:v,className:g,...N}=y;return Object.entries(N).every(S=>{let[b,k]=S;return Array.isArray(k)?k.includes({...l,...u}[b]):{...l,...u}[b]===k})?[...f,v,g]:f},[]);return Hv(s,d,m,n?.class,n?.className)};const bC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vw=(...s)=>s.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");var wC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jC=x.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:d,...u},m)=>x.createElement("svg",{ref:m,...wC,width:t,height:t,stroke:s,strokeWidth:a?Number(n)*24/Number(t):n,className:vw("lucide",o),...u},[...d.map(([f,y])=>x.createElement(f,y)),...Array.isArray(l)?l:[l]]));const he=(s,t)=>{const n=x.forwardRef(({className:a,...o},l)=>x.createElement(jC,{ref:l,iconNode:t,className:vw(`lucide-${bC(s)}`,a),...o}));return n.displayName=`${s}`,n};const pl=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const NC=he("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Ta=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const rl=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const kC=he("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const cx=he("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const Wv=he("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Tc=he("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);const _u=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const so=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const SC=he("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);const Ic=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const CC=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const al=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const ju=he("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const Ac=he("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const dx=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Kv=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Vv=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Ns=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const La=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const ux=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Cl=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Pc=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Rn=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ys=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const xi=he("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);const EC=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const TC=he("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const Xi=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const yw=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const AC=he("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Jt=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const bw=he("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);const PC=he("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);const xn=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const cp=he("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Qi=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const RC=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Ln=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const no=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const _C=he("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Ws=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const hx=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const El=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Qv=he("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);const Gv=he("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const Zt=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const ww=he("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const OC=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Zi=he("FolderGit2",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["path",{d:"M18 19c-2.8 0-5-2.2-5-5v8",key:"pkpw2h"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]]);const _n=he("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Yv=he("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const LC=he("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);const Gi=he("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);const na=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const IC=he("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Xv=he("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const jw=he("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const MC=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);const Zv=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Jv=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const po=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const DC=he("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const qC=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const xl=he("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const Nw=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const Ou=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Yi=he("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);const il=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Je=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const ey=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const $C=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const kw=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const _s=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const tl=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const FC=he("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const ty=he("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);const zC=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const sy=he("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);const kt=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const UC=he("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);const BC=he("Milestone",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}],["path",{d:"M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z",key:"1btarq"}]]);const ny=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const HC=he("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const WC=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const ry=he("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const Sw=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const KC=he("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const Lu=he("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Cw=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const VC=he("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);const gi=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Mc=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const QC=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const ay=he("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const as=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Jd=he("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const Aa=he("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const ih=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const dp=he("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const oh=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const mx=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const iy=he("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const nn=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ms=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const fr=he("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const oy=he("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const GC=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const YC=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const ly=he("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const XC=he("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);const ta=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const ZC=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const JC=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const vi=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const mi=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const e3=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const up=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const hp=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Iu=he("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);const Ew=he("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);const Tw=he("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const Aw=he("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const ks=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const t3=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Pw=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Qn=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Mu=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Rw=he("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const cy=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const _w=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const ro=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const fx=he("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const s3=he("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const n3=he("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);const r3=he("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const vr=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const xr=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),px="-",a3=s=>{const t=o3(s),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=s;return{getClassGroupId:d=>{const u=d.split(px);return u[0]===""&&u.length!==1&&u.shift(),Ow(u,t)||i3(d)},getConflictingClassGroupIds:(d,u)=>{const m=n[d]||[];return u&&a[d]?[...m,...a[d]]:m}}},Ow=(s,t)=>{if(s.length===0)return t.classGroupId;const n=s[0],a=t.nextPart.get(n),o=a?Ow(s.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const l=s.join(px);return t.validators.find(({validator:d})=>d(l))?.classGroupId},dy=/^\[(.+)\]$/,i3=s=>{if(dy.test(s)){const t=dy.exec(s)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},o3=s=>{const{theme:t,prefix:n}=s,a={nextPart:new Map,validators:[]};return c3(Object.entries(s.classGroups),n).forEach(([l,d])=>{mp(d,a,l,t)}),a},mp=(s,t,n,a)=>{s.forEach(o=>{if(typeof o=="string"){const l=o===""?t:uy(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(l3(o)){mp(o(a),t,n,a);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,d])=>{mp(d,uy(t,l),n,a)})})},uy=(s,t)=>{let n=s;return t.split(px).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},l3=s=>s.isThemeGetter,c3=(s,t)=>t?s.map(([n,a])=>{const o=a.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,u])=>[t+d,u])):l);return[n,o]}):s,d3=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const o=(l,d)=>{n.set(l,d),t++,t>s&&(t=0,a=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=a.get(l))!==void 0)return o(l,d),d},set(l,d){n.has(l)?n.set(l,d):o(l,d)}}},Lw="!",u3=s=>{const{separator:t,experimentalParseClassName:n}=s,a=t.length===1,o=t[0],l=t.length,d=u=>{const m=[];let f=0,y=0,v;for(let k=0;k<u.length;k++){let P=u[k];if(f===0){if(P===o&&(a||u.slice(k,k+l)===t)){m.push(u.slice(y,k)),y=k+l;continue}if(P==="/"){v=k;continue}}P==="["?f++:P==="]"&&f--}const g=m.length===0?u:u.substring(y),N=g.startsWith(Lw),S=N?g.substring(1):g,b=v&&v>y?v-y:void 0;return{modifiers:m,hasImportantModifier:N,baseClassName:S,maybePostfixModifierPosition:b}};return n?u=>n({className:u,parseClassName:d}):d},h3=s=>{if(s.length<=1)return s;const t=[];let n=[];return s.forEach(a=>{a[0]==="["?(t.push(...n.sort(),a),n=[]):n.push(a)}),t.push(...n.sort()),t},m3=s=>({cache:d3(s.cacheSize),parseClassName:u3(s),...a3(s)}),f3=/\s+/,p3=(s,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:o}=t,l=[],d=s.trim().split(f3);let u="";for(let m=d.length-1;m>=0;m-=1){const f=d[m],{modifiers:y,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:N}=n(f);let S=!!N,b=a(S?g.substring(0,N):g);if(!b){if(!S){u=f+(u.length>0?" "+u:u);continue}if(b=a(g),!b){u=f+(u.length>0?" "+u:u);continue}S=!1}const k=h3(y).join(":"),P=v?k+Lw:k,R=P+b;if(l.includes(R))continue;l.push(R);const T=o(b,S);for(let O=0;O<T.length;++O){const H=T[O];l.push(P+H)}u=f+(u.length>0?" "+u:u)}return u};function x3(){let s=0,t,n,a="";for(;s<arguments.length;)(t=arguments[s++])&&(n=Iw(t))&&(a&&(a+=" "),a+=n);return a}const Iw=s=>{if(typeof s=="string")return s;let t,n="";for(let a=0;a<s.length;a++)s[a]&&(t=Iw(s[a]))&&(n&&(n+=" "),n+=t);return n};function g3(s,...t){let n,a,o,l=d;function d(m){const f=t.reduce((y,v)=>v(y),s());return n=m3(f),a=n.cache.get,o=n.cache.set,l=u,u(m)}function u(m){const f=a(m);if(f)return f;const y=p3(m,n);return o(m,y),y}return function(){return l(x3.apply(null,arguments))}}const Yt=s=>{const t=n=>n[s]||[];return t.isThemeGetter=!0,t},Mw=/^\[(?:([a-z-]+):)?(.+)\]$/i,v3=/^\d+\/\d+$/,y3=new Set(["px","full","screen"]),b3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ca=s=>ol(s)||y3.has(s)||v3.test(s),ai=s=>Tl(s,"length",_3),ol=s=>!!s&&!Number.isNaN(Number(s)),pf=s=>Tl(s,"number",ol),hc=s=>!!s&&Number.isInteger(Number(s)),S3=s=>s.endsWith("%")&&ol(s.slice(0,-1)),dt=s=>Mw.test(s),ii=s=>b3.test(s),C3=new Set(["length","size","percentage"]),E3=s=>Tl(s,C3,Dw),T3=s=>Tl(s,"position",Dw),A3=new Set(["image","url"]),P3=s=>Tl(s,A3,L3),R3=s=>Tl(s,"",O3),mc=()=>!0,Tl=(s,t,n)=>{const a=Mw.exec(s);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):n(a[2]):!1},_3=s=>w3.test(s)&&!j3.test(s),Dw=()=>!1,O3=s=>N3.test(s),L3=s=>k3.test(s),I3=()=>{const s=Yt("colors"),t=Yt("spacing"),n=Yt("blur"),a=Yt("brightness"),o=Yt("borderColor"),l=Yt("borderRadius"),d=Yt("borderSpacing"),u=Yt("borderWidth"),m=Yt("contrast"),f=Yt("grayscale"),y=Yt("hueRotate"),v=Yt("invert"),g=Yt("gap"),N=Yt("gradientColorStops"),S=Yt("gradientColorStopPositions"),b=Yt("inset"),k=Yt("margin"),P=Yt("opacity"),R=Yt("padding"),T=Yt("saturate"),O=Yt("scale"),H=Yt("sepia"),se=Yt("skew"),K=Yt("space"),re=Yt("translate"),W=()=>["auto","contain","none"],me=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",dt,t],X=()=>[dt,t],$=()=>["",Ca,ai],Q=()=>["auto",ol,dt],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],C=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",dt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[ol,dt];return{cacheSize:500,separator:":",theme:{colors:[mc],spacing:[Ca,ai],blur:["none","",ii,dt],brightness:q(),borderColor:[s],borderRadius:["none","","full",ii,dt],borderSpacing:X(),borderWidth:$(),contrast:q(),grayscale:G(),hueRotate:q(),invert:G(),gap:X(),gradientColorStops:[s],gradientColorStopPositions:[S3,ai],inset:I(),margin:I(),opacity:q(),padding:X(),saturate:q(),scale:q(),sepia:G(),skew:q(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[ii]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),dt]}],overflow:[{overflow:me()}],"overflow-x":[{"overflow-x":me()}],"overflow-y":[{"overflow-y":me()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hc,dt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",hc,dt]}],"grid-cols":[{"grid-cols":[mc]}],"col-start-end":[{col:["auto",{span:["full",hc,dt]},dt]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[mc]}],"row-start-end":[{row:["auto",{span:[hc,dt]},dt]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,t]}],"min-w":[{"min-w":[dt,t,"min","max","fit"]}],"max-w":[{"max-w":[dt,t,"none","full","min","max","fit","prose",{screen:[ii]},ii]}],h:[{h:[dt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ii,ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pf]}],"font-family":[{font:[mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",ol,pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ca,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ca,ai]}],"underline-offset":[{"underline-offset":["auto",Ca,dt]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),T3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},P3]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:F()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Ca,dt]}],"outline-w":[{outline:[Ca,ai]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Ca,ai]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",ii,R3]}],"shadow-color":[{shadow:[mc]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...C(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":C()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",ii,dt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[T]}],sepia:[{sepia:[H]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[hc,dt]}],"translate-x":[{"translate-x":[re]}],"translate-y":[{"translate-y":[re]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Ca,ai,pf]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},M3=g3(I3);function Ze(...s){return M3(gw(s))}const D3=yC,qw=x.forwardRef(({className:s,...t},n)=>e.jsx(dw,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));qw.displayName=dw.displayName;const q3=Sl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$w=x.forwardRef(({className:s,variant:t,...n},a)=>e.jsx(uw,{ref:a,className:Ze(q3({variant:t}),s),...n}));$w.displayName=uw.displayName;const $3=x.forwardRef(({className:s,...t},n)=>e.jsx(fw,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));$3.displayName=fw.displayName;const Fw=x.forwardRef(({className:s,...t},n)=>e.jsx(pw,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(vr,{className:"h-4 w-4"})}));Fw.displayName=pw.displayName;const zw=x.forwardRef(({className:s,...t},n)=>e.jsx(hw,{ref:n,className:Ze("text-sm font-semibold",s),...t}));zw.displayName=hw.displayName;const Uw=x.forwardRef(({className:s,...t},n)=>e.jsx(mw,{ref:n,className:Ze("text-sm opacity-90",s),...t}));Uw.displayName=mw.displayName;function F3(){const{toasts:s}=gt();return e.jsxs(D3,{children:[s.map(function({id:t,title:n,description:a,action:o,...l}){return e.jsxs($w,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(zw,{children:n}),a&&e.jsx(Uw,{children:a})]}),o,e.jsx(Fw,{})]},t)}),e.jsx(qw,{})]})}var z3=Gp[" useId ".trim().toString()]||(()=>{}),U3=0;function Ji(s){const[t,n]=x.useState(z3());return Ls(()=>{n(a=>a??String(U3++))},[s]),t?`radix-${t}`:""}const B3=["top","right","bottom","left"],yi=Math.min,Hn=Math.max,Du=Math.round,eu=Math.floor,ra=s=>({x:s,y:s}),H3={left:"right",right:"left",bottom:"top",top:"bottom"},W3={start:"end",end:"start"};function fp(s,t,n){return Hn(s,yi(t,n))}function Pa(s,t){return typeof s=="function"?s(t):s}function Ra(s){return s.split("-")[0]}function Al(s){return s.split("-")[1]}function xx(s){return s==="x"?"y":"x"}function gx(s){return s==="y"?"height":"width"}function bi(s){return["top","bottom"].includes(Ra(s))?"y":"x"}function vx(s){return xx(bi(s))}function K3(s,t,n){n===void 0&&(n=!1);const a=Al(s),o=vx(s),l=gx(o);let d=o==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(d=qu(d)),[d,qu(d)]}function V3(s){const t=qu(s);return[pp(s),t,pp(t)]}function pp(s){return s.replace(/start|end/g,t=>W3[t])}function Q3(s,t,n){const a=["left","right"],o=["right","left"],l=["top","bottom"],d=["bottom","top"];switch(s){case"top":case"bottom":return n?t?o:a:t?a:o;case"left":case"right":return t?l:d;default:return[]}}function G3(s,t,n,a){const o=Al(s);let l=Q3(Ra(s),n==="start",a);return o&&(l=l.map(d=>d+"-"+o),t&&(l=l.concat(l.map(pp)))),l}function qu(s){return s.replace(/left|right|bottom|top/g,t=>H3[t])}function Y3(s){return{top:0,right:0,bottom:0,left:0,...s}}function Bw(s){return typeof s!="number"?Y3(s):{top:s,right:s,bottom:s,left:s}}function $u(s){const{x:t,y:n,width:a,height:o}=s;return{width:a,height:o,top:n,left:t,right:t+a,bottom:n+o,x:t,y:n}}function hy(s,t,n){let{reference:a,floating:o}=s;const l=bi(t),d=vx(t),u=gx(d),m=Ra(t),f=l==="y",y=a.x+a.width/2-o.width/2,v=a.y+a.height/2-o.height/2,g=a[u]/2-o[u]/2;let N;switch(m){case"top":N={x:y,y:a.y-o.height};break;case"bottom":N={x:y,y:a.y+a.height};break;case"right":N={x:a.x+a.width,y:v};break;case"left":N={x:a.x-o.width,y:v};break;default:N={x:a.x,y:a.y}}switch(Al(t)){case"start":N[d]-=g*(n&&f?-1:1);break;case"end":N[d]+=g*(n&&f?-1:1);break}return N}const X3=async(s,t,n)=>{const{placement:a="bottom",strategy:o="absolute",middleware:l=[],platform:d}=n,u=l.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let f=await d.getElementRects({reference:s,floating:t,strategy:o}),{x:y,y:v}=hy(f,a,m),g=a,N={},S=0;for(let b=0;b<u.length;b++){const{name:k,fn:P}=u[b],{x:R,y:T,data:O,reset:H}=await P({x:y,y:v,initialPlacement:a,placement:g,strategy:o,middlewareData:N,rects:f,platform:d,elements:{reference:s,floating:t}});y=R??y,v=T??v,N={...N,[k]:{...N[k],...O}},H&&S<=50&&(S++,typeof H=="object"&&(H.placement&&(g=H.placement),H.rects&&(f=H.rects===!0?await d.getElementRects({reference:s,floating:t,strategy:o}):H.rects),{x:y,y:v}=hy(f,g,m)),b=-1)}return{x:y,y:v,placement:g,strategy:o,middlewareData:N}};async function Dc(s,t){var n;t===void 0&&(t={});const{x:a,y:o,platform:l,rects:d,elements:u,strategy:m}=s,{boundary:f="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:g=!1,padding:N=0}=Pa(t,s),S=Bw(N),k=u[g?v==="floating"?"reference":"floating":v],P=$u(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(k)))==null||n?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:f,rootBoundary:y,strategy:m})),R=v==="floating"?{x:a,y:o,width:d.floating.width,height:d.floating.height}:d.reference,T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),O=await(l.isElement==null?void 0:l.isElement(T))?await(l.getScale==null?void 0:l.getScale(T))||{x:1,y:1}:{x:1,y:1},H=$u(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:T,strategy:m}):R);return{top:(P.top-H.top+S.top)/O.y,bottom:(H.bottom-P.bottom+S.bottom)/O.y,left:(P.left-H.left+S.left)/O.x,right:(H.right-P.right+S.right)/O.x}}const Z3=s=>({name:"arrow",options:s,async fn(t){const{x:n,y:a,placement:o,rects:l,platform:d,elements:u,middlewareData:m}=t,{element:f,padding:y=0}=Pa(s,t)||{};if(f==null)return{};const v=Bw(y),g={x:n,y:a},N=vx(o),S=gx(N),b=await d.getDimensions(f),k=N==="y",P=k?"top":"left",R=k?"bottom":"right",T=k?"clientHeight":"clientWidth",O=l.reference[S]+l.reference[N]-g[N]-l.floating[S],H=g[N]-l.reference[N],se=await(d.getOffsetParent==null?void 0:d.getOffsetParent(f));let K=se?se[T]:0;(!K||!await(d.isElement==null?void 0:d.isElement(se)))&&(K=u.floating[T]||l.floating[S]);const re=O/2-H/2,W=K/2-b[S]/2-1,me=yi(v[P],W),I=yi(v[R],W),X=me,$=K-b[S]-I,Q=K/2-b[S]/2+re,ne=fp(X,Q,$),F=!m.arrow&&Al(o)!=null&&Q!==ne&&l.reference[S]/2-(Q<X?me:I)-b[S]/2<0,C=F?Q<X?Q-X:Q-$:0;return{[N]:g[N]+C,data:{[N]:ne,centerOffset:Q-ne-C,...F&&{alignmentOffset:C}},reset:F}}}),J3=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(t){var n,a;const{placement:o,middlewareData:l,rects:d,initialPlacement:u,platform:m,elements:f}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:g,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...k}=Pa(s,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const P=Ra(o),R=bi(u),T=Ra(u)===u,O=await(m.isRTL==null?void 0:m.isRTL(f.floating)),H=g||(T||!b?[qu(u)]:V3(u)),se=S!=="none";!g&&se&&H.push(...G3(u,b,S,O));const K=[u,...H],re=await Dc(t,k),W=[];let me=((a=l.flip)==null?void 0:a.overflows)||[];if(y&&W.push(re[P]),v){const Q=K3(o,d,O);W.push(re[Q[0]],re[Q[1]])}if(me=[...me,{placement:o,overflows:W}],!W.every(Q=>Q<=0)){var I,X;const Q=(((I=l.flip)==null?void 0:I.index)||0)+1,ne=K[Q];if(ne)return{data:{index:Q,overflows:me},reset:{placement:ne}};let F=(X=me.filter(C=>C.overflows[0]<=0).sort((C,E)=>C.overflows[1]-E.overflows[1])[0])==null?void 0:X.placement;if(!F)switch(N){case"bestFit":{var $;const C=($=me.filter(E=>{if(se){const G=bi(E.placement);return G===R||G==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(G=>G>0).reduce((G,Y)=>G+Y,0)]).sort((E,G)=>E[1]-G[1])[0])==null?void 0:$[0];C&&(F=C);break}case"initialPlacement":F=u;break}if(o!==F)return{reset:{placement:F}}}return{}}}};function my(s,t){return{top:s.top-t.height,right:s.right-t.width,bottom:s.bottom-t.height,left:s.left-t.width}}function fy(s){return B3.some(t=>s[t]>=0)}const eE=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...o}=Pa(s,t);switch(a){case"referenceHidden":{const l=await Dc(t,{...o,elementContext:"reference"}),d=my(l,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:fy(d)}}}case"escaped":{const l=await Dc(t,{...o,altBoundary:!0}),d=my(l,n.floating);return{data:{escapedOffsets:d,escaped:fy(d)}}}default:return{}}}}};async function tE(s,t){const{placement:n,platform:a,elements:o}=s,l=await(a.isRTL==null?void 0:a.isRTL(o.floating)),d=Ra(n),u=Al(n),m=bi(n)==="y",f=["left","top"].includes(d)?-1:1,y=l&&m?-1:1,v=Pa(t,s);let{mainAxis:g,crossAxis:N,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(N=u==="end"?S*-1:S),m?{x:N*y,y:g*f}:{x:g*f,y:N*y}}const sE=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(t){var n,a;const{x:o,y:l,placement:d,middlewareData:u}=t,m=await tE(t,s);return d===((n=u.offset)==null?void 0:n.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:o+m.x,y:l+m.y,data:{...m,placement:d}}}}},nE=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(t){const{x:n,y:a,placement:o}=t,{mainAxis:l=!0,crossAxis:d=!1,limiter:u={fn:k=>{let{x:P,y:R}=k;return{x:P,y:R}}},...m}=Pa(s,t),f={x:n,y:a},y=await Dc(t,m),v=bi(Ra(o)),g=xx(v);let N=f[g],S=f[v];if(l){const k=g==="y"?"top":"left",P=g==="y"?"bottom":"right",R=N+y[k],T=N-y[P];N=fp(R,N,T)}if(d){const k=v==="y"?"top":"left",P=v==="y"?"bottom":"right",R=S+y[k],T=S-y[P];S=fp(R,S,T)}const b=u.fn({...t,[g]:N,[v]:S});return{...b,data:{x:b.x-n,y:b.y-a,enabled:{[g]:l,[v]:d}}}}}},rE=function(s){return s===void 0&&(s={}),{options:s,fn(t){const{x:n,y:a,placement:o,rects:l,middlewareData:d}=t,{offset:u=0,mainAxis:m=!0,crossAxis:f=!0}=Pa(s,t),y={x:n,y:a},v=bi(o),g=xx(v);let N=y[g],S=y[v];const b=Pa(u,t),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(m){const T=g==="y"?"height":"width",O=l.reference[g]-l.floating[T]+k.mainAxis,H=l.reference[g]+l.reference[T]-k.mainAxis;N<O?N=O:N>H&&(N=H)}if(f){var P,R;const T=g==="y"?"width":"height",O=["top","left"].includes(Ra(o)),H=l.reference[v]-l.floating[T]+(O&&((P=d.offset)==null?void 0:P[v])||0)+(O?0:k.crossAxis),se=l.reference[v]+l.reference[T]+(O?0:((R=d.offset)==null?void 0:R[v])||0)-(O?k.crossAxis:0);S<H?S=H:S>se&&(S=se)}return{[g]:N,[v]:S}}}},aE=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(t){var n,a;const{placement:o,rects:l,platform:d,elements:u}=t,{apply:m=()=>{},...f}=Pa(s,t),y=await Dc(t,f),v=Ra(o),g=Al(o),N=bi(o)==="y",{width:S,height:b}=l.floating;let k,P;v==="top"||v==="bottom"?(k=v,P=g===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(P=v,k=g==="end"?"top":"bottom");const R=b-y.top-y.bottom,T=S-y.left-y.right,O=yi(b-y[k],R),H=yi(S-y[P],T),se=!t.middlewareData.shift;let K=O,re=H;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(re=T),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(K=R),se&&!g){const me=Hn(y.left,0),I=Hn(y.right,0),X=Hn(y.top,0),$=Hn(y.bottom,0);N?re=S-2*(me!==0||I!==0?me+I:Hn(y.left,y.right)):K=b-2*(X!==0||$!==0?X+$:Hn(y.top,y.bottom))}await m({...t,availableWidth:re,availableHeight:K});const W=await d.getDimensions(u.floating);return S!==W.width||b!==W.height?{reset:{rects:!0}}:{}}}};function lh(){return typeof window<"u"}function Pl(s){return Hw(s)?(s.nodeName||"").toLowerCase():"#document"}function Gn(s){var t;return(s==null||(t=s.ownerDocument)==null?void 0:t.defaultView)||window}function la(s){var t;return(t=(Hw(s)?s.ownerDocument:s.document)||window.document)==null?void 0:t.documentElement}function Hw(s){return lh()?s instanceof Node||s instanceof Gn(s).Node:!1}function Mr(s){return lh()?s instanceof Element||s instanceof Gn(s).Element:!1}function ia(s){return lh()?s instanceof HTMLElement||s instanceof Gn(s).HTMLElement:!1}function py(s){return!lh()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Gn(s).ShadowRoot}function Gc(s){const{overflow:t,overflowX:n,overflowY:a,display:o}=Dr(s);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!["inline","contents"].includes(o)}function iE(s){return["table","td","th"].includes(Pl(s))}function ch(s){return[":popover-open",":modal"].some(t=>{try{return s.matches(t)}catch{return!1}})}function yx(s){const t=bx(),n=Mr(s)?Dr(s):s;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function oE(s){let t=wi(s);for(;ia(t)&&!gl(t);){if(yx(t))return t;if(ch(t))return null;t=wi(t)}return null}function bx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gl(s){return["html","body","#document"].includes(Pl(s))}function Dr(s){return Gn(s).getComputedStyle(s)}function dh(s){return Mr(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function wi(s){if(Pl(s)==="html")return s;const t=s.assignedSlot||s.parentNode||py(s)&&s.host||la(s);return py(t)?t.host:t}function Ww(s){const t=wi(s);return gl(t)?s.ownerDocument?s.ownerDocument.body:s.body:ia(t)&&Gc(t)?t:Ww(t)}function qc(s,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ww(s),l=o===((a=s.ownerDocument)==null?void 0:a.body),d=Gn(o);if(l){const u=xp(d);return t.concat(d,d.visualViewport||[],Gc(o)?o:[],u&&n?qc(u):[])}return t.concat(o,qc(o,[],n))}function xp(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function Kw(s){const t=Dr(s);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const o=ia(s),l=o?s.offsetWidth:n,d=o?s.offsetHeight:a,u=Du(n)!==l||Du(a)!==d;return u&&(n=l,a=d),{width:n,height:a,$:u}}function wx(s){return Mr(s)?s:s.contextElement}function ll(s){const t=wx(s);if(!ia(t))return ra(1);const n=t.getBoundingClientRect(),{width:a,height:o,$:l}=Kw(t);let d=(l?Du(n.width):n.width)/a,u=(l?Du(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const lE=ra(0);function Vw(s){const t=Gn(s);return!bx()||!t.visualViewport?lE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cE(s,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gn(s)?!1:t}function ao(s,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=s.getBoundingClientRect(),l=wx(s);let d=ra(1);t&&(a?Mr(a)&&(d=ll(a)):d=ll(s));const u=cE(l,n,a)?Vw(l):ra(0);let m=(o.left+u.x)/d.x,f=(o.top+u.y)/d.y,y=o.width/d.x,v=o.height/d.y;if(l){const g=Gn(l),N=a&&Mr(a)?Gn(a):a;let S=g,b=xp(S);for(;b&&a&&N!==S;){const k=ll(b),P=b.getBoundingClientRect(),R=Dr(b),T=P.left+(b.clientLeft+parseFloat(R.paddingLeft))*k.x,O=P.top+(b.clientTop+parseFloat(R.paddingTop))*k.y;m*=k.x,f*=k.y,y*=k.x,v*=k.y,m+=T,f+=O,S=Gn(b),b=xp(S)}}return $u({width:y,height:v,x:m,y:f})}function jx(s,t){const n=dh(s).scrollLeft;return t?t.left+n:ao(la(s)).left+n}function Qw(s,t,n){n===void 0&&(n=!1);const a=s.getBoundingClientRect(),o=a.left+t.scrollLeft-(n?0:jx(s,a)),l=a.top+t.scrollTop;return{x:o,y:l}}function dE(s){let{elements:t,rect:n,offsetParent:a,strategy:o}=s;const l=o==="fixed",d=la(a),u=t?ch(t.floating):!1;if(a===d||u&&l)return n;let m={scrollLeft:0,scrollTop:0},f=ra(1);const y=ra(0),v=ia(a);if((v||!v&&!l)&&((Pl(a)!=="body"||Gc(d))&&(m=dh(a)),ia(a))){const N=ao(a);f=ll(a),y.x=N.x+a.clientLeft,y.y=N.y+a.clientTop}const g=d&&!v&&!l?Qw(d,m,!0):ra(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-m.scrollLeft*f.x+y.x+g.x,y:n.y*f.y-m.scrollTop*f.y+y.y+g.y}}function uE(s){return Array.from(s.getClientRects())}function hE(s){const t=la(s),n=dh(s),a=s.ownerDocument.body,o=Hn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=Hn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let d=-n.scrollLeft+jx(s);const u=-n.scrollTop;return Dr(a).direction==="rtl"&&(d+=Hn(t.clientWidth,a.clientWidth)-o),{width:o,height:l,x:d,y:u}}function mE(s,t){const n=Gn(s),a=la(s),o=n.visualViewport;let l=a.clientWidth,d=a.clientHeight,u=0,m=0;if(o){l=o.width,d=o.height;const f=bx();(!f||f&&t==="fixed")&&(u=o.offsetLeft,m=o.offsetTop)}return{width:l,height:d,x:u,y:m}}function fE(s,t){const n=ao(s,!0,t==="fixed"),a=n.top+s.clientTop,o=n.left+s.clientLeft,l=ia(s)?ll(s):ra(1),d=s.clientWidth*l.x,u=s.clientHeight*l.y,m=o*l.x,f=a*l.y;return{width:d,height:u,x:m,y:f}}function xy(s,t,n){let a;if(t==="viewport")a=mE(s,n);else if(t==="document")a=hE(la(s));else if(Mr(t))a=fE(t,n);else{const o=Vw(s);a={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return $u(a)}function Gw(s,t){const n=wi(s);return n===t||!Mr(n)||gl(n)?!1:Dr(n).position==="fixed"||Gw(n,t)}function pE(s,t){const n=t.get(s);if(n)return n;let a=qc(s,[],!1).filter(u=>Mr(u)&&Pl(u)!=="body"),o=null;const l=Dr(s).position==="fixed";let d=l?wi(s):s;for(;Mr(d)&&!gl(d);){const u=Dr(d),m=yx(d);!m&&u.position==="fixed"&&(o=null),(l?!m&&!o:!m&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Gc(d)&&!m&&Gw(s,d))?a=a.filter(y=>y!==d):o=u,d=wi(d)}return t.set(s,a),a}function xE(s){let{element:t,boundary:n,rootBoundary:a,strategy:o}=s;const d=[...n==="clippingAncestors"?ch(t)?[]:pE(t,this._c):[].concat(n),a],u=d[0],m=d.reduce((f,y)=>{const v=xy(t,y,o);return f.top=Hn(v.top,f.top),f.right=yi(v.right,f.right),f.bottom=yi(v.bottom,f.bottom),f.left=Hn(v.left,f.left),f},xy(t,u,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function gE(s){const{width:t,height:n}=Kw(s);return{width:t,height:n}}function vE(s,t,n){const a=ia(t),o=la(t),l=n==="fixed",d=ao(s,!0,l,t);let u={scrollLeft:0,scrollTop:0};const m=ra(0);if(a||!a&&!l)if((Pl(t)!=="body"||Gc(o))&&(u=dh(t)),a){const g=ao(t,!0,l,t);m.x=g.x+t.clientLeft,m.y=g.y+t.clientTop}else o&&(m.x=jx(o));const f=o&&!a&&!l?Qw(o,u):ra(0),y=d.left+u.scrollLeft-m.x-f.x,v=d.top+u.scrollTop-m.y-f.y;return{x:y,y:v,width:d.width,height:d.height}}function xf(s){return Dr(s).position==="static"}function gy(s,t){if(!ia(s)||Dr(s).position==="fixed")return null;if(t)return t(s);let n=s.offsetParent;return la(s)===n&&(n=n.ownerDocument.body),n}function Yw(s,t){const n=Gn(s);if(ch(s))return n;if(!ia(s)){let o=wi(s);for(;o&&!gl(o);){if(Mr(o)&&!xf(o))return o;o=wi(o)}return n}let a=gy(s,t);for(;a&&iE(a)&&xf(a);)a=gy(a,t);return a&&gl(a)&&xf(a)&&!yx(a)?n:a||oE(s)||n}const yE=async function(s){const t=this.getOffsetParent||Yw,n=this.getDimensions,a=await n(s.floating);return{reference:vE(s.reference,await t(s.floating),s.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function bE(s){return Dr(s).direction==="rtl"}const wE={convertOffsetParentRelativeRectToViewportRelativeRect:dE,getDocumentElement:la,getClippingRect:xE,getOffsetParent:Yw,getElementRects:yE,getClientRects:uE,getDimensions:gE,getScale:ll,isElement:Mr,isRTL:bE};function Xw(s,t){return s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height}function jE(s,t){let n=null,a;const o=la(s);function l(){var u;clearTimeout(a),(u=n)==null||u.disconnect(),n=null}function d(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),l();const f=s.getBoundingClientRect(),{left:y,top:v,width:g,height:N}=f;if(u||t(),!g||!N)return;const S=eu(v),b=eu(o.clientWidth-(y+g)),k=eu(o.clientHeight-(v+N)),P=eu(y),T={rootMargin:-S+"px "+-b+"px "+-k+"px "+-P+"px",threshold:Hn(0,yi(1,m))||1};let O=!0;function H(se){const K=se[0].intersectionRatio;if(K!==m){if(!O)return d();K?d(!1,K):a=setTimeout(()=>{d(!1,1e-7)},1e3)}K===1&&!Xw(f,s.getBoundingClientRect())&&d(),O=!1}try{n=new IntersectionObserver(H,{...T,root:o.ownerDocument})}catch{n=new IntersectionObserver(H,T)}n.observe(s)}return d(!0),l}function NE(s,t,n,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,f=wx(s),y=o||l?[...f?qc(f):[],...qc(t)]:[];y.forEach(P=>{o&&P.addEventListener("scroll",n,{passive:!0}),l&&P.addEventListener("resize",n)});const v=f&&u?jE(f,n):null;let g=-1,N=null;d&&(N=new ResizeObserver(P=>{let[R]=P;R&&R.target===f&&N&&(N.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=N)==null||T.observe(t)})),n()}),f&&!m&&N.observe(f),N.observe(t));let S,b=m?ao(s):null;m&&k();function k(){const P=ao(s);b&&!Xw(b,P)&&n(),b=P,S=requestAnimationFrame(k)}return n(),()=>{var P;y.forEach(R=>{o&&R.removeEventListener("scroll",n),l&&R.removeEventListener("resize",n)}),v?.(),(P=N)==null||P.disconnect(),N=null,m&&cancelAnimationFrame(S)}}const kE=sE,SE=nE,CE=J3,EE=aE,TE=eE,vy=Z3,AE=rE,PE=(s,t,n)=>{const a=new Map,o={platform:wE,...n},l={...o.platform,_c:a};return X3(s,t,{...o,platform:l})};var Nu=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Fu(s,t){if(s===t)return!0;if(typeof s!=typeof t)return!1;if(typeof s=="function"&&s.toString()===t.toString())return!0;let n,a,o;if(s&&t&&typeof s=="object"){if(Array.isArray(s)){if(n=s.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Fu(s[a],t[a]))return!1;return!0}if(o=Object.keys(s),n=o.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,o[a]))return!1;for(a=n;a--!==0;){const l=o[a];if(!(l==="_owner"&&s.$$typeof)&&!Fu(s[l],t[l]))return!1}return!0}return s!==s&&t!==t}function Zw(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function yy(s,t){const n=Zw(s);return Math.round(t*n)/n}function gf(s){const t=x.useRef(s);return Nu(()=>{t.current=s}),t}function RE(s){s===void 0&&(s={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:o,elements:{reference:l,floating:d}={},transform:u=!0,whileElementsMounted:m,open:f}=s,[y,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,N]=x.useState(a);Fu(g,a)||N(a);const[S,b]=x.useState(null),[k,P]=x.useState(null),R=x.useCallback(E=>{E!==se.current&&(se.current=E,b(E))},[]),T=x.useCallback(E=>{E!==K.current&&(K.current=E,P(E))},[]),O=l||S,H=d||k,se=x.useRef(null),K=x.useRef(null),re=x.useRef(y),W=m!=null,me=gf(m),I=gf(o),X=gf(f),$=x.useCallback(()=>{if(!se.current||!K.current)return;const E={placement:t,strategy:n,middleware:g};I.current&&(E.platform=I.current),PE(se.current,K.current,E).then(G=>{const Y={...G,isPositioned:X.current!==!1};Q.current&&!Fu(re.current,Y)&&(re.current=Y,Nl.flushSync(()=>{v(Y)}))})},[g,t,n,I,X]);Nu(()=>{f===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,v(E=>({...E,isPositioned:!1})))},[f]);const Q=x.useRef(!1);Nu(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Nu(()=>{if(O&&(se.current=O),H&&(K.current=H),O&&H){if(me.current)return me.current(O,H,$);$()}},[O,H,$,me,W]);const ne=x.useMemo(()=>({reference:se,floating:K,setReference:R,setFloating:T}),[R,T]),F=x.useMemo(()=>({reference:O,floating:H}),[O,H]),C=x.useMemo(()=>{const E={position:n,left:0,top:0};if(!F.floating)return E;const G=yy(F.floating,y.x),Y=yy(F.floating,y.y);return u?{...E,transform:"translate("+G+"px, "+Y+"px)",...Zw(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:Y}},[n,u,F.floating,y.x,y.y]);return x.useMemo(()=>({...y,update:$,refs:ne,elements:F,floatingStyles:C}),[y,$,ne,F,C])}const _E=s=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:s,fn(n){const{element:a,padding:o}=typeof s=="function"?s(n):s;return a&&t(a)?a.current!=null?vy({element:a.current,padding:o}).fn(n):{}:a?vy({element:a,padding:o}).fn(n):{}}}},OE=(s,t)=>({...kE(s),options:[s,t]}),LE=(s,t)=>({...SE(s),options:[s,t]}),IE=(s,t)=>({...AE(s),options:[s,t]}),ME=(s,t)=>({...CE(s),options:[s,t]}),DE=(s,t)=>({...EE(s),options:[s,t]}),qE=(s,t)=>({...TE(s),options:[s,t]}),$E=(s,t)=>({..._E(s),options:[s,t]});var FE="Arrow",Jw=x.forwardRef((s,t)=>{const{children:n,width:a=10,height:o=5,...l}=s;return e.jsx(xt.svg,{...l,ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jw.displayName=FE;var zE=Jw;function ej(s){const[t,n]=x.useState(void 0);return Ls(()=>{if(s){n({width:s.offsetWidth,height:s.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,u;if("borderBoxSize"in l){const m=l.borderBoxSize,f=Array.isArray(m)?m[0]:m;d=f.inlineSize,u=f.blockSize}else d=s.offsetWidth,u=s.offsetHeight;n({width:d,height:u})});return a.observe(s,{box:"border-box"}),()=>a.unobserve(s)}else n(void 0)},[s]),t}var Nx="Popper",[tj,uh]=fo(Nx),[UE,sj]=tj(Nx),nj=s=>{const{__scopePopper:t,children:n}=s,[a,o]=x.useState(null);return e.jsx(UE,{scope:t,anchor:a,onAnchorChange:o,children:n})};nj.displayName=Nx;var rj="PopperAnchor",aj=x.forwardRef((s,t)=>{const{__scopePopper:n,virtualRef:a,...o}=s,l=sj(rj,n),d=x.useRef(null),u=Kt(t,d);return x.useEffect(()=>{l.onAnchorChange(a?.current||d.current)}),a?null:e.jsx(xt.div,{...o,ref:u})});aj.displayName=rj;var kx="PopperContent",[BE,HE]=tj(kx),ij=x.forwardRef((s,t)=>{const{__scopePopper:n,side:a="bottom",sideOffset:o=0,align:l="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:g=!1,updatePositionStrategy:N="optimized",onPlaced:S,...b}=s,k=sj(kx,n),[P,R]=x.useState(null),T=Kt(t,oe=>R(oe)),[O,H]=x.useState(null),se=ej(O),K=se?.width??0,re=se?.height??0,W=a+(l!=="center"?"-"+l:""),me=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},I=Array.isArray(f)?f:[f],X=I.length>0,$={padding:me,boundary:I.filter(KE),altBoundary:X},{refs:Q,floatingStyles:ne,placement:F,isPositioned:C,middlewareData:E}=RE({strategy:"fixed",placement:W,whileElementsMounted:(...oe)=>NE(...oe,{animationFrame:N==="always"}),elements:{reference:k.anchor},middleware:[OE({mainAxis:o+re,alignmentAxis:d}),m&&LE({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?IE():void 0,...$}),m&&ME({...$}),DE({...$,apply:({elements:oe,rects:ue,availableWidth:ke,availableHeight:ye})=>{const{width:Ee,height:De}=ue.reference,Ve=oe.floating.style;Ve.setProperty("--radix-popper-available-width",`${ke}px`),Ve.setProperty("--radix-popper-available-height",`${ye}px`),Ve.setProperty("--radix-popper-anchor-width",`${Ee}px`),Ve.setProperty("--radix-popper-anchor-height",`${De}px`)}}),O&&$E({element:O,padding:u}),VE({arrowWidth:K,arrowHeight:re}),g&&qE({strategy:"referenceHidden",...$})]}),[G,Y]=cj(F),q=On(S);Ls(()=>{C&&q?.()},[C,q]);const ee=E.arrow?.x,xe=E.arrow?.y,U=E.arrow?.centerOffset!==0,[_,D]=x.useState();return Ls(()=>{P&&D(window.getComputedStyle(P).zIndex)},[P]),e.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:C?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_,"--radix-popper-transform-origin":[E.transformOrigin?.x,E.transformOrigin?.y].join(" "),...E.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(BE,{scope:n,placedSide:G,onArrowChange:H,arrowX:ee,arrowY:xe,shouldHideArrow:U,children:e.jsx(xt.div,{"data-side":G,"data-align":Y,...b,ref:T,style:{...b.style,animation:C?void 0:"none"}})})})});ij.displayName=kx;var oj="PopperArrow",WE={top:"bottom",right:"left",bottom:"top",left:"right"},lj=x.forwardRef(function(t,n){const{__scopePopper:a,...o}=t,l=HE(oj,a),d=WE[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(zE,{...o,ref:n,style:{...o.style,display:"block"}})})});lj.displayName=oj;function KE(s){return s!==null}var VE=s=>({name:"transformOrigin",options:s,fn(t){const{placement:n,rects:a,middlewareData:o}=t,d=o.arrow?.centerOffset!==0,u=d?0:s.arrowWidth,m=d?0:s.arrowHeight,[f,y]=cj(n),v={start:"0%",center:"50%",end:"100%"}[y],g=(o.arrow?.x??0)+u/2,N=(o.arrow?.y??0)+m/2;let S="",b="";return f==="bottom"?(S=d?v:`${g}px`,b=`${-m}px`):f==="top"?(S=d?v:`${g}px`,b=`${a.floating.height+m}px`):f==="right"?(S=`${-m}px`,b=d?v:`${N}px`):f==="left"&&(S=`${a.floating.width+m}px`,b=d?v:`${N}px`),{data:{x:S,y:b}}}});function cj(s){const[t,n="center"]=s.split("-");return[t,n]}var dj=nj,uj=aj,hj=ij,mj=lj,[hh]=fo("Tooltip",[uh]),mh=uh(),fj="TooltipProvider",QE=700,gp="tooltip.open",[GE,Sx]=hh(fj),pj=s=>{const{__scopeTooltip:t,delayDuration:n=QE,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:l}=s,d=x.useRef(!0),u=x.useRef(!1),m=x.useRef(0);return x.useEffect(()=>{const f=m.current;return()=>window.clearTimeout(f)},[]),e.jsx(GE,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(m.current),d.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>d.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:x.useCallback(f=>{u.current=f},[]),disableHoverableContent:o,children:l})};pj.displayName=fj;var fh="Tooltip",[YE,ph]=hh(fh),xj=s=>{const{__scopeTooltip:t,children:n,open:a,defaultOpen:o=!1,onOpenChange:l,disableHoverableContent:d,delayDuration:u}=s,m=Sx(fh,s.__scopeTooltip),f=mh(t),[y,v]=x.useState(null),g=Ji(),N=x.useRef(0),S=d??m.disableHoverableContent,b=u??m.delayDuration,k=x.useRef(!1),[P=!1,R]=fl({prop:a,defaultProp:o,onChange:K=>{K?(m.onOpen(),document.dispatchEvent(new CustomEvent(gp))):m.onClose(),l?.(K)}}),T=x.useMemo(()=>P?k.current?"delayed-open":"instant-open":"closed",[P]),O=x.useCallback(()=>{window.clearTimeout(N.current),N.current=0,k.current=!1,R(!0)},[R]),H=x.useCallback(()=>{window.clearTimeout(N.current),N.current=0,R(!1)},[R]),se=x.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>{k.current=!0,R(!0),N.current=0},b)},[b,R]);return x.useEffect(()=>()=>{N.current&&(window.clearTimeout(N.current),N.current=0)},[]),e.jsx(dj,{...f,children:e.jsx(YE,{scope:t,contentId:g,open:P,stateAttribute:T,trigger:y,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{m.isOpenDelayedRef.current?se():O()},[m.isOpenDelayedRef,se,O]),onTriggerLeave:x.useCallback(()=>{S?H():(window.clearTimeout(N.current),N.current=0)},[H,S]),onOpen:O,onClose:H,disableHoverableContent:S,children:n})})};xj.displayName=fh;var vp="TooltipTrigger",gj=x.forwardRef((s,t)=>{const{__scopeTooltip:n,...a}=s,o=ph(vp,n),l=Sx(vp,n),d=mh(n),u=x.useRef(null),m=Kt(t,u,o.onTriggerChange),f=x.useRef(!1),y=x.useRef(!1),v=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),e.jsx(uj,{asChild:!0,...d,children:e.jsx(xt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:m,onPointerMove:lt(s.onPointerMove,g=>{g.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:lt(s.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:lt(s.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:lt(s.onFocus,()=>{f.current||o.onOpen()}),onBlur:lt(s.onBlur,o.onClose),onClick:lt(s.onClick,o.onClose)})})});gj.displayName=vp;var XE="TooltipPortal",[tD,ZE]=hh(XE,{forceMount:void 0}),vl="TooltipContent",vj=x.forwardRef((s,t)=>{const n=ZE(vl,s.__scopeTooltip),{forceMount:a=n.forceMount,side:o="top",...l}=s,d=ph(vl,s.__scopeTooltip);return e.jsx(kl,{present:a||d.open,children:d.disableHoverableContent?e.jsx(yj,{side:o,...l,ref:t}):e.jsx(JE,{side:o,...l,ref:t})})}),JE=x.forwardRef((s,t)=>{const n=ph(vl,s.__scopeTooltip),a=Sx(vl,s.__scopeTooltip),o=x.useRef(null),l=Kt(t,o),[d,u]=x.useState(null),{trigger:m,onClose:f}=n,y=o.current,{onPointerInTransitChange:v}=a,g=x.useCallback(()=>{u(null),v(!1)},[v]),N=x.useCallback((S,b)=>{const k=S.currentTarget,P={x:S.clientX,y:S.clientY},R=rT(P,k.getBoundingClientRect()),T=aT(P,R),O=iT(b.getBoundingClientRect()),H=lT([...T,...O]);u(H),v(!0)},[v]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(m&&y){const S=k=>N(k,y),b=k=>N(k,m);return m.addEventListener("pointerleave",S),y.addEventListener("pointerleave",b),()=>{m.removeEventListener("pointerleave",S),y.removeEventListener("pointerleave",b)}}},[m,y,N,g]),x.useEffect(()=>{if(d){const S=b=>{const k=b.target,P={x:b.clientX,y:b.clientY},R=m?.contains(k)||y?.contains(k),T=!oT(P,d);R?g():T&&(g(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[m,y,d,f,g]),e.jsx(yj,{...s,ref:l})}),[eT,tT]=hh(fh,{isInside:!1}),sT=IS("TooltipContent"),yj=x.forwardRef((s,t)=>{const{__scopeTooltip:n,children:a,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:d,...u}=s,m=ph(vl,n),f=mh(n),{onClose:y}=m;return x.useEffect(()=>(document.addEventListener(gp,y),()=>document.removeEventListener(gp,y)),[y]),x.useEffect(()=>{if(m.trigger){const v=g=>{g.target?.contains(m.trigger)&&y()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[m.trigger,y]),e.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:v=>v.preventDefault(),onDismiss:y,children:e.jsxs(hj,{"data-state":m.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(sT,{children:a}),e.jsx(eT,{scope:n,isInside:!0,children:e.jsx(tC,{id:m.contentId,role:"tooltip",children:o||a})})]})})});vj.displayName=vl;var bj="TooltipArrow",nT=x.forwardRef((s,t)=>{const{__scopeTooltip:n,...a}=s,o=mh(n);return tT(bj,n).isInside?null:e.jsx(mj,{...o,...a,ref:t})});nT.displayName=bj;function rT(s,t){const n=Math.abs(t.top-s.y),a=Math.abs(t.bottom-s.y),o=Math.abs(t.right-s.x),l=Math.abs(t.left-s.x);switch(Math.min(n,a,o,l)){case l:return"left";case o:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function aT(s,t,n=5){const a=[];switch(t){case"top":a.push({x:s.x-n,y:s.y+n},{x:s.x+n,y:s.y+n});break;case"bottom":a.push({x:s.x-n,y:s.y-n},{x:s.x+n,y:s.y-n});break;case"left":a.push({x:s.x+n,y:s.y-n},{x:s.x+n,y:s.y+n});break;case"right":a.push({x:s.x-n,y:s.y-n},{x:s.x-n,y:s.y+n});break}return a}function iT(s){const{top:t,right:n,bottom:a,left:o}=s;return[{x:o,y:t},{x:n,y:t},{x:n,y:a},{x:o,y:a}]}function oT(s,t){const{x:n,y:a}=s;let o=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const u=t[l].x,m=t[l].y,f=t[d].x,y=t[d].y;m>a!=y>a&&n<(f-u)*(a-m)/(y-m)+u&&(o=!o)}return o}function lT(s){const t=s.slice();return t.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),cT(t)}function cT(s){if(s.length<=1)return s.slice();const t=[];for(let a=0;a<s.length;a++){const o=s[a];for(;t.length>=2;){const l=t[t.length-1],d=t[t.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let a=s.length-1;a>=0;a--){const o=s[a];for(;n.length>=2;){const l=n[n.length-1],d=n[n.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dT=pj,uT=xj,hT=gj,wj=vj;const jj=dT,mT=uT,fT=hT,Nj=x.forwardRef(({className:s,sideOffset:t=4,...n},a)=>e.jsx(wj,{ref:a,sideOffset:t,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...n}));Nj.displayName=wj.displayName;const vf=768;function pT(){const[s,t]=x.useState(void 0);return x.useEffect(()=>{const n=window.matchMedia(`(max-width: ${vf-1}px)`),a=()=>{t(window.innerWidth<vf)};return n.addEventListener("change",a),t(window.innerWidth<vf),()=>n.removeEventListener("change",a)},[]),!!s}const xT=Sl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),z=x.forwardRef(({className:s,variant:t,size:n,asChild:a=!1,...o},l)=>{const d=a?ax:"button";return e.jsx(d,{className:Ze(xT({variant:t,size:n,className:s})),ref:l,...o})});z.displayName="Button";const Fe=x.forwardRef(({className:s,type:t,...n},a)=>e.jsx("input",{type:t,className:Ze("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n}));Fe.displayName="Input";var gT="Separator",by="horizontal",vT=["horizontal","vertical"],kj=x.forwardRef((s,t)=>{const{decorative:n,orientation:a=by,...o}=s,l=yT(a)?a:by,u=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(xt.div,{"data-orientation":l,...u,...o,ref:t})});kj.displayName=gT;function yT(s){return vT.includes(s)}var Sj=kj;const zu=x.forwardRef(({className:s,orientation:t="horizontal",decorative:n=!0,...a},o)=>e.jsx(Sj,{ref:o,decorative:n,orientation:t,className:Ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));zu.displayName=Sj.displayName;var yf="focusScope.autoFocusOnMount",bf="focusScope.autoFocusOnUnmount",wy={bubbles:!1,cancelable:!0},bT="FocusScope",Cx=x.forwardRef((s,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...d}=s,[u,m]=x.useState(null),f=On(o),y=On(l),v=x.useRef(null),g=Kt(t,b=>m(b)),N=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let b=function(T){if(N.paused||!u)return;const O=T.target;u.contains(O)?v.current=O:li(v.current,{select:!0})},k=function(T){if(N.paused||!u)return;const O=T.relatedTarget;O!==null&&(u.contains(O)||li(v.current,{select:!0}))},P=function(T){if(document.activeElement===document.body)for(const H of T)H.removedNodes.length>0&&li(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const R=new MutationObserver(P);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),R.disconnect()}}},[a,u,N.paused]),x.useEffect(()=>{if(u){Ny.add(N);const b=document.activeElement;if(!u.contains(b)){const P=new CustomEvent(yf,wy);u.addEventListener(yf,f),u.dispatchEvent(P),P.defaultPrevented||(wT(CT(Cj(u)),{select:!0}),document.activeElement===b&&li(u))}return()=>{u.removeEventListener(yf,f),setTimeout(()=>{const P=new CustomEvent(bf,wy);u.addEventListener(bf,y),u.dispatchEvent(P),P.defaultPrevented||li(b??document.body,{select:!0}),u.removeEventListener(bf,y),Ny.remove(N)},0)}}},[u,f,y,N]);const S=x.useCallback(b=>{if(!n&&!a||N.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,P=document.activeElement;if(k&&P){const R=b.currentTarget,[T,O]=jT(R);T&&O?!b.shiftKey&&P===O?(b.preventDefault(),n&&li(T,{select:!0})):b.shiftKey&&P===T&&(b.preventDefault(),n&&li(O,{select:!0})):P===R&&b.preventDefault()}},[n,a,N.paused]);return e.jsx(xt.div,{tabIndex:-1,...d,ref:g,onKeyDown:S})});Cx.displayName=bT;function wT(s,{select:t=!1}={}){const n=document.activeElement;for(const a of s)if(li(a,{select:t}),document.activeElement!==n)return}function jT(s){const t=Cj(s),n=jy(t,s),a=jy(t.reverse(),s);return[n,a]}function Cj(s){const t=[],n=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jy(s,t){for(const n of s)if(!NT(n,{upTo:t}))return n}function NT(s,{upTo:t}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(t!==void 0&&s===t)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function kT(s){return s instanceof HTMLInputElement&&"select"in s}function li(s,{select:t=!1}={}){if(s&&s.focus){const n=document.activeElement;s.focus({preventScroll:!0}),s!==n&&kT(s)&&t&&s.select()}}var Ny=ST();function ST(){let s=[];return{add(t){const n=s[0];t!==n&&n?.pause(),s=ky(s,t),s.unshift(t)},remove(t){s=ky(s,t),s[0]?.resume()}}}function ky(s,t){const n=[...s],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function CT(s){return s.filter(t=>t.tagName!=="A")}var wf=0;function Ej(){x.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??Sy()),document.body.insertAdjacentElement("beforeend",s[1]??Sy()),wf++,()=>{wf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wf--}},[])}function Sy(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var sa=function(){return sa=Object.assign||function(t){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},sa.apply(this,arguments)};function Tj(s,t){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n}function ET(s,t,n){if(n||arguments.length===2)for(var a=0,o=t.length,l;a<o;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return s.concat(l||Array.prototype.slice.call(t))}var ku="right-scroll-bar-position",Su="width-before-scroll-bar",TT="with-scroll-bars-hidden",AT="--removed-body-scroll-bar-size";function jf(s,t){return typeof s=="function"?s(t):s&&(s.current=t),s}function PT(s,t){var n=x.useState(function(){return{value:s,callback:t,facade:{get current(){return n.value},set current(a){var o=n.value;o!==a&&(n.value=a,n.callback(a,o))}}}})[0];return n.callback=t,n.facade}var RT=typeof window<"u"?x.useLayoutEffect:x.useEffect,Cy=new WeakMap;function _T(s,t){var n=PT(null,function(a){return s.forEach(function(o){return jf(o,a)})});return RT(function(){var a=Cy.get(n);if(a){var o=new Set(a),l=new Set(s),d=n.current;o.forEach(function(u){l.has(u)||jf(u,null)}),l.forEach(function(u){o.has(u)||jf(u,d)})}Cy.set(n,s)},[s]),n}function OT(s){return s}function LT(s,t){t===void 0&&(t=OT);var n=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:s},useMedium:function(l){var d=t(l,a);return n.push(d),function(){n=n.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(a=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){a=!0;var d=[];if(n.length){var u=n;n=[],u.forEach(l),d=n}var m=function(){var y=d;d=[],y.forEach(l)},f=function(){return Promise.resolve().then(m)};f(),n={push:function(y){d.push(y),f()},filter:function(y){return d=d.filter(y),n}}}};return o}function IT(s){s===void 0&&(s={});var t=LT(null);return t.options=sa({async:!0,ssr:!1},s),t}var Aj=function(s){var t=s.sideCar,n=Tj(s,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,sa({},n))};Aj.isSideCarExport=!0;function MT(s,t){return s.useMedium(t),Aj}var Pj=IT(),Nf=function(){},xh=x.forwardRef(function(s,t){var n=x.useRef(null),a=x.useState({onScrollCapture:Nf,onWheelCapture:Nf,onTouchMoveCapture:Nf}),o=a[0],l=a[1],d=s.forwardProps,u=s.children,m=s.className,f=s.removeScrollBar,y=s.enabled,v=s.shards,g=s.sideCar,N=s.noIsolation,S=s.inert,b=s.allowPinchZoom,k=s.as,P=k===void 0?"div":k,R=s.gapMode,T=Tj(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,H=_T([n,t]),se=sa(sa({},T),o);return x.createElement(x.Fragment,null,y&&x.createElement(O,{sideCar:Pj,removeScrollBar:f,shards:v,noIsolation:N,inert:S,setCallbacks:l,allowPinchZoom:!!b,lockRef:n,gapMode:R}),d?x.cloneElement(x.Children.only(u),sa(sa({},se),{ref:H})):x.createElement(P,sa({},se,{className:m,ref:H}),u))});xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xh.classNames={fullWidth:Su,zeroRight:ku};var DT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qT(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var t=DT();return t&&s.setAttribute("nonce",t),s}function $T(s,t){s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}function FT(s){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(s)}var zT=function(){var s=0,t=null;return{add:function(n){s==0&&(t=qT())&&($T(t,n),FT(t)),s++},remove:function(){s--,!s&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UT=function(){var s=zT();return function(t,n){x.useEffect(function(){return s.add(t),function(){s.remove()}},[t&&n])}},Rj=function(){var s=UT(),t=function(n){var a=n.styles,o=n.dynamic;return s(a,o),null};return t},BT={left:0,top:0,right:0,gap:0},kf=function(s){return parseInt(s||"",10)||0},HT=function(s){var t=window.getComputedStyle(document.body),n=t[s==="padding"?"paddingLeft":"marginLeft"],a=t[s==="padding"?"paddingTop":"marginTop"],o=t[s==="padding"?"paddingRight":"marginRight"];return[kf(n),kf(a),kf(o)]},WT=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return BT;var t=HT(s),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},KT=Rj(),cl="data-scroll-locked",VT=function(s,t,n,a){var o=s.left,l=s.top,d=s.right,u=s.gap;return n===void 0&&(n="margin"),`
  .`.concat(TT,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(cl,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ku,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Su,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(ku," .").concat(ku,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(cl,`] {
    `).concat(AT,": ").concat(u,`px;
  }
`)},Ey=function(){var s=parseInt(document.body.getAttribute(cl)||"0",10);return isFinite(s)?s:0},QT=function(){x.useEffect(function(){return document.body.setAttribute(cl,(Ey()+1).toString()),function(){var s=Ey()-1;s<=0?document.body.removeAttribute(cl):document.body.setAttribute(cl,s.toString())}},[])},GT=function(s){var t=s.noRelative,n=s.noImportant,a=s.gapMode,o=a===void 0?"margin":a;QT();var l=x.useMemo(function(){return WT(o)},[o]);return x.createElement(KT,{styles:VT(l,!t,o,n?"":"!important")})},yp=!1;if(typeof window<"u")try{var tu=Object.defineProperty({},"passive",{get:function(){return yp=!0,!0}});window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{yp=!1}var Vo=yp?{passive:!1}:!1,YT=function(s){return s.tagName==="TEXTAREA"},_j=function(s,t){if(!(s instanceof Element))return!1;var n=window.getComputedStyle(s);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!YT(s)&&n[t]==="visible")},XT=function(s){return _j(s,"overflowY")},ZT=function(s){return _j(s,"overflowX")},Ty=function(s,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=Oj(s,a);if(o){var l=Lj(s,a),d=l[1],u=l[2];if(d>u)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},JT=function(s){var t=s.scrollTop,n=s.scrollHeight,a=s.clientHeight;return[t,n,a]},eA=function(s){var t=s.scrollLeft,n=s.scrollWidth,a=s.clientWidth;return[t,n,a]},Oj=function(s,t){return s==="v"?XT(t):ZT(t)},Lj=function(s,t){return s==="v"?JT(t):eA(t)},tA=function(s,t){return s==="h"&&t==="rtl"?-1:1},sA=function(s,t,n,a,o){var l=tA(s,window.getComputedStyle(t).direction),d=l*a,u=n.target,m=t.contains(u),f=!1,y=d>0,v=0,g=0;do{var N=Lj(s,u),S=N[0],b=N[1],k=N[2],P=b-k-l*S;(S||P)&&Oj(s,u)&&(v+=P,g+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!m&&u!==document.body||m&&(t.contains(u)||t===u));return(y&&Math.abs(v)<1||!y&&Math.abs(g)<1)&&(f=!0),f},su=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Ay=function(s){return[s.deltaX,s.deltaY]},Py=function(s){return s&&"current"in s?s.current:s},nA=function(s,t){return s[0]===t[0]&&s[1]===t[1]},rA=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},aA=0,Qo=[];function iA(s){var t=x.useRef([]),n=x.useRef([0,0]),a=x.useRef(),o=x.useState(aA++)[0],l=x.useState(Rj)[0],d=x.useRef(s);x.useEffect(function(){d.current=s},[s]),x.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(o));var b=ET([s.lockRef.current],(s.shards||[]).map(Py),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[s.inert,s.lockRef.current,s.shards]);var u=x.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!d.current.allowPinchZoom;var P=su(b),R=n.current,T="deltaX"in b?b.deltaX:R[0]-P[0],O="deltaY"in b?b.deltaY:R[1]-P[1],H,se=b.target,K=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in b&&K==="h"&&se.type==="range")return!1;var re=Ty(K,se);if(!re)return!0;if(re?H=K:(H=K==="v"?"h":"v",re=Ty(K,se)),!re)return!1;if(!a.current&&"changedTouches"in b&&(T||O)&&(a.current=H),!H)return!0;var W=a.current||H;return sA(W,k,b,W==="h"?T:O)},[]),m=x.useCallback(function(b){var k=b;if(!(!Qo.length||Qo[Qo.length-1]!==l)){var P="deltaY"in k?Ay(k):su(k),R=t.current.filter(function(H){return H.name===k.type&&(H.target===k.target||k.target===H.shadowParent)&&nA(H.delta,P)})[0];if(R&&R.should){k.cancelable&&k.preventDefault();return}if(!R){var T=(d.current.shards||[]).map(Py).filter(Boolean).filter(function(H){return H.contains(k.target)}),O=T.length>0?u(k,T[0]):!d.current.noIsolation;O&&k.cancelable&&k.preventDefault()}}},[]),f=x.useCallback(function(b,k,P,R){var T={name:b,delta:k,target:P,should:R,shadowParent:oA(P)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(O){return O!==T})},1)},[]),y=x.useCallback(function(b){n.current=su(b),a.current=void 0},[]),v=x.useCallback(function(b){f(b.type,Ay(b),b.target,u(b,s.lockRef.current))},[]),g=x.useCallback(function(b){f(b.type,su(b),b.target,u(b,s.lockRef.current))},[]);x.useEffect(function(){return Qo.push(l),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:g}),document.addEventListener("wheel",m,Vo),document.addEventListener("touchmove",m,Vo),document.addEventListener("touchstart",y,Vo),function(){Qo=Qo.filter(function(b){return b!==l}),document.removeEventListener("wheel",m,Vo),document.removeEventListener("touchmove",m,Vo),document.removeEventListener("touchstart",y,Vo)}},[]);var N=s.removeScrollBar,S=s.inert;return x.createElement(x.Fragment,null,S?x.createElement(l,{styles:rA(o)}):null,N?x.createElement(GT,{gapMode:s.gapMode}):null)}function oA(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const lA=MT(Pj,iA);var Ex=x.forwardRef(function(s,t){return x.createElement(xh,sa({},s,{ref:t,sideCar:lA}))});Ex.classNames=xh.classNames;var cA=function(s){if(typeof document>"u")return null;var t=Array.isArray(s)?s[0]:s;return t.ownerDocument.body},Go=new WeakMap,nu=new WeakMap,ru={},Sf=0,Ij=function(s){return s&&(s.host||Ij(s.parentNode))},dA=function(s,t){return t.map(function(n){if(s.contains(n))return n;var a=Ij(n);return a&&s.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",s,". Doing nothing"),null)}).filter(function(n){return!!n})},uA=function(s,t,n,a){var o=dA(t,Array.isArray(s)?s:[s]);ru[n]||(ru[n]=new WeakMap);var l=ru[n],d=[],u=new Set,m=new Set(o),f=function(v){!v||u.has(v)||(u.add(v),f(v.parentNode))};o.forEach(f);var y=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(g){if(u.has(g))y(g);else try{var N=g.getAttribute(a),S=N!==null&&N!=="false",b=(Go.get(g)||0)+1,k=(l.get(g)||0)+1;Go.set(g,b),l.set(g,k),d.push(g),b===1&&S&&nu.set(g,!0),k===1&&g.setAttribute(n,"true"),S||g.setAttribute(a,"true")}catch(P){console.error("aria-hidden: cannot operate on ",g,P)}})};return y(t),u.clear(),Sf++,function(){d.forEach(function(v){var g=Go.get(v)-1,N=l.get(v)-1;Go.set(v,g),l.set(v,N),g||(nu.has(v)||v.removeAttribute(a),nu.delete(v)),N||v.removeAttribute(n)}),Sf--,Sf||(Go=new WeakMap,Go=new WeakMap,nu=new WeakMap,ru={})}},Mj=function(s,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(s)?s:[s]),o=cA(s);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live]"))),uA(a,o,n,"aria-hidden")):function(){return null}},Tx="Dialog",[Dj]=fo(Tx),[hA,$r]=Dj(Tx),qj=s=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:o,onOpenChange:l,modal:d=!0}=s,u=x.useRef(null),m=x.useRef(null),[f=!1,y]=fl({prop:a,defaultProp:o,onChange:l});return e.jsx(hA,{scope:t,triggerRef:u,contentRef:m,contentId:Ji(),titleId:Ji(),descriptionId:Ji(),open:f,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(v=>!v),[y]),modal:d,children:n})};qj.displayName=Tx;var $j="DialogTrigger",mA=x.forwardRef((s,t)=>{const{__scopeDialog:n,...a}=s,o=$r($j,n),l=Kt(t,o.triggerRef);return e.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Rx(o.open),...a,ref:l,onClick:lt(s.onClick,o.onOpenToggle)})});mA.displayName=$j;var Ax="DialogPortal",[fA,Fj]=Dj(Ax,{forceMount:void 0}),zj=s=>{const{__scopeDialog:t,forceMount:n,children:a,container:o}=s,l=$r(Ax,t);return e.jsx(fA,{scope:t,forceMount:n,children:x.Children.map(a,d=>e.jsx(kl,{present:n||l.open,children:e.jsx(nh,{asChild:!0,container:o,children:d})}))})};zj.displayName=Ax;var Uu="DialogOverlay",Uj=x.forwardRef((s,t)=>{const n=Fj(Uu,s.__scopeDialog),{forceMount:a=n.forceMount,...o}=s,l=$r(Uu,s.__scopeDialog);return l.modal?e.jsx(kl,{present:a||l.open,children:e.jsx(xA,{...o,ref:t})}):null});Uj.displayName=Uu;var pA=ml("DialogOverlay.RemoveScroll"),xA=x.forwardRef((s,t)=>{const{__scopeDialog:n,...a}=s,o=$r(Uu,n);return e.jsx(Ex,{as:pA,allowPinchZoom:!0,shards:[o.contentRef],children:e.jsx(xt.div,{"data-state":Rx(o.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),io="DialogContent",Bj=x.forwardRef((s,t)=>{const n=Fj(io,s.__scopeDialog),{forceMount:a=n.forceMount,...o}=s,l=$r(io,s.__scopeDialog);return e.jsx(kl,{present:a||l.open,children:l.modal?e.jsx(gA,{...o,ref:t}):e.jsx(vA,{...o,ref:t})})});Bj.displayName=io;var gA=x.forwardRef((s,t)=>{const n=$r(io,s.__scopeDialog),a=x.useRef(null),o=Kt(t,n.contentRef,a);return x.useEffect(()=>{const l=a.current;if(l)return Mj(l)},[]),e.jsx(Hj,{...s,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(s.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:lt(s.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:lt(s.onFocusOutside,l=>l.preventDefault())})}),vA=x.forwardRef((s,t)=>{const n=$r(io,s.__scopeDialog),a=x.useRef(!1),o=x.useRef(!1);return e.jsx(Hj,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{s.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||n.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:l=>{s.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;n.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),Hj=x.forwardRef((s,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=s,u=$r(io,n),m=x.useRef(null),f=Kt(t,m);return Ej(),e.jsxs(e.Fragment,{children:[e.jsx(Cx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l,children:e.jsx(Vc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Rx(u.open),...d,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(yA,{titleId:u.titleId}),e.jsx(wA,{contentRef:m,descriptionId:u.descriptionId})]})]})}),Px="DialogTitle",Wj=x.forwardRef((s,t)=>{const{__scopeDialog:n,...a}=s,o=$r(Px,n);return e.jsx(xt.h2,{id:o.titleId,...a,ref:t})});Wj.displayName=Px;var Kj="DialogDescription",Vj=x.forwardRef((s,t)=>{const{__scopeDialog:n,...a}=s,o=$r(Kj,n);return e.jsx(xt.p,{id:o.descriptionId,...a,ref:t})});Vj.displayName=Kj;var Qj="DialogClose",Gj=x.forwardRef((s,t)=>{const{__scopeDialog:n,...a}=s,o=$r(Qj,n);return e.jsx(xt.button,{type:"button",...a,ref:t,onClick:lt(s.onClick,()=>o.onOpenChange(!1))})});Gj.displayName=Qj;function Rx(s){return s?"open":"closed"}var Yj="DialogTitleWarning",[sD,Xj]=_S(Yj,{contentName:io,titleName:Px,docsSlug:"dialog"}),yA=({titleId:s})=>{const t=Xj(Yj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{s&&(document.getElementById(s)||console.error(n))},[n,s]),null},bA="DialogDescriptionWarning",wA=({contentRef:s,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Xj(bA).contentName}}.`;return x.useEffect(()=>{const o=s.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(a))},[a,s,t]),null},Zj=qj,Jj=zj,gh=Uj,vh=Bj,yh=Wj,bh=Vj,eN=Gj;const jA=Zj,NA=Jj,tN=x.forwardRef(({className:s,...t},n)=>e.jsx(gh,{className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:n}));tN.displayName=gh.displayName;const kA=Sl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sN=x.forwardRef(({side:s="right",className:t,children:n,...a},o)=>e.jsxs(NA,{children:[e.jsx(tN,{}),e.jsxs(vh,{ref:o,className:Ze(kA({side:s}),t),...a,children:[n,e.jsxs(eN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(vr,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sN.displayName=vh.displayName;const nN=({className:s,...t})=>e.jsx("div",{className:Ze("flex flex-col space-y-2 text-center sm:text-left",s),...t});nN.displayName="SheetHeader";const rN=x.forwardRef(({className:s,...t},n)=>e.jsx(yh,{ref:n,className:Ze("text-lg font-semibold text-foreground",s),...t}));rN.displayName=yh.displayName;const aN=x.forwardRef(({className:s,...t},n)=>e.jsx(bh,{ref:n,className:Ze("text-sm text-muted-foreground",s),...t}));aN.displayName=bh.displayName;function Ne({className:s,...t}){return e.jsx("div",{className:Ze("animate-pulse rounded-md bg-muted",s),...t})}const SA="sidebar_state",CA=3600*24*7,EA="16rem",TA="18rem",AA="3rem",PA="b",iN=x.createContext(null);function _x(){const s=x.useContext(iN);if(!s)throw new Error("useSidebar must be used within a SidebarProvider.");return s}function RA({defaultOpen:s=!0,open:t,onOpenChange:n,className:a,style:o,children:l,...d}){const u=pT(),[m,f]=x.useState(!1),[y,v]=x.useState(s),g=t??y,N=x.useCallback(P=>{const R=typeof P=="function"?P(g):P;n?n(R):v(R),document.cookie=`${SA}=${R}; path=/; max-age=${CA}`},[n,g]),S=x.useCallback(()=>u?f(P=>!P):N(P=>!P),[u,N,f]);x.useEffect(()=>{const P=R=>{R.key===PA&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),S())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[S]);const b=g?"expanded":"collapsed",k=x.useMemo(()=>({state:b,open:g,setOpen:N,isMobile:u,openMobile:m,setOpenMobile:f,toggleSidebar:S}),[b,g,N,u,m,f,S]);return e.jsx(iN.Provider,{value:k,children:e.jsx(jj,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":EA,"--sidebar-width-icon":AA,...o},className:Ze("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a),...d,children:l})})})}function _A({side:s="left",variant:t="sidebar",collapsible:n="offcanvas",className:a,children:o,...l}){const{isMobile:d,state:u,openMobile:m,setOpenMobile:f}=_x();return n==="none"?e.jsx("div",{"data-slot":"sidebar",className:Ze("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",a),...l,children:o}):d?e.jsx(jA,{open:m,onOpenChange:f,...l,children:e.jsxs(sN,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":TA},side:s,children:[e.jsxs(nN,{className:"sr-only",children:[e.jsx(rN,{children:"Sidebar"}),e.jsx(aN,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-full w-full flex-col",children:o})]})}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":t,"data-side":s,"data-slot":"sidebar",children:[e.jsx("div",{"data-slot":"sidebar-gap",className:Ze("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),e.jsx("div",{"data-slot":"sidebar-container",className:Ze("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",s==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...l,children:e.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:o})})]})}function OA({className:s,onClick:t,...n}){const{toggleSidebar:a}=_x();return e.jsxs(z,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Ze("h-7 w-7",s),onClick:o=>{t?.(o),a()},...n,children:[e.jsx(KC,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function LA({className:s,...t}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Ze("flex flex-col gap-2 p-2",s),...t})}function IA({className:s,...t}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Ze("flex flex-col gap-2 p-2",s),...t})}function MA({className:s,...t}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Ze("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s),...t})}function Ry({className:s,...t}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Ze("relative flex w-full min-w-0 flex-col p-2",s),...t})}function _y({className:s,asChild:t=!1,...n}){const a=t?ax:"div";return e.jsx(a,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Ze("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...n})}function Oy({className:s,...t}){return e.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Ze("w-full text-sm",s),...t})}function Ly({className:s,...t}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Ze("flex w-full min-w-0 flex-col gap-1",s),...t})}function Iy({className:s,...t}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Ze("group/menu-item relative",s),...t})}const DA=Sl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function My({asChild:s=!1,isActive:t=!1,variant:n="default",size:a="default",tooltip:o,className:l,...d}){const u=s?ax:"button",{isMobile:m,state:f}=_x(),y=e.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":t,className:Ze(DA({variant:n,size:a}),l),...d});return o?(typeof o=="string"&&(o={children:o}),e.jsxs(mT,{children:[e.jsx(fT,{asChild:!0,children:y}),e.jsx(Nj,{side:"right",align:"center",hidden:f!=="collapsed"||m,...o})]})):y}const qA="/images/logo.png",$A=[{title:"Overview",url:"/admin",icon:Ou},{title:"Customers",url:"/admin/customers",icon:ro},{title:"Projects",url:"/admin/projects",icon:_n},{title:"Invoices",url:"/admin/invoices",icon:Zt},{title:"Billing Rates",url:"/admin/billing-rates",icon:Ln},{title:"Quote Builder",url:"/admin/quote-builder",icon:ju},{title:"Conversations",url:"/admin/conversations",icon:UC},{title:"Support Tickets",url:"/admin/support",icon:Yi},{title:"Q&A",url:"/admin/qa",icon:kt},{title:"API Keys",url:"/admin/api-keys",icon:xl},{title:"Code Backups",url:"/admin/code-backups",icon:Zi},{title:"Lead Generator",url:"/admin/lead-generator",icon:hp},{title:"Servers",url:"/admin/servers",icon:fr},{title:"Knowledge Base",url:"/admin/knowledge-base",icon:so}],FA=[{title:"Settings",url:"/admin/settings",icon:GC}];function zA(){const[s]=Ab();return e.jsxs(_A,{children:[e.jsx(LA,{className:"p-4",children:e.jsx(Pn,{href:"/admin",children:e.jsxs("div",{className:"flex items-center gap-2.5 cursor-pointer","data-testid":"link-logo",children:[e.jsx("img",{src:qA,alt:"AI Powered Sites",className:"w-8 h-8 rounded-md object-cover"}),e.jsx("div",{children:e.jsx("span",{className:"text-sm font-semibold tracking-tight leading-tight",children:"AI Powered Sites"})})]})})}),e.jsxs(MA,{children:[e.jsxs(Ry,{children:[e.jsx(_y,{children:"Dashboard"}),e.jsx(Oy,{children:e.jsx(Ly,{children:$A.map(t=>{const n=s===t.url||t.url!=="/admin"&&s.startsWith(t.url);return e.jsx(Iy,{children:e.jsx(My,{asChild:!0,isActive:n,children:e.jsxs(Pn,{href:t.url,"data-testid":`link-nav-${t.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),e.jsx("span",{children:t.title})]})})},t.title)})})})]}),e.jsxs(Ry,{children:[e.jsx(_y,{children:"System"}),e.jsx(Oy,{children:e.jsx(Ly,{children:FA.map(t=>{const n=s===t.url;return e.jsx(Iy,{children:e.jsx(My,{asChild:!0,isActive:n,children:e.jsxs(Pn,{href:t.url,"data-testid":`link-nav-${t.title.toLowerCase()}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),e.jsx("span",{children:t.title})]})})},t.title)})})})]})]}),e.jsx(IA,{className:"p-4",children:e.jsx("div",{className:"text-xs text-muted-foreground",children:"AI Powered Sites"})})]})}const oN=x.createContext({theme:"light",toggleTheme:()=>{}});function UA({children:s}){const[t,n]=x.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");x.useEffect(()=>{const o=document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const a=()=>{n(o=>o==="light"?"dark":"light")};return e.jsx(oN.Provider,{value:{theme:t,toggleTheme:a},children:s})}function BA(){return x.useContext(oN)}function lN(){const{theme:s,toggleTheme:t}=BA();return e.jsx(z,{size:"icon",variant:"ghost",onClick:t,"data-testid":"button-theme-toggle",children:s==="light"?e.jsx(WC,{className:"w-4 h-4"}):e.jsx(e3,{className:"w-4 h-4"})})}function HA(s,t=[]){let n=[];function a(l,d){const u=x.createContext(d);u.displayName=l+"Context";const m=n.length;n=[...n,d];const f=v=>{const{scope:g,children:N,...S}=v,b=g?.[s]?.[m]||u,k=x.useMemo(()=>S,Object.values(S));return e.jsx(b.Provider,{value:k,children:N})};f.displayName=l+"Provider";function y(v,g){const N=g?.[s]?.[m]||u,S=x.useContext(N);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[f,y]}const o=()=>{const l=n.map(d=>x.createContext(d));return function(u){const m=u?.[s]||l;return x.useMemo(()=>({[`__scope${s}`]:{...u,[s]:m}}),[u,m])}};return o.scopeName=s,[a,WA(o,...t)]}function WA(...s){const t=s[0];if(s.length===1)return t;const n=()=>{const a=s.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=a.reduce((u,{useScope:m,scopeName:f})=>{const v=m(l)[`__scope${f}`];return{...u,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var KA=Symbol.for("react.lazy"),Bu=Gp[" use ".trim().toString()];function VA(s){return typeof s=="object"&&s!==null&&"then"in s}function cN(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===KA&&"_payload"in s&&VA(s._payload)}function QA(s){const t=GA(s),n=x.forwardRef((a,o)=>{let{children:l,...d}=a;cN(l)&&typeof Bu=="function"&&(l=Bu(l._payload));const u=x.Children.toArray(l),m=u.find(XA);if(m){const f=m.props.children,y=u.map(v=>v===m?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return e.jsx(t,{...d,ref:o,children:x.isValidElement(f)?x.cloneElement(f,void 0,y):null})}return e.jsx(t,{...d,ref:o,children:l})});return n.displayName=`${s}.Slot`,n}function GA(s){const t=x.forwardRef((n,a)=>{let{children:o,...l}=n;if(cN(o)&&typeof Bu=="function"&&(o=Bu(o._payload)),x.isValidElement(o)){const d=JA(o),u=ZA(l,o.props);return o.type!==x.Fragment&&(u.ref=a?rx(a,d):d),x.cloneElement(o,u)}return x.Children.count(o)>1?x.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var YA=Symbol("radix.slottable");function XA(s){return x.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===YA}function ZA(s,t){const n={...t};for(const a in t){const o=s[a],l=t[a];/^on[A-Z]/.test(a)?o&&l?n[a]=(...u)=>{const m=l(...u);return o(...u),m}:o&&(n[a]=o):a==="style"?n[a]={...o,...l}:a==="className"&&(n[a]=[o,l].filter(Boolean).join(" "))}return{...s,...n}}function JA(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}var eP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ox=eP.reduce((s,t)=>{const n=QA(`Primitive.${t}`),a=x.forwardRef((o,l)=>{const{asChild:d,...u}=o,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...u,ref:l})});return a.displayName=`Primitive.${t}`,{...s,[t]:a}},{});function tP(){return wb.useSyncExternalStore(sP,()=>!0,()=>!1)}function sP(){return()=>{}}var Lx="Avatar",[nP]=HA(Lx),[rP,dN]=nP(Lx),uN=x.forwardRef((s,t)=>{const{__scopeAvatar:n,...a}=s,[o,l]=x.useState("idle");return e.jsx(rP,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:e.jsx(Ox.span,{...a,ref:t})})});uN.displayName=Lx;var hN="AvatarImage",mN=x.forwardRef((s,t)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:o=()=>{},...l}=s,d=dN(hN,n),u=aP(a,l),m=On(f=>{o(f),d.onImageLoadingStatusChange(f)});return Ls(()=>{u!=="idle"&&m(u)},[u,m]),u==="loaded"?e.jsx(Ox.img,{...l,ref:t,src:a}):null});mN.displayName=hN;var fN="AvatarFallback",pN=x.forwardRef((s,t)=>{const{__scopeAvatar:n,delayMs:a,...o}=s,l=dN(fN,n),[d,u]=x.useState(a===void 0);return x.useEffect(()=>{if(a!==void 0){const m=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(m)}},[a]),d&&l.imageLoadingStatus!=="loaded"?e.jsx(Ox.span,{...o,ref:t}):null});pN.displayName=fN;function Dy(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function aP(s,{referrerPolicy:t,crossOrigin:n}){const a=tP(),o=x.useRef(null),l=a?(o.current||(o.current=new window.Image),o.current):null,[d,u]=x.useState(()=>Dy(l,s));return Ls(()=>{u(Dy(l,s))},[l,s]),Ls(()=>{const m=v=>()=>{u(v)};if(!l)return;const f=m("loaded"),y=m("error");return l.addEventListener("load",f),l.addEventListener("error",y),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",f),l.removeEventListener("error",y)}},[l,n,t]),d}var xN=uN,gN=mN,vN=pN;const yN=x.forwardRef(({className:s,...t},n)=>e.jsx(xN,{ref:n,className:Ze(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,s),...t}));yN.displayName=xN.displayName;const bN=x.forwardRef(({className:s,...t},n)=>e.jsx(gN,{ref:n,className:Ze("aspect-square h-full w-full",s),...t}));bN.displayName=gN.displayName;const wN=x.forwardRef(({className:s,...t},n)=>e.jsx(vN,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));wN.displayName=vN.displayName;async function iP(){const s=await fetch("/api/auth/user",{credentials:"include"});if(s.status===401)return null;if(!s.ok)throw new Error(`${s.status}: ${s.statusText}`);return s.json()}async function oP(){window.location.href="/api/logout"}function jN(){const s=nx(),{data:t,isLoading:n}=Ie({queryKey:["/api/auth/user"],queryFn:iP,retry:!1,staleTime:1e3*60*5}),a=Re({mutationFn:oP,onSuccess:()=>{s.setQueryData(["/api/auth/user"],null)}});return{user:t,isLoading:n,isAuthenticated:!!t,logout:a.mutate,isLoggingOut:a.isPending}}const de=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Ze("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",s),...t}));de.displayName="Card";const NN=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",s),...t}));NN.displayName="CardHeader";const kN=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",s),...t}));kN.displayName="CardTitle";const lP=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Ze("text-sm text-muted-foreground",s),...t}));lP.displayName="CardDescription";const ji=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Ze("p-6 pt-0",s),...t}));ji.displayName="CardContent";const cP=x.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",s),...t}));cP.displayName="CardFooter";function SN(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(de,{className:"w-full max-w-md mx-4",children:e.jsxs(ji,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Pc,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const dP=Sl("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ce({className:s,variant:t,...n}){return e.jsx("div",{className:Ze(dP({variant:t}),s),...n})}function au({title:s,value:t,subtitle:n,icon:a,trend:o,testId:l}){return e.jsx(de,{className:"p-5","data-testid":l,children:e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:s}),e.jsx("p",{className:"text-2xl font-semibold mt-1 tracking-tight","data-testid":l?`${l}-value`:void 0,children:t}),n&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n}),o&&e.jsxs("p",{className:`text-xs mt-1 font-medium ${o.positive?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[o.positive?"+":"",o.value]})]}),e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 shrink-0",children:e.jsx(a,{className:"w-5 h-5 text-primary"})})]})})}function Le(s,t="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(s/100)}function Ps(s){return s?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(s)):""}function Wn(s){switch(s.toLowerCase()){case"active":case"paid":case"finalized":case"resolved":case"closed":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"pending":case"draft":case"in_progress":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"open":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"overdue":case"failed":case"canceled":case"cancelled":case"urgent":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400";case"medium":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"low":return"bg-gray-100 text-gray-600 dark:bg-gray-800/30 dark:text-gray-400";case"voided":return"bg-gray-100 text-gray-600 dark:bg-gray-800/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800/30 dark:text-gray-400"}}function Yn(s){x.useEffect(()=>{document.title=`${s} | Billing Hub`},[s])}function uP(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Ne,{className:"h-8 w-48 mb-1"}),e.jsx(Ne,{className:"h-4 w-72"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((s,t)=>e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-4 w-24 mb-3"}),e.jsx(Ne,{className:"h-8 w-32 mb-2"}),e.jsx(Ne,{className:"h-3 w-20"})]},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-6 w-36 mb-4"}),e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((s,t)=>e.jsx(Ne,{className:"h-12 w-full"},t))})]}),e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-6 w-36 mb-4"}),e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((s,t)=>e.jsx(Ne,{className:"h-12 w-full"},t))})]})]})]})}function hP(){const{data:s,isLoading:t}=Ie({queryKey:["/api/dashboard/stats"]}),{data:n,isLoading:a}=Ie({queryKey:["/api/invoices?limit=5"]}),{data:o,isLoading:l}=Ie({queryKey:["/api/projects"]}),{data:d}=Ie({queryKey:["/api/customers"]}),{data:u}=Ie({queryKey:["/api/work-entries"]}),{data:m}=Ie({queryKey:["/api/billing-rates"]}),{data:f}=Ie({queryKey:["/api/agent-costs/summary"]}),y=t||a||l;if(Yn("Overview"),y)return e.jsx(uP,{});const v=new Map(d?.map(b=>[b.id,b])??[]),g=new Map(m?.map(b=>[b.id,b])??[]),N=o?.filter(b=>b.status==="active")??[],S=u?.slice(0,8)??[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Overview"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your billing dashboard at a glance"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(au,{title:"Total Revenue",value:Le(s?.totalRevenue??0),icon:Ln,subtitle:"From paid invoices",testId:"stat-revenue"}),e.jsx(au,{title:"Active Projects",value:String(s?.activeProjects??0),icon:_n,subtitle:"Currently in progress",testId:"stat-projects"}),e.jsx(au,{title:"Pending Invoices",value:String(s?.pendingInvoices??0),icon:Zt,subtitle:"Awaiting payment",testId:"stat-invoices"}),e.jsx(au,{title:s?.overdueInvoices?"Overdue":"Unbilled Work",value:s?.overdueInvoices?String(s.overdueInvoices):Le(s?.unbilledWork??0),icon:s?.overdueInvoices?Qn:Jt,subtitle:s?.overdueInvoices?"Past due date":"Ready to invoice",testId:"stat-overdue"})]}),(s?.overdueInvoices??0)>0&&e.jsx(de,{className:"p-4 border-red-200 dark:border-red-900/50 bg-red-50 dark:bg-red-950/20","data-testid":"alert-overdue",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qn,{className:"w-5 h-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:[s.overdueInvoices," overdue invoice",s.overdueInvoices>1?"s":""," need",s.overdueInvoices===1?"s":""," attention"]}),e.jsx("p",{className:"text-xs text-red-600/80 dark:text-red-400/80 mt-0.5",children:"These invoices are past their due date. Follow up with your clients to collect payment."})]})]})}),e.jsx(de,{className:"p-4 border-primary/20 bg-primary/5 dark:bg-primary/10","data-testid":"card-agent-cost-reminder",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ic,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Did an AI agent do work recently? Don't forget to log the cost!"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:f&&f.unbilledCount>0?`You have ${f.unbilledCount} unbilled entr${f.unbilledCount===1?"y":"ies"} worth ${Le(f.unbilledChargeCents)} ready to invoice.`:"Track what the agents built so you can bill your clients accurately."})]}),e.jsx(Pn,{href:"/billing-rates",children:e.jsxs(z,{variant:"outline","data-testid":"button-go-to-agent-costs",children:["Log Costs",e.jsx(rl,{className:"w-4 h-4 ml-2"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(de,{className:"p-5",children:[e.jsx("h2",{className:"text-base font-semibold mb-4","data-testid":"text-recent-invoices-title",children:"Recent Invoices"}),e.jsx("div",{className:"space-y-3",children:n&&n.length>0?n.slice(0,5).map(b=>{const k=v.get(b.customerId);return e.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 border-b last:border-b-0","data-testid":`row-invoice-${b.id}`,children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:b.invoiceNumber}),e.jsx("p",{className:"text-xs text-muted-foreground",children:k?.company||k?.name||""})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("span",{className:"text-sm font-medium",children:Le(b.totalAmountCents,b.currency??"USD")}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(b.status)}`,children:b.status})]})]},b.id)}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No invoices yet"})})]}),e.jsxs(de,{className:"p-5",children:[e.jsx("h2",{className:"text-base font-semibold mb-4","data-testid":"text-active-projects-title",children:"Active Projects"}),e.jsx("div",{className:"space-y-3",children:N.length>0?N.slice(0,5).map(b=>{const k=v.get(b.customerId),P=u?.filter(T=>T.projectId===b.id&&!T.invoiceId).length??0,R=u?.filter(T=>T.projectId===b.id&&!T.invoiceId).reduce((T,O)=>T+Number(O.quantity)*(g.get(O.rateId)?.rateCents??0),0)??0;return e.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 border-b last:border-b-0","data-testid":`row-project-${b.id}`,children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:b.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:k?.company||k?.name||""})]}),e.jsx("div",{className:"text-right shrink-0",children:P>0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-medium",children:Le(R)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[P," unbilled"]})]}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"All billed"})})]},b.id)}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No active projects"})})]})]}),e.jsxs(de,{className:"p-5",children:[e.jsx("h2",{className:"text-base font-semibold mb-4","data-testid":"text-recent-work-title",children:"Recent Work Entries"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Work Type"}),e.jsx("th",{className:"text-left py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"text-left py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-right py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Qty"}),e.jsx("th",{className:"text-right py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"text-left py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{children:S.length>0?S.map(b=>{const k=g.get(b.rateId),P=o?.find(T=>T.id===b.projectId),R=Number(b.quantity)*(k?.rateCents??0);return e.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-work-${b.id}`,children:[e.jsx("td",{className:"py-3 pr-4 font-medium",children:k?.name??""}),e.jsx("td",{className:"py-3 pr-4 text-muted-foreground",children:P?.name??""}),e.jsx("td",{className:"py-3 pr-4 text-muted-foreground max-w-[200px] truncate",children:b.description||""}),e.jsx("td",{className:"py-3 pr-4 text-right",children:Number(b.quantity)}),e.jsx("td",{className:"py-3 pr-4 text-right font-medium",children:Le(R)}),e.jsx("td",{className:"py-3",children:e.jsx(Ce,{variant:"secondary",className:`text-xs ${b.invoiceId?Wn("paid"):Wn("pending")}`,children:b.invoiceId?"Billed":"Unbilled"})})]},b.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-muted-foreground",children:"No work entries yet"})})})]})})]})]})}var mP="Label",CN=x.forwardRef((s,t)=>e.jsx(xt.label,{...s,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(s.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CN.displayName=mP;var EN=CN;const fP=Sl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=x.forwardRef(({className:s,...t},n)=>e.jsx(EN,{ref:n,className:Ze(fP(),s),...t}));$e.displayName=EN.displayName;const Os=x.forwardRef(({className:s,...t},n)=>e.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...t}));Os.displayName="Textarea";const Lt=Zj,pP=Jj,TN=x.forwardRef(({className:s,...t},n)=>e.jsx(gh,{ref:n,className:Ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));TN.displayName=gh.displayName;const Et=x.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(pP,{children:[e.jsx(TN,{}),e.jsxs(vh,{ref:a,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[t,e.jsxs(eN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(vr,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=vh.displayName;const Tt=({className:s,...t})=>e.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});Tt.displayName="DialogHeader";const bp=({className:s,...t})=>e.jsx("div",{className:Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});bp.displayName="DialogFooter";const At=x.forwardRef(({className:s,...t},n)=>e.jsx(yh,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",s),...t}));At.displayName=yh.displayName;const $c=x.forwardRef(({className:s,...t},n)=>e.jsx(bh,{ref:n,className:Ze("text-sm text-muted-foreground",s),...t}));$c.displayName=bh.displayName;function xP(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(Ne,{className:"h-8 w-32 mb-1"}),e.jsx(Ne,{className:"h-4 w-56"})]}),e.jsx(Ne,{className:"h-9 w-36"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((s,t)=>e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-6 w-40 mb-3"}),e.jsx(Ne,{className:"h-4 w-32 mb-2"}),e.jsx(Ne,{className:"h-4 w-48"})]},t))})]})}function gP(){Yn("Customers");const{toast:s}=gt(),[t,n]=x.useState(""),[a,o]=x.useState(!1),[l,d]=x.useState(null),[u,m]=x.useState({name:"",email:"",company:"",phone:"",notes:""}),{data:f,isLoading:y}=Ie({queryKey:["/api/customers"]}),v=Re({mutationFn:async O=>(await Ae("POST","/api/customers",O)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/customers"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),o(!1),b(),s({title:"Customer created",description:"New customer has been added."})},onError:O=>{s({title:"Error",description:O.message,variant:"destructive"})}}),g=Re({mutationFn:async({id:O,data:H})=>(await Ae("PATCH",`/api/customers/${O}`,H)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/customers"]}),o(!1),d(null),b(),s({title:"Customer updated",description:"Customer details have been saved."})},onError:O=>{s({title:"Error",description:O.message,variant:"destructive"})}}),N=Re({mutationFn:async O=>{await Ae("DELETE",`/api/customers/${O}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/customers"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),s({title:"Customer deleted",description:"Customer has been removed."})},onError:O=>{s({title:"Error",description:O.message,variant:"destructive"})}}),S=Re({mutationFn:async O=>(await Ae("POST",`/api/customers/${O}/send-portal-link`)).json(),onSuccess:()=>{s({title:"Email sent",description:"Portal access link has been emailed to the customer."})},onError:O=>{s({title:"Error",description:O.message,variant:"destructive"})}}),b=()=>m({name:"",email:"",company:"",phone:"",notes:""}),k=()=>{b(),d(null),o(!0)},P=O=>{d(O),m({name:O.name,email:O.email,company:O.company??"",phone:O.phone??"",notes:O.notes??""}),o(!0)},R=O=>{O.preventDefault(),l?g.mutate({id:l.id,data:u}):v.mutate(u)};if(y)return e.jsx(xP,{});const T=f?.filter(O=>O.name.toLowerCase().includes(t.toLowerCase())||O.email.toLowerCase().includes(t.toLowerCase())||(O.company??"").toLowerCase().includes(t.toLowerCase()))??[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Customers"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your clients and their projects"})]}),e.jsxs(z,{onClick:k,"data-testid":"button-add-customer",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search customers...",value:t,onChange:O=>n(O.target.value),className:"pl-9","data-testid":"input-search-customers"})]}),T.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(O=>e.jsxs(de,{className:"p-5","data-testid":`card-customer-${O.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-semibold truncate","data-testid":`text-customer-name-${O.id}`,children:O.name}),O.company&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground mt-0.5",children:[e.jsx(al,{className:"w-3.5 h-3.5 shrink-0"}),e.jsx("span",{className:"truncate",children:O.company})]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>P(O),"data-testid":`button-edit-customer-${O.id}`,children:e.jsx(gi,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>N.mutate(O.id),"data-testid":`button-delete-customer-${O.id}`,children:e.jsx(ks,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_s,{className:"w-3.5 h-3.5 shrink-0"}),e.jsx("span",{className:"truncate",children:O.email})]}),O.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Mc,{className:"w-3.5 h-3.5 shrink-0"}),e.jsx("span",{children:O.phone})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Added ",Ps(O.createdAt)]}),O.portalToken&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{const H=`${window.location.origin}/portal/${O.portalToken}`;navigator.clipboard.writeText(H),s({title:"Link copied",description:"Client portal link copied to clipboard."})},"data-testid":`button-copy-portal-${O.id}`,children:[e.jsx(xn,{className:"w-3 h-3 mr-1"}),"Copy Link"]}),e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>S.mutate(O.id),disabled:S.isPending,"data-testid":`button-send-portal-${O.id}`,children:[e.jsx(ms,{className:"w-3 h-3 mr-1"}),S.isPending?"Sending...":"Email Link"]})]})]})]},O.id))}):e.jsxs(de,{className:"p-12 text-center",children:[e.jsx(ro,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?"No customers match your search":"No customers yet. Add your first client to get started."})]}),e.jsx(Lt,{open:a,onOpenChange:o,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:l?"Edit Customer":"Add Customer"})}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"name",children:"Name *"}),e.jsx(Fe,{id:"name",value:u.name,onChange:O=>m(H=>({...H,name:O.target.value})),required:!0,"data-testid":"input-customer-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email",children:"Email *"}),e.jsx(Fe,{id:"email",type:"email",value:u.email,onChange:O=>m(H=>({...H,email:O.target.value})),required:!0,"data-testid":"input-customer-email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"company",children:"Company"}),e.jsx(Fe,{id:"company",value:u.company,onChange:O=>m(H=>({...H,company:O.target.value})),"data-testid":"input-customer-company"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"phone",children:"Phone"}),e.jsx(Fe,{id:"phone",value:u.phone,onChange:O=>m(H=>({...H,phone:O.target.value})),"data-testid":"input-customer-phone"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"notes",children:"Notes"}),e.jsx(Os,{id:"notes",value:u.notes,onChange:O=>m(H=>({...H,notes:O.target.value})),"data-testid":"input-customer-notes"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(z,{type:"submit",disabled:v.isPending||g.isPending,"data-testid":"button-save-customer",children:v.isPending||g.isPending?"Saving...":l?"Save Changes":"Add Customer"})]})]})]})})]})}function qy(s,[t,n]){return Math.min(n,Math.max(t,s))}var vP=x.createContext(void 0);function yP(s){const t=x.useContext(vP);return s||t||"ltr"}function AN(s){const t=x.useRef({value:s,previous:s});return x.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var bP=[" ","Enter","ArrowUp","ArrowDown"],wP=[" ","Enter"],Yc="Select",[wh,jh,jP]=Kb(Yc),[Rl]=fo(Yc,[jP,uh]),Nh=uh(),[NP,ki]=Rl(Yc),[kP,SP]=Rl(Yc),PN=s=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:o,onOpenChange:l,value:d,defaultValue:u,onValueChange:m,dir:f,name:y,autoComplete:v,disabled:g,required:N,form:S}=s,b=Nh(t),[k,P]=x.useState(null),[R,T]=x.useState(null),[O,H]=x.useState(!1),se=yP(f),[K=!1,re]=fl({prop:a,defaultProp:o,onChange:l}),[W,me]=fl({prop:d,defaultProp:u,onChange:m}),I=x.useRef(null),X=k?S||!!k.closest("form"):!0,[$,Q]=x.useState(new Set),ne=Array.from($).map(F=>F.props.value).join(";");return e.jsx(dj,{...b,children:e.jsxs(NP,{required:N,scope:t,trigger:k,onTriggerChange:P,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:O,onValueNodeHasChildrenChange:H,contentId:Ji(),value:W,onValueChange:me,open:K,onOpenChange:re,dir:se,triggerPointerDownPosRef:I,disabled:g,children:[e.jsx(wh.Provider,{scope:t,children:e.jsx(kP,{scope:s.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{Q(C=>new Set(C).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{Q(C=>{const E=new Set(C);return E.delete(F),E})},[]),children:n})}),X?e.jsxs(t2,{"aria-hidden":!0,required:N,tabIndex:-1,name:y,autoComplete:v,value:W,onChange:F=>me(F.target.value),disabled:g,form:S,children:[W===void 0?e.jsx("option",{value:""}):null,Array.from($)]},ne):null]})})};PN.displayName=Yc;var RN="SelectTrigger",_N=x.forwardRef((s,t)=>{const{__scopeSelect:n,disabled:a=!1,...o}=s,l=Nh(n),d=ki(RN,n),u=d.disabled||a,m=Kt(t,d.onTriggerChange),f=jh(n),y=x.useRef("touch"),[v,g,N]=s2(b=>{const k=f().filter(T=>!T.disabled),P=k.find(T=>T.value===d.value),R=n2(k,b,P);R!==void 0&&d.onValueChange(R.value)}),S=b=>{u||(d.onOpenChange(!0),N()),b&&(d.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return e.jsx(uj,{asChild:!0,...l,children:e.jsx(xt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":e2(d.value)?"":void 0,...o,ref:m,onClick:lt(o.onClick,b=>{b.currentTarget.focus(),y.current!=="mouse"&&S(b)}),onPointerDown:lt(o.onPointerDown,b=>{y.current=b.pointerType;const k=b.target;k.hasPointerCapture(b.pointerId)&&k.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:lt(o.onKeyDown,b=>{const k=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(k&&b.key===" ")&&bP.includes(b.key)&&(S(),b.preventDefault())})})})});_N.displayName=RN;var ON="SelectValue",LN=x.forwardRef((s,t)=>{const{__scopeSelect:n,className:a,style:o,children:l,placeholder:d="",...u}=s,m=ki(ON,n),{onValueNodeHasChildrenChange:f}=m,y=l!==void 0,v=Kt(t,m.onValueNodeChange);return Ls(()=>{f(y)},[f,y]),e.jsx(xt.span,{...u,ref:v,style:{pointerEvents:"none"},children:e2(m.value)?e.jsx(e.Fragment,{children:d}):l})});LN.displayName=ON;var CP="SelectIcon",IN=x.forwardRef((s,t)=>{const{__scopeSelect:n,children:a,...o}=s;return e.jsx(xt.span,{"aria-hidden":!0,...o,ref:t,children:a||""})});IN.displayName=CP;var EP="SelectPortal",MN=s=>e.jsx(nh,{asChild:!0,...s});MN.displayName=EP;var oo="SelectContent",DN=x.forwardRef((s,t)=>{const n=ki(oo,s.__scopeSelect),[a,o]=x.useState();if(Ls(()=>{o(new DocumentFragment)},[]),!n.open){const l=a;return l?Nl.createPortal(e.jsx(qN,{scope:s.__scopeSelect,children:e.jsx(wh.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),l):null}return e.jsx($N,{...s,ref:t})});DN.displayName=oo;var Ar=10,[qN,Si]=Rl(oo),TP="SelectContentImpl",AP=ml("SelectContent.RemoveScroll"),$N=x.forwardRef((s,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:d,side:u,sideOffset:m,align:f,alignOffset:y,arrowPadding:v,collisionBoundary:g,collisionPadding:N,sticky:S,hideWhenDetached:b,avoidCollisions:k,...P}=s,R=ki(oo,n),[T,O]=x.useState(null),[H,se]=x.useState(null),K=Kt(t,oe=>O(oe)),[re,W]=x.useState(null),[me,I]=x.useState(null),X=jh(n),[$,Q]=x.useState(!1),ne=x.useRef(!1);x.useEffect(()=>{if(T)return Mj(T)},[T]),Ej();const F=x.useCallback(oe=>{const[ue,...ke]=X().map(De=>De.ref.current),[ye]=ke.slice(-1),Ee=document.activeElement;for(const De of oe)if(De===Ee||(De?.scrollIntoView({block:"nearest"}),De===ue&&H&&(H.scrollTop=0),De===ye&&H&&(H.scrollTop=H.scrollHeight),De?.focus(),document.activeElement!==Ee))return},[X,H]),C=x.useCallback(()=>F([re,T]),[F,re,T]);x.useEffect(()=>{$&&C()},[$,C]);const{onOpenChange:E,triggerPointerDownPosRef:G}=R;x.useEffect(()=>{if(T){let oe={x:0,y:0};const ue=ye=>{oe={x:Math.abs(Math.round(ye.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(ye.pageY)-(G.current?.y??0))}},ke=ye=>{oe.x<=10&&oe.y<=10?ye.preventDefault():T.contains(ye.target)||E(!1),document.removeEventListener("pointermove",ue),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ke,{capture:!0})}}},[T,E,G]),x.useEffect(()=>{const oe=()=>E(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[E]);const[Y,q]=s2(oe=>{const ue=X().filter(Ee=>!Ee.disabled),ke=ue.find(Ee=>Ee.ref.current===document.activeElement),ye=n2(ue,oe,ke);ye&&setTimeout(()=>ye.ref.current.focus())}),ee=x.useCallback((oe,ue,ke)=>{const ye=!ne.current&&!ke;(R.value!==void 0&&R.value===ue||ye)&&(W(oe),ye&&(ne.current=!0))},[R.value]),xe=x.useCallback(()=>T?.focus(),[T]),U=x.useCallback((oe,ue,ke)=>{const ye=!ne.current&&!ke;(R.value!==void 0&&R.value===ue||ye)&&I(oe)},[R.value]),_=a==="popper"?wp:FN,D=_===wp?{side:u,sideOffset:m,align:f,alignOffset:y,arrowPadding:v,collisionBoundary:g,collisionPadding:N,sticky:S,hideWhenDetached:b,avoidCollisions:k}:{};return e.jsx(qN,{scope:n,content:T,viewport:H,onViewportChange:se,itemRefCallback:ee,selectedItem:re,onItemLeave:xe,itemTextRefCallback:U,focusSelectedItem:C,selectedItemText:me,position:a,isPositioned:$,searchRef:Y,children:e.jsx(Ex,{as:AP,allowPinchZoom:!0,children:e.jsx(Cx,{asChild:!0,trapped:R.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:lt(o,oe=>{R.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:e.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:e.jsx(_,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:oe=>oe.preventDefault(),...P,...D,onPlaced:()=>Q(!0),ref:K,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:lt(P.onKeyDown,oe=>{const ue=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ue&&oe.key.length===1&&q(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let ye=X().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Ee=oe.target,De=ye.indexOf(Ee);ye=ye.slice(De+1)}setTimeout(()=>F(ye)),oe.preventDefault()}})})})})})})});$N.displayName=TP;var PP="SelectItemAlignedPosition",FN=x.forwardRef((s,t)=>{const{__scopeSelect:n,onPlaced:a,...o}=s,l=ki(oo,n),d=Si(oo,n),[u,m]=x.useState(null),[f,y]=x.useState(null),v=Kt(t,K=>y(K)),g=jh(n),N=x.useRef(!1),S=x.useRef(!0),{viewport:b,selectedItem:k,selectedItemText:P,focusSelectedItem:R}=d,T=x.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&f&&b&&k&&P){const K=l.trigger.getBoundingClientRect(),re=f.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),me=P.getBoundingClientRect();if(l.dir!=="rtl"){const Ee=me.left-re.left,De=W.left-Ee,Ve=K.left-De,Xe=K.width+Ve,ut=Math.max(Xe,re.width),is=window.innerWidth-Ar,os=qy(De,[Ar,Math.max(Ar,is-ut)]);u.style.minWidth=Xe+"px",u.style.left=os+"px"}else{const Ee=re.right-me.right,De=window.innerWidth-W.right-Ee,Ve=window.innerWidth-K.right-De,Xe=K.width+Ve,ut=Math.max(Xe,re.width),is=window.innerWidth-Ar,os=qy(De,[Ar,Math.max(Ar,is-ut)]);u.style.minWidth=Xe+"px",u.style.right=os+"px"}const I=g(),X=window.innerHeight-Ar*2,$=b.scrollHeight,Q=window.getComputedStyle(f),ne=parseInt(Q.borderTopWidth,10),F=parseInt(Q.paddingTop,10),C=parseInt(Q.borderBottomWidth,10),E=parseInt(Q.paddingBottom,10),G=ne+F+$+E+C,Y=Math.min(k.offsetHeight*5,G),q=window.getComputedStyle(b),ee=parseInt(q.paddingTop,10),xe=parseInt(q.paddingBottom,10),U=K.top+K.height/2-Ar,_=X-U,D=k.offsetHeight/2,oe=k.offsetTop+D,ue=ne+F+oe,ke=G-ue;if(ue<=U){const Ee=I.length>0&&k===I[I.length-1].ref.current;u.style.bottom="0px";const De=f.clientHeight-b.offsetTop-b.offsetHeight,Ve=Math.max(_,D+(Ee?xe:0)+De+C),Xe=ue+Ve;u.style.height=Xe+"px"}else{const Ee=I.length>0&&k===I[0].ref.current;u.style.top="0px";const Ve=Math.max(U,ne+b.offsetTop+(Ee?ee:0)+D)+ke;u.style.height=Ve+"px",b.scrollTop=ue-U+b.offsetTop}u.style.margin=`${Ar}px 0`,u.style.minHeight=Y+"px",u.style.maxHeight=X+"px",a?.(),requestAnimationFrame(()=>N.current=!0)}},[g,l.trigger,l.valueNode,u,f,b,k,P,l.dir,a]);Ls(()=>T(),[T]);const[O,H]=x.useState();Ls(()=>{f&&H(window.getComputedStyle(f).zIndex)},[f]);const se=x.useCallback(K=>{K&&S.current===!0&&(T(),R?.(),S.current=!1)},[T,R]);return e.jsx(_P,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:N,onScrollButtonChange:se,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:e.jsx(xt.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});FN.displayName=PP;var RP="SelectPopperPosition",wp=x.forwardRef((s,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:o=Ar,...l}=s,d=Nh(n);return e.jsx(hj,{...d,...l,ref:t,align:a,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wp.displayName=RP;var[_P,Ix]=Rl(oo,{}),jp="SelectViewport",zN=x.forwardRef((s,t)=>{const{__scopeSelect:n,nonce:a,...o}=s,l=Si(jp,n),d=Ix(jp,n),u=Kt(t,l.onViewportChange),m=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(wh.Slot,{scope:n,children:e.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:lt(o.onScroll,f=>{const y=f.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:g}=d;if(g?.current&&v){const N=Math.abs(m.current-y.scrollTop);if(N>0){const S=window.innerHeight-Ar*2,b=parseFloat(v.style.minHeight),k=parseFloat(v.style.height),P=Math.max(b,k);if(P<S){const R=P+N,T=Math.min(S,R),O=R-T;v.style.height=T+"px",v.style.bottom==="0px"&&(y.scrollTop=O>0?O:0,v.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});zN.displayName=jp;var UN="SelectGroup",[OP,LP]=Rl(UN),IP=x.forwardRef((s,t)=>{const{__scopeSelect:n,...a}=s,o=Ji();return e.jsx(OP,{scope:n,id:o,children:e.jsx(xt.div,{role:"group","aria-labelledby":o,...a,ref:t})})});IP.displayName=UN;var BN="SelectLabel",HN=x.forwardRef((s,t)=>{const{__scopeSelect:n,...a}=s,o=LP(BN,n);return e.jsx(xt.div,{id:o.id,...a,ref:t})});HN.displayName=BN;var Hu="SelectItem",[MP,WN]=Rl(Hu),KN=x.forwardRef((s,t)=>{const{__scopeSelect:n,value:a,disabled:o=!1,textValue:l,...d}=s,u=ki(Hu,n),m=Si(Hu,n),f=u.value===a,[y,v]=x.useState(l??""),[g,N]=x.useState(!1),S=Kt(t,R=>m.itemRefCallback?.(R,a,o)),b=Ji(),k=x.useRef("touch"),P=()=>{o||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(MP,{scope:n,value:a,disabled:o,textId:b,isSelected:f,onItemTextChange:x.useCallback(R=>{v(T=>T||(R?.textContent??"").trim())},[]),children:e.jsx(wh.ItemSlot,{scope:n,value:a,disabled:o,textValue:y,children:e.jsx(xt.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:S,onFocus:lt(d.onFocus,()=>N(!0)),onBlur:lt(d.onBlur,()=>N(!1)),onClick:lt(d.onClick,()=>{k.current!=="mouse"&&P()}),onPointerUp:lt(d.onPointerUp,()=>{k.current==="mouse"&&P()}),onPointerDown:lt(d.onPointerDown,R=>{k.current=R.pointerType}),onPointerMove:lt(d.onPointerMove,R=>{k.current=R.pointerType,o?m.onItemLeave?.():k.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lt(d.onPointerLeave,R=>{R.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:lt(d.onKeyDown,R=>{m.searchRef?.current!==""&&R.key===" "||(wP.includes(R.key)&&P(),R.key===" "&&R.preventDefault())})})})})});KN.displayName=Hu;var Nc="SelectItemText",VN=x.forwardRef((s,t)=>{const{__scopeSelect:n,className:a,style:o,...l}=s,d=ki(Nc,n),u=Si(Nc,n),m=WN(Nc,n),f=SP(Nc,n),[y,v]=x.useState(null),g=Kt(t,P=>v(P),m.onItemTextChange,P=>u.itemTextRefCallback?.(P,m.value,m.disabled)),N=y?.textContent,S=x.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:N},m.value),[m.disabled,m.value,N]),{onNativeOptionAdd:b,onNativeOptionRemove:k}=f;return Ls(()=>(b(S),()=>k(S)),[b,k,S]),e.jsxs(e.Fragment,{children:[e.jsx(xt.span,{id:m.textId,...l,ref:g}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Nl.createPortal(l.children,d.valueNode):null]})});VN.displayName=Nc;var QN="SelectItemIndicator",GN=x.forwardRef((s,t)=>{const{__scopeSelect:n,...a}=s;return WN(QN,n).isSelected?e.jsx(xt.span,{"aria-hidden":!0,...a,ref:t}):null});GN.displayName=QN;var Np="SelectScrollUpButton",YN=x.forwardRef((s,t)=>{const n=Si(Np,s.__scopeSelect),a=Ix(Np,s.__scopeSelect),[o,l]=x.useState(!1),d=Kt(t,a.onScrollButtonChange);return Ls(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollTop>0;l(f)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?e.jsx(ZN,{...s,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});YN.displayName=Np;var kp="SelectScrollDownButton",XN=x.forwardRef((s,t)=>{const n=Si(kp,s.__scopeSelect),a=Ix(kp,s.__scopeSelect),[o,l]=x.useState(!1),d=Kt(t,a.onScrollButtonChange);return Ls(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<f;l(y)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?e.jsx(ZN,{...s,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});XN.displayName=kp;var ZN=x.forwardRef((s,t)=>{const{__scopeSelect:n,onAutoScroll:a,...o}=s,l=Si("SelectScrollButton",n),d=x.useRef(null),u=jh(n),m=x.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),Ls(()=>{u().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),e.jsx(xt.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:lt(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:lt(o.onPointerMove,()=>{l.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:lt(o.onPointerLeave,()=>{m()})})}),DP="SelectSeparator",JN=x.forwardRef((s,t)=>{const{__scopeSelect:n,...a}=s;return e.jsx(xt.div,{"aria-hidden":!0,...a,ref:t})});JN.displayName=DP;var Sp="SelectArrow",qP=x.forwardRef((s,t)=>{const{__scopeSelect:n,...a}=s,o=Nh(n),l=ki(Sp,n),d=Si(Sp,n);return l.open&&d.position==="popper"?e.jsx(mj,{...o,...a,ref:t}):null});qP.displayName=Sp;function e2(s){return s===""||s===void 0}var t2=x.forwardRef((s,t)=>{const{value:n,...a}=s,o=x.useRef(null),l=Kt(t,o),d=AN(n);return x.useEffect(()=>{const u=o.current,m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==n&&y){const v=new Event("change",{bubbles:!0});y.call(u,n),u.dispatchEvent(v)}},[d,n]),e.jsx(Qc,{asChild:!0,children:e.jsx("select",{...a,ref:l,defaultValue:n})})});t2.displayName="BubbleSelect";function s2(s){const t=On(s),n=x.useRef(""),a=x.useRef(0),o=x.useCallback(d=>{const u=n.current+d;t(u),(function m(f){n.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(u)},[t]),l=x.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,o,l]}function n2(s,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,l=n?s.indexOf(n):-1;let d=$P(s,Math.max(l,0));o.length===1&&(d=d.filter(f=>f!==n));const m=d.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function $P(s,t){return s.map((n,a)=>s[(t+a)%s.length])}var FP=PN,r2=_N,zP=LN,UP=IN,BP=MN,a2=DN,HP=zN,i2=HN,o2=KN,WP=VN,KP=GN,l2=YN,c2=XN,d2=JN;const _t=FP,Ot=zP,St=x.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(r2,{ref:a,className:Ze("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[t,e.jsx(UP,{asChild:!0,children:e.jsx(La,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=r2.displayName;const u2=x.forwardRef(({className:s,...t},n)=>e.jsx(l2,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Cl,{className:"h-4 w-4"})}));u2.displayName=l2.displayName;const h2=x.forwardRef(({className:s,...t},n)=>e.jsx(c2,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(La,{className:"h-4 w-4"})}));h2.displayName=c2.displayName;const Ct=x.forwardRef(({className:s,children:t,position:n="popper",...a},o)=>e.jsx(BP,{children:e.jsxs(a2,{ref:o,className:Ze("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...a,children:[e.jsx(u2,{}),e.jsx(HP,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(h2,{})]})}));Ct.displayName=a2.displayName;const VP=x.forwardRef(({className:s,...t},n)=>e.jsx(i2,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));VP.displayName=i2.displayName;const Pe=x.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(o2,{ref:a,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(KP,{children:e.jsx(Ns,{className:"h-4 w-4"})})}),e.jsx(WP,{children:t})]}));Pe.displayName=o2.displayName;const QP=x.forwardRef(({className:s,...t},n)=>e.jsx(d2,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",s),...t}));QP.displayName=d2.displayName;function m2(s={}){const[t,n]=x.useState(!1),[a,o]=x.useState(null),[l,d]=x.useState(0),u=x.useCallback(async v=>{const g=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.name,size:v.size,contentType:v.type||"application/octet-stream"})});if(!g.ok){const N=await g.json().catch(()=>({}));throw new Error(N.error||"Failed to get upload URL")}return g.json()},[]),m=x.useCallback(async(v,g)=>{if(!(await fetch(g,{method:"PUT",body:v,headers:{"Content-Type":v.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),f=x.useCallback(async v=>{n(!0),o(null),d(0);try{d(10);const g=await u(v);return d(30),await m(v,g.uploadURL),d(100),s.onSuccess?.(g),g}catch(g){const N=g instanceof Error?g:new Error("Upload failed");return o(N),s.onError?.(N),null}finally{n(!1)}},[u,m,s]),y=x.useCallback(async v=>{const g=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.name,size:v.size,contentType:v.type||"application/octet-stream"})});if(!g.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await g.json()).uploadURL,headers:{"Content-Type":v.type||"application/octet-stream"}}},[]);return{uploadFile:f,getUploadParameters:y,isUploading:t,error:a,progress:l}}function GP({projectId:s}){const{toast:t}=gt(),[n,a]=x.useState([]),[o,l]=x.useState(!1),{data:d,isLoading:u}=Ie({queryKey:["/api/projects",s,"screenshots"],queryFn:async()=>{const R=await fetch(`/api/projects/${s}/screenshots`);if(!R.ok)throw new Error("Failed to fetch screenshots");return R.json()}}),{uploadFile:m}=m2({}),f=Re({mutationFn:async R=>{await Ae("DELETE",`/api/screenshots/${R}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/projects",s,"screenshots"]}),t({title:"Screenshot deleted"})}}),y=Re({mutationFn:async({id:R,fileName:T})=>(await Ae("PATCH",`/api/screenshots/${R}`,{fileName:T})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/projects",s,"screenshots"]}),t({title:"Name updated"})}}),v=Re({mutationFn:async R=>(await Ae("PATCH",`/api/screenshots/${R}/request-approval`)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/projects",s,"screenshots"]}),t({title:"Approval requested",description:"Client can now approve or request revisions."})}}),g=R=>{const T=R.target.files;if(!T||T.length===0)return;const O=[];for(let H=0;H<T.length;H++){const se=T[H],K=se.name.replace(/\.[^/.]+$/,"");O.push({file:se,name:K,preview:URL.createObjectURL(se)})}a(O),R.target.value=""},N=async()=>{l(!0);try{for(const R of n){const T=await m(R.file);T&&await Ae("POST",`/api/projects/${s}/screenshots`,{objectPath:T.objectPath,fileName:R.name||T.metadata.name,fileSize:T.metadata.size,contentType:T.metadata.contentType})}be.invalidateQueries({queryKey:["/api/projects",s,"screenshots"]}),t({title:"Screenshots uploaded",description:`${n.length} screenshot${n.length>1?"s":""} saved.`})}catch(R){t({title:"Upload failed",description:R.message,variant:"destructive"})}finally{n.forEach(R=>URL.revokeObjectURL(R.preview)),a([]),l(!1)}},[S,b]=x.useState(null),[k,P]=x.useState("");return e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":`screenshots-section-${s}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kv,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Screenshots"}),d&&d.length>0&&e.jsx(Ce,{variant:"secondary",className:"text-xs",children:d.length})]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:g,className:"hidden",id:`screenshot-upload-${s}`,"data-testid":`input-screenshot-upload-${s}`}),e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>document.getElementById(`screenshot-upload-${s}`)?.click(),"data-testid":`button-upload-screenshot-${s}`,children:[e.jsx(as,{className:"w-3.5 h-3.5 mr-1.5"}),"Upload"]})]})]}),u?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{className:"h-16 w-16 rounded-md"}),e.jsx(Ne,{className:"h-16 w-16 rounded-md"})]}):d&&d.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:d.map(R=>e.jsxs("div",{className:"group relative rounded-md overflow-visible border bg-background","data-testid":`screenshot-item-${R.id}`,children:[e.jsxs("a",{href:R.objectPath,target:"_blank",rel:"noopener noreferrer",className:"block relative",children:[e.jsx("img",{src:R.objectPath,alt:R.fileName,className:"w-full h-20 object-cover rounded-t-md",loading:"lazy"}),R.approvalStatus&&e.jsxs("div",{className:"absolute top-1 right-1",children:[R.approvalStatus==="approved"&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500 border border-white",title:"Approved"}),R.approvalStatus==="pending"&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500 border border-white",title:"Awaiting approval"}),R.approvalStatus==="revisions"&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-500 border border-white",title:"Revisions requested"})]})]}),e.jsxs("div",{className:"p-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[S===R.id?e.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[e.jsx(Fe,{value:k,onChange:T=>P(T.target.value),className:"h-6 text-[11px] px-1.5 flex-1 min-w-0",autoFocus:!0,onKeyDown:T=>{T.key==="Enter"?(y.mutate({id:R.id,fileName:k}),b(null)):T.key==="Escape"&&b(null)},"data-testid":`input-rename-screenshot-${R.id}`}),e.jsx(z,{size:"icon",variant:"ghost",className:"h-5 w-5 shrink-0",onClick:()=>{y.mutate({id:R.id,fileName:k}),b(null)},"data-testid":`button-confirm-rename-${R.id}`,children:e.jsx(Ns,{className:"w-3 h-3"})})]}):e.jsx("span",{className:"text-[11px] text-muted-foreground truncate flex-1 cursor-pointer",title:`${R.fileName} (click to rename)`,onClick:()=>{b(R.id),P(R.fileName)},"data-testid":`text-screenshot-name-${R.id}`,children:R.fileName}),e.jsx(z,{size:"icon",variant:"ghost",className:"h-5 w-5 shrink-0",onClick:()=>f.mutate(R.id),"data-testid":`button-delete-screenshot-${R.id}`,children:e.jsx(ks,{className:"w-3 h-3"})})]}),R.approvalStatus==="revisions"&&R.revisionNotes&&e.jsxs("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 mt-1 line-clamp-2",title:R.revisionNotes,children:["Revisions: ",R.revisionNotes]}),!R.approvalStatus&&e.jsxs(z,{variant:"outline",size:"sm",className:"w-full mt-1.5 h-6 text-[10px]",onClick:()=>v.mutate(R.id),disabled:v.isPending,"data-testid":`button-request-approval-${R.id}`,children:[e.jsx(Ew,{className:"w-3 h-3 mr-1"}),"Request Approval"]}),R.approvalStatus==="approved"&&e.jsx(Ce,{variant:"secondary",className:"text-[10px] mt-1.5 w-full justify-center bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",children:"Approved"}),R.approvalStatus==="pending"&&e.jsx(Ce,{variant:"secondary",className:"text-[10px] mt-1.5 w-full justify-center",children:"Awaiting Approval"}),R.approvalStatus==="revisions"&&e.jsxs(z,{variant:"outline",size:"sm",className:"w-full mt-1.5 h-6 text-[10px]",onClick:()=>v.mutate(R.id),disabled:v.isPending,"data-testid":`button-resubmit-approval-${R.id}`,children:[e.jsx(ms,{className:"w-3 h-3 mr-1"}),"Resubmit for Approval"]})]})]},R.id))}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"No screenshots uploaded yet"}),e.jsx(Lt,{open:n.length>0,onOpenChange:()=>{n.forEach(R=>URL.revokeObjectURL(R.preview)),a([])},children:e.jsxs(Et,{className:"max-w-lg",children:[e.jsx(Tt,{children:e.jsx(At,{children:"Name Your Screenshots"})}),e.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:n.map((R,T)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md border","data-testid":`pending-upload-${T}`,children:[e.jsx("img",{src:R.preview,alt:"",className:"w-14 h-14 rounded-md object-cover shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx(Fe,{value:R.name,onChange:O=>{const H=[...n];H[T]={...H[T],name:O.target.value},a(H)},placeholder:"Screenshot name",className:"text-sm","data-testid":`input-screenshot-name-${T}`}),e.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:R.file.name})]})]},T))}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[e.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{n.forEach(R=>URL.revokeObjectURL(R.preview)),a([])},disabled:o,"data-testid":"button-cancel-upload",children:"Cancel"}),e.jsx(z,{size:"sm",onClick:N,disabled:o||n.some(R=>!R.name.trim()),"data-testid":"button-confirm-upload",children:o?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 mr-1.5 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Kv,{className:"w-4 h-4 mr-1.5"}),"Upload ",n.length>1?`${n.length} Screenshots`:"Screenshot"]})})]})]})})]})}function YP({projectId:s}){const{data:t,isLoading:n}=Ie({queryKey:["/api/projects",s,"client-files"],queryFn:async()=>{const a=await fetch(`/api/projects/${s}/client-files`);if(!a.ok)throw new Error("Failed to fetch client files");return a.json()}});return n?e.jsxs("div",{className:"p-3 rounded-md bg-muted/40",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Mu,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Client Files"})]}),e.jsx(Ne,{className:"h-8 w-full"})]}):!t||t.length===0?null:e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":`client-files-section-${s}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Mu,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Client Files"}),e.jsx(Ce,{variant:"secondary",className:"text-xs",children:t.length})]}),e.jsx("div",{className:"space-y-1.5",children:t.map(a=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border bg-background","data-testid":`client-file-${a.id}`,children:[e.jsx(ww,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium truncate","data-testid":`text-client-file-name-${a.id}`,children:a.fileName}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[a.contentType," ",a.fileSize?` ${(a.fileSize/1024).toFixed(1)} KB`:""]})]}),e.jsx("a",{href:a.objectPath,target:"_blank",rel:"noopener noreferrer",children:e.jsx(z,{size:"icon",variant:"ghost","data-testid":`button-download-client-file-${a.id}`,children:e.jsx(no,{className:"w-3.5 h-3.5"})})})]},a.id))})]})}function XP(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(Ne,{className:"h-8 w-32 mb-1"}),e.jsx(Ne,{className:"h-4 w-56"})]}),e.jsx(Ne,{className:"h-9 w-36"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Array.from({length:2}).map((s,t)=>e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-6 w-48 mb-3"}),e.jsx(Ne,{className:"h-4 w-full mb-2"}),e.jsx(Ne,{className:"h-4 w-36"})]},t))})]})}function ZP(){Yn("Projects");const{toast:s}=gt(),[t,n]=x.useState(""),[a,o]=x.useState(!1),[l,d]=x.useState(!1),[u,m]=x.useState(!1),[f,y]=x.useState(null),[v,g]=x.useState({customerId:"",name:"",description:""}),[N,S]=x.useState({rateId:"",quantity:"1",description:"",recordedAt:""}),[b,k]=x.useState(!1),[P,R]=x.useState(null),[T,O]=x.useState({rateId:"",quantity:"1",description:"",recordedAt:""}),[H,se]=x.useState("30"),[K,re]=x.useState(null),[W,me]=x.useState(""),[I,X]=x.useState(null),[$,Q]=x.useState(!1),[ne,F]=x.useState(null),[C,E]=x.useState({title:"",description:"",type:"update",status:"completed"}),[G,Y]=x.useState(new Set),q=le=>{Y(_e=>{const et=new Set(_e);return et.has(le)?et.delete(le):et.add(le),et})},{data:ee,isLoading:xe}=Ie({queryKey:["/api/projects"]}),{data:U}=Ie({queryKey:["/api/customers"]}),{data:_}=Ie({queryKey:["/api/billing-rates"]}),{data:D}=Ie({queryKey:["/api/work-entries"]}),oe=Re({mutationFn:async le=>(await Ae("POST","/api/projects",le)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/projects"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),o(!1),g({customerId:"",name:"",description:""}),s({title:"Project created",description:"New project has been added."})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}}),ue=Re({mutationFn:async le=>(await Ae("POST","/api/work-entries",le)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/work-entries"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),d(!1),S({rateId:"",quantity:"1",description:""}),s({title:"Work logged",description:"Work entry has been recorded."})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}}),ke=Re({mutationFn:async({id:le,data:_e})=>(await Ae("PATCH",`/api/work-entries/${le}`,_e)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/work-entries"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),k(!1),R(null),s({title:"Entry updated",description:"Work entry has been updated."})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}}),ye=Re({mutationFn:async le=>{await Ae("DELETE",`/api/work-entries/${le}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/work-entries"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),s({title:"Entry deleted",description:"Work entry has been removed."})}}),Ee=Re({mutationFn:async le=>{await Ae("DELETE",`/api/projects/${le}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/projects"]}),be.invalidateQueries({queryKey:["/api/work-entries"]}),be.invalidateQueries({queryKey:["/api/invoices"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),s({title:"Project deleted",description:"Project and all related data have been removed."})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}}),De=Re({mutationFn:async le=>(await Ae("POST","/api/invoices/generate",{...le,taxRate:0})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/invoices"]}),be.invalidateQueries({queryKey:["/api/work-entries"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),m(!1),s({title:"Invoice generated",description:"Invoice has been created from unbilled work."})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}}),Ve=Re({mutationFn:async({id:le,field:_e,url:et})=>(await Ae("PATCH",`/api/projects/${le}`,{[_e]:et||null})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/projects"]}),re(null),s({title:"Link saved",description:"The link has been updated."})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}}),Xe=(le,_e)=>{navigator.clipboard.writeText(_e),X(le),setTimeout(()=>X(null),2e3),s({title:"Copied",description:"Link copied to clipboard."})},ut=Re({mutationFn:async({projectId:le,data:_e})=>(await Ae("POST",`/api/projects/${le}/updates`,_e)).json(),onSuccess:()=>{ne&&be.invalidateQueries({queryKey:["/api/projects",ne,"updates"]}),Q(!1),E({title:"",description:"",type:"update",status:"completed"}),s({title:"Update posted",description:"Progress update has been published."})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}});Re({mutationFn:async le=>{await Ae("DELETE",`/api/project-updates/${le}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/projects"]}),s({title:"Update deleted"})},onError:le=>{s({title:"Error",description:le.message,variant:"destructive"})}});const is=le=>{y(le),S({rateId:"",quantity:"1",description:"",recordedAt:new Date().toISOString().split("T")[0]}),d(!0)},os=le=>{R(le),O({rateId:le.rateId,quantity:String(Number(le.quantity)),description:le.description||"",recordedAt:le.recordedAt?new Date(le.recordedAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}),k(!0)},Ss=le=>{y(le),se("30"),m(!0)},Vs=le=>{if(le.preventDefault(),!f)return;const _e=ee?.find(et=>et.id===f);_e&&ue.mutate({projectId:f,customerId:_e.customerId,rateId:N.rateId,quantity:N.quantity,description:N.description,recordedAt:N.recordedAt?new Date(N.recordedAt+"T12:00:00").toISOString():void 0})},fs=le=>{le.preventDefault(),P&&ke.mutate({id:P.id,data:{rateId:T.rateId,quantity:T.quantity,description:T.description,recordedAt:T.recordedAt?new Date(T.recordedAt+"T12:00:00").toISOString():void 0}})};if(xe)return e.jsx(XP,{});const bs=new Map(U?.map(le=>[le.id,le])??[]),Pt=new Map(_?.map(le=>[le.id,le])??[]),qt=ee?.filter(le=>le.name.toLowerCase().includes(t.toLowerCase())||(bs.get(le.customerId)?.name??"").toLowerCase().includes(t.toLowerCase()))??[],bt=le=>{const _e=D?.filter(M=>M.projectId===le)??[],et=_e.filter(M=>!M.invoiceId),wt=_e.filter(M=>M.invoiceId),ls=et.reduce((M,pe)=>{const Ye=Pt.get(pe.rateId);return M+Number(pe.quantity)*(Ye?.rateCents??0)},0),$t=wt.reduce((M,pe)=>{const Ye=Pt.get(pe.rateId);return M+Number(pe.quantity)*(Ye?.rateCents??0)},0);return{totalEntries:_e.length,unbilledCount:et.length,unbilledAmount:ls,billedAmount:$t,totalAmount:ls+$t}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Projects"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track work and generate invoices for each project"})]}),e.jsxs(z,{onClick:()=>{g({customerId:"",name:"",description:""}),o(!0)},"data-testid":"button-add-project",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"New Project"]})]}),e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search projects...",value:t,onChange:le=>n(le.target.value),className:"pl-9","data-testid":"input-search-projects"})]}),qt.length>0?e.jsx("div",{className:"space-y-5",children:(()=>{const le=new Map;return qt.forEach(_e=>{const et=_e.customerId;le.has(et)||le.set(et,[]),le.get(et).push(_e)}),Array.from(le.entries()).map(([_e,et])=>{const wt=bs.get(_e),ls=G.has(_e),$t=et.reduce((pe,Ye)=>pe+bt(Ye.id).unbilledAmount,0),M=et.reduce((pe,Ye)=>pe+bt(Ye.id).billedAmount,0);return e.jsxs("div",{"data-testid":`customer-group-${_e}`,children:[e.jsxs("button",{onClick:()=>q(_e),className:"w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg bg-muted/50 hover-elevate transition-colors mb-2","data-testid":`button-toggle-customer-${_e}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(La,{className:`w-4 h-4 text-muted-foreground shrink-0 transition-transform ${ls?"-rotate-90":""}`}),e.jsx(al,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("span",{className:"font-semibold truncate","data-testid":`text-customer-group-name-${_e}`,children:wt?.company||wt?.name||"Unknown Customer"}),e.jsxs(Ce,{variant:"secondary",className:"text-xs shrink-0",children:[et.length," ",et.length===1?"project":"projects"]})]}),e.jsxs("div",{className:"flex items-center gap-4 shrink-0 text-sm",children:[$t>0&&e.jsxs("span",{className:"text-amber-500 font-medium","data-testid":`text-customer-unbilled-${_e}`,children:["$",($t/100).toLocaleString()," unbilled"]}),M>0&&e.jsxs("span",{className:"text-muted-foreground","data-testid":`text-customer-billed-${_e}`,children:["$",(M/100).toLocaleString()," billed"]})]})]}),!ls&&e.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted ml-4",children:et.map(pe=>{const Ye=bt(pe.id),vt=D?.filter(nt=>nt.projectId===pe.id&&!nt.invoiceId)??[];return e.jsxs(de,{className:"p-5","data-testid":`card-project-${pe.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap mb-4",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold","data-testid":`text-project-name-${pe.id}`,children:pe.name}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(pe.status)}`,children:pe.status})]}),pe.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:pe.description})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>is(pe.id),"data-testid":`button-log-work-${pe.id}`,children:[e.jsx(Jt,{className:"w-4 h-4 mr-1.5"}),"Log Work"]}),e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{F(pe.id),E({title:"",description:"",type:"update",status:"completed"}),Q(!0)},"data-testid":`button-post-update-${pe.id}`,children:[e.jsx(pl,{className:"w-4 h-4 mr-1.5"}),"Post Update"]}),Ye.unbilledCount>0&&e.jsxs(z,{size:"sm",onClick:()=>Ss(pe.id),"data-testid":`button-generate-invoice-${pe.id}`,children:[e.jsx(Aa,{className:"w-4 h-4 mr-1.5"}),"Generate Invoice"]}),e.jsx(z,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>{confirm("Delete this project? This will also remove all related work entries and invoices.")&&Ee.mutate(pe.id)},disabled:Ee.isPending,"data-testid":`button-delete-project-${pe.id}`,children:e.jsx(ks,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(()=>{const nt=`${pe.id}-previewUrl`;return e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":`previewUrl-section-${pe.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ws,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Preview Link"})]}),K===nt?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{value:W,onChange:It=>me(It.target.value),placeholder:"https://preview.example.com/site",className:"flex-1 text-sm","data-testid":`input-previewUrl-${pe.id}`}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>Ve.mutate({id:pe.id,field:"previewUrl",url:W}),disabled:Ve.isPending,"data-testid":`button-save-previewUrl-${pe.id}`,children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>re(null),"data-testid":`button-cancel-previewUrl-${pe.id}`,children:e.jsx(vr,{className:"w-4 h-4"})})]}):pe.previewUrl?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("a",{href:pe.previewUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm truncate flex-1 underline decoration-muted-foreground/30 underline-offset-2","data-testid":`link-previewUrl-${pe.id}`,children:pe.previewUrl}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>Xe(nt,pe.previewUrl),"data-testid":`button-copy-previewUrl-${pe.id}`,children:I===nt?e.jsx(Ns,{className:"w-4 h-4 text-green-500"}):e.jsx(xn,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>window.open(pe.previewUrl,"_blank"),"data-testid":`button-open-previewUrl-${pe.id}`,children:e.jsx(Ws,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>{re(nt),me(pe.previewUrl||"")},"data-testid":`button-edit-previewUrl-${pe.id}`,children:e.jsx(gi,{className:"w-4 h-4"})})]}):e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{re(nt),me("")},"data-testid":`button-add-previewUrl-${pe.id}`,children:[e.jsx(as,{className:"w-4 h-4 mr-1.5"}),"Add Preview Link"]})]})})(),(()=>{const nt=`${window.location.origin}/progress/${pe.id}`,It=`${pe.id}-progressUrl`;return e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":`progressUrl-section-${pe.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(pl,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Progress Link"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm truncate flex-1 text-muted-foreground","data-testid":`link-progressUrl-${pe.id}`,children:["/progress/",pe.id.slice(0,8),"..."]}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>Xe(It,nt),"data-testid":`button-copy-progressUrl-${pe.id}`,children:I===It?e.jsx(Ns,{className:"w-4 h-4 text-green-500"}):e.jsx(xn,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>window.open(nt,"_blank"),"data-testid":`button-open-progressUrl-${pe.id}`,children:e.jsx(Ws,{className:"w-4 h-4"})})]})]})})(),(()=>{if(!wt?.portalToken)return null;const nt=`${window.location.origin}/portal/${wt.portalToken}`,It=`${pe.id}-portalUrl`;return e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":`portalUrl-section-${pe.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ro,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Client Portal"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm truncate flex-1 text-muted-foreground","data-testid":`link-portalUrl-${pe.id}`,children:["/portal/",wt.portalToken.slice(0,8),"..."]}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>Xe(It,nt),"data-testid":`button-copy-portalUrl-${pe.id}`,children:I===It?e.jsx(Ns,{className:"w-4 h-4 text-green-500"}):e.jsx(xn,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>window.open(nt,"_blank"),"data-testid":`button-open-portalUrl-${pe.id}`,children:e.jsx(Ws,{className:"w-4 h-4"})})]})]})})()]}),e.jsx("div",{className:"mb-4",children:e.jsx(GP,{projectId:pe.id})}),e.jsx("div",{className:"mb-4",children:e.jsx(YP,{projectId:pe.id})}),Ye.totalEntries>0&&e.jsxs("div",{className:"mb-4 grid grid-cols-2 sm:grid-cols-4 gap-3","data-testid":`metrics-project-${pe.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md bg-muted/40",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary/10 shrink-0",children:e.jsx(Pw,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground leading-none mb-1",children:"Total Value"}),e.jsx("p",{className:"text-sm font-semibold leading-none truncate","data-testid":`text-total-value-${pe.id}`,children:Le(Ye.totalAmount)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md bg-muted/40",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-green-500/10 shrink-0",children:e.jsx(Ln,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground leading-none mb-1",children:"Invoiced"}),e.jsx("p",{className:"text-sm font-semibold leading-none truncate","data-testid":`text-billed-value-${pe.id}`,children:Le(Ye.billedAmount)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md bg-muted/40",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-amber-500/10 shrink-0",children:e.jsx(Jt,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground leading-none mb-1",children:"Unbilled"}),e.jsx("p",{className:"text-sm font-semibold leading-none truncate","data-testid":`text-unbilled-value-${pe.id}`,children:Le(Ye.unbilledAmount)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md bg-muted/40",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-blue-500/10 shrink-0",children:e.jsx(Nw,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground leading-none mb-1",children:"Deliverables"}),e.jsx("p",{className:"text-sm font-semibold leading-none truncate","data-testid":`text-total-entries-${pe.id}`,children:Ye.totalEntries})]})]})]}),vt.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Work"}),e.jsx("th",{className:"text-left py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-right py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Qty"}),e.jsx("th",{className:"text-right py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Rate"}),e.jsx("th",{className:"text-right py-2 pr-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"text-right py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"py-2 w-8"})]})}),e.jsx("tbody",{children:vt.map(nt=>{const It=Pt.get(nt.rateId),Qs=Number(nt.quantity)*(It?.rateCents??0);return e.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-work-${nt.id}`,children:[e.jsx("td",{className:"py-2 pr-4 font-medium",children:It?.name??"Unknown"}),e.jsx("td",{className:"py-2 pr-4 text-muted-foreground max-w-[200px] truncate",children:nt.description||""}),e.jsx("td",{className:"py-2 pr-4 text-right",children:Number(nt.quantity)}),e.jsxs("td",{className:"py-2 pr-4 text-right text-muted-foreground",children:[Le(It?.rateCents??0),"/",It?.unitLabel]}),e.jsx("td",{className:"py-2 pr-4 text-right font-medium",children:Le(Qs)}),e.jsx("td",{className:"py-2 pr-4 text-right text-muted-foreground text-xs",children:Ps(nt.recordedAt)}),e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>os(nt),"data-testid":`button-edit-work-${nt.id}`,children:e.jsx(gi,{className:"w-3.5 h-3.5"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>ye.mutate(nt.id),"data-testid":`button-delete-work-${nt.id}`,children:e.jsx(ks,{className:"w-3.5 h-3.5"})})]})})]},nt.id)})})]})}),vt.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No unbilled work entries yet"})]},pe.id)})})]},_e)})})()}):e.jsxs(de,{className:"p-12 text-center",children:[e.jsx(_n,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?"No projects match your search":"No projects yet. Create a project to start tracking work."})]}),e.jsx(Lt,{open:a,onOpenChange:o,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:"New Project"})}),e.jsxs("form",{onSubmit:le=>{le.preventDefault(),oe.mutate(v)},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Customer *"}),e.jsxs(_t,{value:v.customerId,onValueChange:le=>g(_e=>({..._e,customerId:le})),children:[e.jsx(St,{"data-testid":"select-project-customer",children:e.jsx(Ot,{placeholder:"Select a customer"})}),e.jsx(Ct,{children:U?.map(le=>e.jsx(Pe,{value:le.id,children:le.company?`${le.company} (${le.name})`:le.name},le.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"project-name",children:"Project Name *"}),e.jsx(Fe,{id:"project-name",value:v.name,onChange:le=>g(_e=>({..._e,name:le.target.value})),required:!0,"data-testid":"input-project-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"project-desc",children:"Description"}),e.jsx(Os,{id:"project-desc",value:v.description,onChange:le=>g(_e=>({..._e,description:le.target.value})),"data-testid":"input-project-description"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(z,{type:"submit",disabled:oe.isPending||!v.customerId,"data-testid":"button-save-project",children:oe.isPending?"Creating...":"Create Project"})]})]})]})}),e.jsx(Lt,{open:l,onOpenChange:d,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:"Log Work"})}),e.jsxs("form",{onSubmit:Vs,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"What did you do? *"}),e.jsxs(_t,{value:N.rateId,onValueChange:le=>S(_e=>({..._e,rateId:le})),children:[e.jsx(St,{"data-testid":"select-work-type",children:e.jsx(Ot,{placeholder:"Select work type"})}),e.jsx(Ct,{children:_?.filter(le=>le.isActive).map(le=>e.jsxs(Pe,{value:le.id,children:[le.name," (",Le(le.rateCents),"/",le.unitLabel,")"]},le.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"work-qty",children:"Quantity *"}),e.jsx(Fe,{id:"work-qty",type:"number",min:"0.1",step:"0.1",value:N.quantity,onChange:le=>S(_e=>({..._e,quantity:le.target.value})),required:!0,"data-testid":"input-work-quantity"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"work-date",children:"Date"}),e.jsx(Fe,{id:"work-date",type:"date",value:N.recordedAt,onChange:le=>S(_e=>({..._e,recordedAt:le.target.value})),"data-testid":"input-work-date"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"work-desc",children:"Description"}),e.jsx(Os,{id:"work-desc",placeholder:"Brief note about what was done",value:N.description,onChange:le=>S(_e=>({..._e,description:le.target.value})),"data-testid":"input-work-description"})]}),N.rateId&&e.jsx("div",{className:"p-3 rounded-md bg-muted/50 text-sm",children:e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("span",{className:"text-muted-foreground",children:"Estimated charge:"}),e.jsx("span",{className:"font-semibold","data-testid":"text-work-estimate",children:Le(Number(N.quantity)*(Pt.get(N.rateId)?.rateCents??0))})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(z,{type:"submit",disabled:ue.isPending||!N.rateId,"data-testid":"button-save-work",children:ue.isPending?"Logging...":"Log Work"})]})]})]})}),e.jsx(Lt,{open:u,onOpenChange:m,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:"Generate Invoice"})}),f&&(()=>{const le=bt(f),_e=le.unbilledAmount,et=le.unbilledCount,wt=new Date;return wt.setDate(wt.getDate()+Number(H)),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 p-3 rounded-md bg-muted/50 text-sm",children:[e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("span",{className:"text-muted-foreground",children:"Work entries:"}),e.jsx("span",{children:et})]}),e.jsxs("div",{className:"flex justify-between gap-3 pt-2 border-t font-semibold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:Le(_e)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Payment Terms"}),e.jsxs(_t,{value:H,onValueChange:se,children:[e.jsx(St,{"data-testid":"select-payment-terms",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"7",children:"Net 7 (Due in 7 days)"}),e.jsx(Pe,{value:"14",children:"Net 14 (Due in 14 days)"}),e.jsx(Pe,{value:"15",children:"Net 15 (Due in 15 days)"}),e.jsx(Pe,{value:"30",children:"Net 30 (Due in 30 days)"}),e.jsx(Pe,{value:"45",children:"Net 45 (Due in 45 days)"}),e.jsx(Pe,{value:"60",children:"Net 60 (Due in 60 days)"}),e.jsx(Pe,{value:"90",children:"Net 90 (Due in 90 days)"})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":"text-due-date-preview",children:["Due date: ",wt.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(z,{onClick:()=>De.mutate({projectId:f,dueDays:Number(H)}),disabled:De.isPending,"data-testid":"button-confirm-generate-invoice",children:De.isPending?"Generating...":"Generate Invoice"})]})]})})()]})}),e.jsx(Lt,{open:$,onOpenChange:Q,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:"Post Progress Update"})}),e.jsxs("form",{onSubmit:le=>{le.preventDefault(),ne&&ut.mutate({projectId:ne,data:C})},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"update-title",children:"Title *"}),e.jsx(Fe,{id:"update-title",value:C.title,onChange:le=>E(_e=>({..._e,title:le.target.value})),placeholder:"e.g. Homepage design completed",required:!0,"data-testid":"input-update-title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"update-desc",children:"Description"}),e.jsx(Os,{id:"update-desc",value:C.description,onChange:le=>E(_e=>({..._e,description:le.target.value})),placeholder:"Add details about this update...","data-testid":"input-update-description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Type"}),e.jsxs(_t,{value:C.type,onValueChange:le=>E(_e=>({..._e,type:le})),children:[e.jsx(St,{"data-testid":"select-update-type",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"update",children:"Update"}),e.jsx(Pe,{value:"milestone",children:"Milestone"}),e.jsx(Pe,{value:"deliverable",children:"Deliverable"}),e.jsx(Pe,{value:"launch",children:"Launch"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Status"}),e.jsxs(_t,{value:C.status,onValueChange:le=>E(_e=>({..._e,status:le})),children:[e.jsx(St,{"data-testid":"select-update-status",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"completed",children:"Completed"}),e.jsx(Pe,{value:"in_progress",children:"In Progress"}),e.jsx(Pe,{value:"upcoming",children:"Upcoming"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),e.jsx(z,{type:"submit",disabled:ut.isPending,"data-testid":"button-save-update",children:ut.isPending?"Posting...":"Post Update"})]})]})]})}),e.jsx(Lt,{open:b,onOpenChange:k,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:"Edit Work Entry"})}),e.jsxs("form",{onSubmit:fs,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Work Type *"}),e.jsxs(_t,{value:T.rateId,onValueChange:le=>O(_e=>({..._e,rateId:le})),children:[e.jsx(St,{"data-testid":"select-edit-work-type",children:e.jsx(Ot,{placeholder:"Select work type"})}),e.jsx(Ct,{children:_?.filter(le=>le.isActive).map(le=>e.jsxs(Pe,{value:le.id,children:[le.name," (",Le(le.rateCents),"/",le.unitLabel,")"]},le.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"edit-work-qty",children:"Quantity *"}),e.jsx(Fe,{id:"edit-work-qty",type:"number",min:"0.1",step:"0.1",value:T.quantity,onChange:le=>O(_e=>({..._e,quantity:le.target.value})),required:!0,"data-testid":"input-edit-work-quantity"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"edit-work-date",children:"Date"}),e.jsx(Fe,{id:"edit-work-date",type:"date",value:T.recordedAt,onChange:le=>O(_e=>({..._e,recordedAt:le.target.value})),"data-testid":"input-edit-work-date"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"edit-work-desc",children:"Description"}),e.jsx(Os,{id:"edit-work-desc",placeholder:"Brief note about what was done",value:T.description,onChange:le=>O(_e=>({..._e,description:le.target.value})),"data-testid":"input-edit-work-description"})]}),T.rateId&&e.jsx("div",{className:"p-3 rounded-md bg-muted/50 text-sm",children:e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("span",{className:"text-muted-foreground",children:"Estimated charge:"}),e.jsx("span",{className:"font-semibold","data-testid":"text-edit-work-estimate",children:Le(Number(T.quantity)*(Pt.get(T.rateId)?.rateCents??0))})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"}),e.jsx(z,{type:"submit",disabled:ke.isPending||!T.rateId,"data-testid":"button-save-edit-work",children:ke.isPending?"Saving...":"Save Changes"})]})]})]})})]})}function JP(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Ne,{className:"h-8 w-32 mb-1"}),e.jsx(Ne,{className:"h-4 w-56"})]}),e.jsxs(de,{className:"overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx(Ne,{className:"h-9 w-64"})}),e.jsx("div",{className:"divide-y",children:Array.from({length:6}).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx(Ne,{className:"h-10 w-10 rounded-md"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Ne,{className:"h-4 w-32"}),e.jsx(Ne,{className:"h-3 w-24"})]}),e.jsx(Ne,{className:"h-5 w-16"}),e.jsx(Ne,{className:"h-4 w-20"})]},t))})]})]})}function e6(){Yn("Invoices");const{toast:s}=gt(),[t,n]=x.useState(""),[a,o]=x.useState("all"),[l,d]=x.useState(!1),[u,m]=x.useState(null),{data:f,isLoading:y}=Ie({queryKey:["/api/invoices"]}),{data:v}=Ie({queryKey:["/api/overdue-invoices"]}),{data:g}=Ie({queryKey:["/api/customers"]}),[N,S]=x.useState(null),[b,k]=x.useState(!1),[P,R]=x.useState(null),[T,O]=x.useState("3"),[H,se]=x.useState("monthly"),{data:K}=Ie({queryKey:["/api/payment-plans"]}),re=Re({mutationFn:async E=>(S(E),(await Ae("POST",`/api/invoices/${E}/send`)).json()),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/invoices"]}),s({title:"Invoice sent",description:"The invoice has been emailed to the client."}),S(null)},onError:E=>{s({title:"Send failed",description:E.message||"Could not send invoice email.",variant:"destructive"}),S(null)}}),W=Re({mutationFn:async({id:E,status:G})=>(await Ae("PATCH",`/api/invoices/${E}/status`,{status:G})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/invoices"]}),be.invalidateQueries({queryKey:["/api/overdue-invoices"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),s({title:"Invoice updated",description:"Invoice status has been changed."})}}),me=Re({mutationFn:async({invoiceId:E,numberOfInstallments:G,frequency:Y})=>(await Ae("POST",`/api/invoices/${E}/payment-plan`,{numberOfInstallments:G,frequency:Y})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/payment-plans"]}),s({title:"Payment plan created",description:"The payment plan has been set up and is waiting for the client to accept."}),k(!1)},onError:E=>{s({title:"Failed to create plan",description:E.message||"Could not create payment plan.",variant:"destructive"})}}),I=Re({mutationFn:async E=>(await Ae("DELETE",`/api/payment-plans/${E}`)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/payment-plans"]}),s({title:"Plan cancelled",description:"The payment plan has been cancelled."})},onError:E=>{s({title:"Failed to cancel",description:E.message||"Could not cancel plan.",variant:"destructive"})}}),X=Re({mutationFn:async E=>(await Ae("DELETE",`/api/invoices/${E}`)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/invoices"]}),be.invalidateQueries({queryKey:["/api/dashboard/stats"]}),s({title:"Invoice deleted",description:"The draft invoice has been removed."})},onError:E=>{s({title:"Delete failed",description:E.message||"Could not delete invoice.",variant:"destructive"})}}),$=(E,G)=>{const Y=document.createElement("a");Y.href=`/api/invoices/${E}/pdf`,Y.download=`${G}.pdf`,Y.click()},Q=async E=>{try{const Y=await(await Ae("GET",`/api/invoices/${E}`)).json();m(Y),d(!0)}catch(G){s({title:"Error",description:G.message||"Could not load invoice details.",variant:"destructive"})}};if(y)return e.jsx(JP,{});const ne=new Map(g?.map(E=>[E.id,E])??[]),F=f?.filter(E=>{if(a!=="all"&&E.status!==a)return!1;if(!t)return!0;const G=t.toLowerCase();return E.invoiceNumber.toLowerCase().includes(G)||E.status.toLowerCase().includes(G)||(ne.get(E.customerId)?.name??"").toLowerCase().includes(G)||(ne.get(E.customerId)?.company??"").toLowerCase().includes(G)})??[],C=f?.reduce((E,G)=>(E[G.status]=(E[G.status]||0)+1,E),{})??{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Invoices"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage and track all billing invoices"})]}),v&&v.length>0&&e.jsx(de,{className:"p-4 border-red-200 dark:border-red-900/50 bg-red-50 dark:bg-red-950/20","data-testid":"alert-overdue-invoices",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qn,{className:"w-5 h-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:[v.length," overdue invoice",v.length>1?"s":""]}),e.jsxs("p",{className:"text-xs text-red-600/80 dark:text-red-400/80 mt-0.5",children:[v.map(E=>E.invoiceNumber).join(", "),"  follow up with clients to collect payment."]})]})]})}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap","data-testid":"status-filter-bar",children:[{value:"all",label:"All",icon:Zt},{value:"draft",label:"Draft",icon:Jt},{value:"pending",label:"Pending",icon:ms},{value:"paid",label:"Paid",icon:Rn},{value:"overdue",label:"Overdue",icon:Qn}].map(({value:E,label:G,icon:Y})=>e.jsxs(z,{variant:a===E?"default":"outline",size:"sm",onClick:()=>o(E),className:"gap-1.5","data-testid":`filter-status-${E}`,children:[e.jsx(Y,{className:"w-3.5 h-3.5"}),G,E!=="all"&&C[E]?e.jsx(Ce,{variant:"secondary",className:"ml-1 text-[10px]",children:C[E]}):E==="all"&&f?e.jsx(Ce,{variant:"secondary",className:"ml-1 text-[10px]",children:f.length}):null]},E))}),e.jsxs(de,{className:"overflow-hidden",children:[e.jsx("div",{className:"flex items-center gap-3 flex-wrap p-4 border-b",children:e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search invoices...",value:t,onChange:E=>n(E.target.value),className:"pl-9","data-testid":"input-search-invoices"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/30",children:[e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Invoice"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"py-3 px-4"})]})}),e.jsx("tbody",{children:F.length>0?F.map(E=>{const G=ne.get(E.customerId);return e.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-invoice-${E.id}`,children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-md bg-muted shrink-0",children:e.jsx(Zt,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx("span",{className:"font-medium",children:E.invoiceNumber})]})}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:G?.company||G?.name||""}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:Ps(E.issuedAt)}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:Ps(E.dueDate)}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(E.status)}`,children:E.status})}),e.jsx("td",{className:"py-3 px-4 text-right font-medium",children:Le(E.totalAmountCents,E.currency??"USD")}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>Q(E.id),"data-testid":`button-view-invoice-${E.id}`,children:e.jsx(El,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>$(E.id,E.invoiceNumber),"data-testid":`button-download-pdf-${E.id}`,children:e.jsx(no,{className:"w-4 h-4"})}),E.status!=="paid"&&e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>re.mutate(E.id),disabled:N===E.id,"data-testid":`button-send-invoice-${E.id}`,children:N===E.id?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(ms,{className:"w-4 h-4"})}),(E.status==="pending"||E.status==="overdue")&&e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>W.mutate({id:E.id,status:"paid"}),"data-testid":`button-mark-paid-${E.id}`,children:e.jsx(Rn,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>{confirm("Delete this invoice? This cannot be undone.")&&X.mutate(E.id)},"data-testid":`button-delete-invoice-${E.id}`,children:e.jsx(ks,{className:"w-4 h-4 text-destructive"})})]})})]},E.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"py-12 text-center",children:[e.jsx(Zt,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?"No invoices match your search":"No invoices found"})]})})})]})})]}),e.jsx(Lt,{open:l,onOpenChange:d,children:e.jsxs(Et,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-3","data-testid":"text-invoice-detail-title",children:[e.jsx(Zt,{className:"w-5 h-5 text-primary"}),"Invoice ",u?.invoiceNumber]})}),u&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":"detail-customer",children:[e.jsx("p",{className:"text-[11px] text-muted-foreground uppercase tracking-wider mb-1",children:"Customer"}),e.jsx("p",{className:"text-sm font-medium truncate",children:u.customerName||ne.get(u.customerId)?.company||ne.get(u.customerId)?.name||""})]}),u.projectName&&e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":"detail-project",children:[e.jsx("p",{className:"text-[11px] text-muted-foreground uppercase tracking-wider mb-1",children:"Project"}),e.jsxs("p",{className:"text-sm font-medium truncate flex items-center gap-1.5",children:[e.jsx(_n,{className:"w-3.5 h-3.5 text-muted-foreground shrink-0"}),u.projectName]})]}),e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":"detail-issued",children:[e.jsx("p",{className:"text-[11px] text-muted-foreground uppercase tracking-wider mb-1",children:"Issued"}),e.jsx("p",{className:"text-sm font-medium",children:Ps(u.issuedAt)})]}),e.jsxs("div",{className:"p-3 rounded-md bg-muted/40","data-testid":"detail-due",children:[e.jsx("p",{className:"text-[11px] text-muted-foreground uppercase tracking-wider mb-1",children:"Due"}),e.jsx("p",{className:"text-sm font-medium",children:Ps(u.dueDate)})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 px-1",children:[e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(u.status)}`,"data-testid":"detail-status",children:u.status}),e.jsx("span",{className:"text-lg font-bold","data-testid":"detail-total",children:Le(u.totalAmountCents)})]}),u.lineItems&&u.lineItems.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2 px-1",children:"Line Items"}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted/30 border-b",children:[e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-muted-foreground",children:"Item"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-medium text-muted-foreground",children:"Qty"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-medium text-muted-foreground",children:"Rate"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-medium text-muted-foreground",children:"Total"})]})}),e.jsx("tbody",{children:u.lineItems.map(E=>e.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`detail-line-item-${E.id}`,children:[e.jsx("td",{className:"py-2 px-3",children:E.description}),e.jsx("td",{className:"py-2 px-3 text-right",children:Number(E.quantity)}),e.jsx("td",{className:"py-2 px-3 text-right text-muted-foreground",children:Le(E.unitPrice)}),e.jsx("td",{className:"py-2 px-3 text-right font-medium",children:Le(E.totalCents)})]},E.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-muted/20",children:[e.jsx("td",{colSpan:3,className:"py-2 px-3 text-right font-semibold text-xs uppercase tracking-wider",children:"Total"}),e.jsx("td",{className:"py-2 px-3 text-right font-bold",children:Le(u.totalAmountCents)})]})})]})})]}),u.workEntries&&u.workEntries.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2 px-1",children:"Work Breakdown"}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted/30 border-b",children:[e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-muted-foreground",children:"Type"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-muted-foreground",children:"Description"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-medium text-muted-foreground",children:"Qty"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-medium text-muted-foreground",children:"Date"})]})}),e.jsx("tbody",{children:u.workEntries.map(E=>e.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`detail-work-entry-${E.id}`,children:[e.jsxs("td",{className:"py-2 px-3",children:[e.jsx("span",{className:"font-medium",children:E.rateName||""}),E.unitLabel&&e.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(",Le(E.rateCents),"/",E.unitLabel,")"]})]}),e.jsx("td",{className:"py-2 px-3 text-muted-foreground max-w-[180px] truncate",children:E.description||""}),e.jsx("td",{className:"py-2 px-3 text-right",children:Number(E.quantity)}),e.jsx("td",{className:"py-2 px-3 text-right text-muted-foreground text-xs",children:E.recordedAt?Ps(E.recordedAt):""})]},E.id))})]})})]}),(()=>{const E=K?.find(G=>G.invoiceId===u.id&&(G.status==="pending"||G.status==="active"));return E?e.jsx("div",{className:"p-3 rounded-md border bg-muted/30","data-testid":"card-existing-plan",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ac,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Payment Plan"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.numberOfInstallments," ",E.frequency," payments of ",Le(E.installmentAmountCents)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(E.status)}`,children:E.status==="pending"?"Awaiting Client":`${E.installmentsPaid}/${E.numberOfInstallments} paid`}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>{confirm("Cancel this payment plan?")&&I.mutate(E.id)},"data-testid":"button-cancel-plan",children:e.jsx(vr,{className:"w-4 h-4 text-muted-foreground"})})]})]})}):null})(),e.jsxs("div",{className:"flex gap-2 pt-2 flex-wrap",children:[e.jsxs(z,{variant:"outline",className:"flex-1",onClick:()=>$(u.id,u.invoiceNumber),"data-testid":"button-download-pdf-dialog",children:[e.jsx(no,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),u.status!=="paid"&&e.jsxs(z,{className:"flex-1",onClick:()=>{re.mutate(u.id),d(!1)},disabled:N===u.id,"data-testid":"button-send-invoice-dialog",children:[N===u.id?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ms,{className:"w-4 h-4 mr-2"}),"Email Invoice"]}),u.status!=="paid"&&!K?.find(E=>E.invoiceId===u.id&&(E.status==="pending"||E.status==="active"))&&e.jsxs(z,{variant:"outline",className:"flex-1",onClick:()=>{R(u),O("3"),se("monthly"),k(!0)},"data-testid":"button-create-payment-plan",children:[e.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Payment Plan"]})]})]})]})}),e.jsx(Lt,{open:b,onOpenChange:k,children:e.jsxs(Et,{className:"max-w-md",children:[e.jsx(Tt,{children:e.jsx(At,{children:"Create Payment Plan"})}),P&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Invoice Total"}),e.jsx("p",{className:"text-lg font-semibold","data-testid":"text-plan-total",children:Le(P.totalAmountCents)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:P.invoiceNumber})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Number of Installments"}),e.jsxs(_t,{value:T,onValueChange:O,children:[e.jsx(St,{"data-testid":"select-installments",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"2",children:"2 payments"}),e.jsx(Pe,{value:"3",children:"3 payments"}),e.jsx(Pe,{value:"4",children:"4 payments"}),e.jsx(Pe,{value:"6",children:"6 payments"}),e.jsx(Pe,{value:"12",children:"12 payments"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Frequency"}),e.jsxs(_t,{value:H,onValueChange:se,children:[e.jsx(St,{"data-testid":"select-frequency",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"weekly",children:"Weekly"}),e.jsx(Pe,{value:"biweekly",children:"Every 2 Weeks"}),e.jsx(Pe,{value:"monthly",children:"Monthly"})]})]})]})]}),e.jsxs("div",{className:"p-3 rounded-md border bg-muted/10",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Each payment"}),e.jsx("span",{className:"font-semibold","data-testid":"text-installment-amount",children:Le(Math.ceil(P.totalAmountCents/Number(T)))})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[T," ",H," payments  Stripe handles collection automatically"]})]}),e.jsxs(z,{className:"w-full",onClick:()=>{me.mutate({invoiceId:P.id,numberOfInstallments:Number(T),frequency:H})},disabled:me.isPending,"data-testid":"button-confirm-create-plan",children:[me.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Create Payment Plan"]})]})]})})]})}function t6(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(Ne,{className:"h-8 w-32 mb-1"}),e.jsx(Ne,{className:"h-4 w-56"})]}),e.jsx(Ne,{className:"h-9 w-36"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((s,t)=>e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-6 w-40 mb-3"}),e.jsx(Ne,{className:"h-4 w-32 mb-2"}),e.jsx(Ne,{className:"h-4 w-24"})]},t))})]})}function s6(){const{toast:s}=gt(),[t,n]=x.useState(!1),[a,o]=x.useState(!1),[l,d]=x.useState(""),[u,m]=x.useState(""),[f,y]=x.useState(!1),[v,g]=x.useState({description:"",agentCost:"",markupPercent:"50",customerId:"",projectId:""}),{data:N}=Ie({queryKey:["/api/agent-costs"]}),{data:S}=Ie({queryKey:["/api/agent-costs/summary"]}),{data:b}=Ie({queryKey:["/api/projects"]}),{data:k}=Ie({queryKey:["/api/customers"]}),{data:P}=Ie({queryKey:["/api/invoices"]}),R=Re({mutationFn:async C=>(await Ae("POST","/api/agent-costs",C)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/agent-costs"]}),be.invalidateQueries({queryKey:["/api/agent-costs/summary"]}),g({description:"",agentCost:"",markupPercent:"50",customerId:"",projectId:""}),n(!1),s({title:"Cost logged",description:"Agent cost entry has been recorded."})},onError:C=>{s({title:"Error",description:C.message,variant:"destructive"})}}),T=Re({mutationFn:async C=>{await Ae("DELETE",`/api/agent-costs/${C}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/agent-costs"]}),be.invalidateQueries({queryKey:["/api/agent-costs/summary"]}),s({title:"Entry removed",description:"Agent cost entry has been deleted."})}}),O=Re({mutationFn:async C=>(await Ae("POST","/api/invoices/generate-from-agent-costs",C)).json(),onSuccess:C=>{be.invalidateQueries({queryKey:["/api/agent-costs"]}),be.invalidateQueries({queryKey:["/api/agent-costs/summary"]}),be.invalidateQueries({queryKey:["/api/invoices"]}),o(!1),d(""),m(""),s({title:"Invoice created",description:`Invoice ${C.invoiceNumber} for ${Le(C.totalAmountCents)} has been generated. Go to Invoices to send it.`})},onError:C=>{s({title:"Error",description:C.message,variant:"destructive"})}}),H=C=>{C.preventDefault();const E=Math.round(Number(v.agentCost)*100);if(E<=0){s({title:"Invalid cost",description:"Enter a valid agent cost amount.",variant:"destructive"});return}R.mutate({description:v.description,agentCostCents:E,markupPercent:Number(v.markupPercent),projectId:v.projectId||void 0,customerId:v.customerId||void 0})},se=Number(v.agentCost)||0,K=Number(v.markupPercent)||50,re=se*(1+K/100),W=re-se,me=new Map(b?.map(C=>[C.id,C.name])||[]),I=new Map(P?.map(C=>[C.id,C])||[]),X=new Map(k?.map(C=>[C.id,C])||[]),$=N?.filter(C=>!C.invoiceId)||[];$.reduce((C,E)=>C+E.clientChargeCents,0);const Q=k?.filter(C=>$.some(E=>E.customerId===C.id))||[],ne=l?$.filter(C=>C.customerId===l&&(!u||C.projectId===u)):[],F=ne.reduce((C,E)=>C+E.clientChargeCents,0);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ic,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold tracking-tight","data-testid":"text-agent-costs-title",children:"Agent Cost Tracker"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Log AI agent coding costs and auto-calculate client charges with markup"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[$.length>0&&e.jsxs(z,{variant:"outline",onClick:()=>o(!0),"data-testid":"button-generate-agent-invoice",children:[e.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Generate Invoice (",$.length," unbilled)"]}),e.jsxs(z,{onClick:()=>n(!t),"data-testid":"button-log-agent-cost",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Log Cost"]})]})]}),S&&S.totalEntries>0&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs(de,{className:"p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Your Cost"}),e.jsx("p",{className:"text-lg font-bold","data-testid":"text-total-agent-cost",children:Le(S.totalAgentCostCents)})]}),e.jsxs(de,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(cx,{className:"w-3 h-3 text-green-500"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Client Charge"})]}),e.jsx("p",{className:"text-lg font-bold","data-testid":"text-total-client-charge",children:Le(S.totalClientChargeCents)})]}),e.jsxs(de,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(Pw,{className:"w-3 h-3 text-green-500"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Profit"})]}),e.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"text-total-profit",children:Le(S.totalProfitCents)})]})]}),S&&S.byProject&&S.byProject.length>0&&e.jsxs(de,{className:"p-4",children:[e.jsxs("button",{onClick:()=>y(!f),className:"flex items-center justify-between gap-3 w-full text-left","data-testid":"button-toggle-breakdown",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_n,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Cost Breakdown by Project"}),e.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[S.byProject.length," project",S.byProject.length!==1?"s":""]})]}),f?e.jsx(Cl,{className:"w-4 h-4 text-muted-foreground"}):e.jsx(La,{className:"w-4 h-4 text-muted-foreground"})]}),f&&e.jsxs("div",{className:"mt-4 space-y-0",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-3 pb-2 border-b text-xs font-medium text-muted-foreground uppercase tracking-wider",children:[e.jsx("span",{className:"col-span-1",children:"Project"}),e.jsx("span",{className:"text-right",children:"Entries"}),e.jsx("span",{className:"text-right",children:"Your Cost"}),e.jsx("span",{className:"text-right",children:"Client Charge"}),e.jsx("span",{className:"text-right",children:"Profit"})]}),S.byProject.map(C=>{const E=C.projectId==="unassigned"?"Unassigned":me.get(C.projectId)||"Unknown Project";return e.jsxs("div",{className:"grid grid-cols-5 gap-3 py-3 border-b last:border-b-0 text-sm items-center","data-testid":`row-breakdown-${C.projectId}`,children:[e.jsx("span",{className:"col-span-1 font-medium truncate",children:E}),e.jsx("span",{className:"text-right text-muted-foreground",children:C.count}),e.jsx("span",{className:"text-right",children:Le(C.agentCost)}),e.jsx("span",{className:"text-right",children:Le(C.clientCharge)}),e.jsx("span",{className:"text-right font-medium text-green-600 dark:text-green-400",children:Le(C.profit)})]},C.projectId)}),e.jsxs("div",{className:"grid grid-cols-5 gap-3 pt-3 text-sm font-semibold border-t",children:[e.jsx("span",{className:"col-span-1",children:"Totals"}),e.jsx("span",{className:"text-right",children:S.totalEntries}),e.jsx("span",{className:"text-right",children:Le(S.totalAgentCostCents)}),e.jsx("span",{className:"text-right",children:Le(S.totalClientChargeCents)}),e.jsx("span",{className:"text-right text-green-600 dark:text-green-400",children:Le(S.totalProfitCents)})]})]})]}),t&&e.jsx(de,{className:"p-5",children:e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"cost-desc",children:"Description *"}),e.jsx(Fe,{id:"cost-desc",placeholder:"e.g., Homepage design session, Bug fixes, New feature build",value:v.description,onChange:C=>g(E=>({...E,description:C.target.value})),required:!0,"data-testid":"input-agent-cost-description"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"cost-amount",children:"Agent Cost ($) *"}),e.jsx(Fe,{id:"cost-amount",type:"number",min:"0.01",step:"0.01",placeholder:"4.35",value:v.agentCost,onChange:C=>g(E=>({...E,agentCost:C.target.value})),required:!0,"data-testid":"input-agent-cost-amount"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"cost-markup",children:"Markup %"}),e.jsx(Fe,{id:"cost-markup",type:"number",min:"0",step:"1",value:v.markupPercent,onChange:C=>g(E=>({...E,markupPercent:C.target.value})),"data-testid":"input-agent-cost-markup"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Customer"}),e.jsxs(_t,{value:v.customerId||"none",onValueChange:C=>g(E=>({...E,customerId:C==="none"?"":C,projectId:""})),children:[e.jsx(St,{"data-testid":"select-agent-cost-customer",children:e.jsx(Ot,{placeholder:"Select customer"})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"none",children:"No customer"}),k?.map(C=>e.jsx(Pe,{value:C.id,children:C.company||C.name},C.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Project"}),e.jsxs(_t,{value:v.projectId||"none",onValueChange:C=>{const E=C==="none"?"":C,G=b?.find(Y=>Y.id===E);g(Y=>({...Y,projectId:E,customerId:G?.customerId||Y.customerId}))},children:[e.jsx(St,{"data-testid":"select-agent-cost-project",children:e.jsx(Ot,{placeholder:"Select project"})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"none",children:"No project"}),(v.customerId?b?.filter(C=>C.customerId===v.customerId):b)?.map(C=>e.jsx(Pe,{value:C.id,children:C.name},C.id))]})]})]})]}),se>0&&e.jsx(de,{className:"p-4 bg-muted/50",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Your cost:"})," ",e.jsxs("span",{className:"font-semibold",children:["$",se.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:["+ ",K,"% markup ="]})," ",e.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400",children:["$",re.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Profit:"})," ",e.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",W.toFixed(2)]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(z,{type:"submit",disabled:R.isPending,"data-testid":"button-save-agent-cost",children:R.isPending?"Saving...":"Log Cost"})]})]})}),N&&N.length>0?e.jsx("div",{className:"space-y-2",children:N.map(C=>e.jsx(de,{className:"p-4","data-testid":`card-agent-cost-${C.id}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("p",{className:"font-medium text-sm truncate","data-testid":`text-agent-cost-desc-${C.id}`,children:C.description}),C.customerId&&X.get(C.customerId)&&e.jsx(Ce,{variant:"outline",className:"text-xs shrink-0",children:X.get(C.customerId)?.company||X.get(C.customerId)?.name}),C.projectId&&me.get(C.projectId)&&e.jsx(Ce,{variant:"secondary",className:"text-xs shrink-0",children:me.get(C.projectId)})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dx,{className:"w-3 h-3"}),C.sessionDate?new Date(C.sessionDate).toLocaleDateString():""]}),e.jsxs("span",{children:[C.markupPercent,"% markup"]}),(()=>{if(!C.invoiceId)return e.jsx(Ce,{variant:"outline",className:"text-xs bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400 border-amber-200 dark:border-amber-800","data-testid":`badge-status-${C.id}`,children:"Unbilled"});const E=I.get(C.invoiceId);if(!E)return e.jsx(Ce,{variant:"secondary",className:"text-xs","data-testid":`badge-status-${C.id}`,children:"Invoiced"});switch(E.status){case"draft":return e.jsxs(Ce,{variant:"outline",className:"text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800","data-testid":`badge-status-${C.id}`,children:[e.jsx(ms,{className:"w-3 h-3 mr-1"}),"Needs Sending"]});case"pending":return e.jsxs(Ce,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400 border-orange-200 dark:border-orange-800","data-testid":`badge-status-${C.id}`,children:[e.jsx(Jt,{className:"w-3 h-3 mr-1"}),"Unpaid"]});case"overdue":return e.jsxs(Ce,{variant:"outline",className:"text-xs bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-800","data-testid":`badge-status-${C.id}`,children:[e.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Overdue"]});case"paid":return e.jsxs(Ce,{variant:"outline",className:"text-xs bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800","data-testid":`badge-status-${C.id}`,children:[e.jsx(Rn,{className:"w-3 h-3 mr-1"}),"Paid"]});default:return e.jsx(Ce,{variant:"secondary",className:"text-xs","data-testid":`badge-status-${C.id}`,children:E.status})}})()]})]}),e.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cost"}),e.jsx("p",{className:"text-sm font-medium",children:Le(C.agentCostCents)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Charge"}),e.jsx("p",{className:"text-sm font-bold text-green-600 dark:text-green-400","data-testid":`text-agent-charge-${C.id}`,children:Le(C.clientChargeCents)})]}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>T.mutate(C.id),"data-testid":`button-delete-agent-cost-${C.id}`,children:e.jsx(ks,{className:"w-4 h-4"})})]})]})},C.id))}):t?null:e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(Ic,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:'No agent costs logged yet. Click "Log Cost" to start tracking your AI coding expenses.'})]}),e.jsx(Lt,{open:a,onOpenChange:o,children:e.jsxs(Et,{className:"max-w-md",children:[e.jsx(Tt,{children:e.jsx(At,{children:"Generate Invoice from Agent Costs"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create an invoice from unbilled AI development costs. The invoice will appear on the Invoices page where you can send it via email."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Customer *"}),e.jsxs(_t,{value:l,onValueChange:C=>{d(C),m("")},children:[e.jsx(St,{"data-testid":"select-invoice-customer",children:e.jsx(Ot,{placeholder:"Select customer"})}),e.jsx(Ct,{children:Q.length>0?Q.map(C=>e.jsx(Pe,{value:C.id,children:C.company||C.name},C.id)):k?.map(C=>e.jsx(Pe,{value:C.id,children:C.company||C.name},C.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{children:"Project (optional)"}),e.jsxs(_t,{value:u||"all",onValueChange:C=>m(C==="all"?"":C),children:[e.jsx(St,{"data-testid":"select-invoice-project",children:e.jsx(Ot,{placeholder:"All projects"})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"all",children:"All projects"}),b?.filter(C=>l?C.customerId===l:!0).map(C=>e.jsx(Pe,{value:C.id,children:C.name},C.id))]})]})]}),l&&e.jsx(de,{className:"p-4 bg-muted/50",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Unbilled entries"}),e.jsx("span",{className:"font-medium",children:ne.length})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Invoice total"}),e.jsx("span",{className:"font-bold text-lg",children:Le(F)})]}),ne.length>0&&e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Line items:"}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ne.map(C=>e.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs",children:[e.jsx("span",{className:"truncate",children:C.description}),e.jsx("span",{className:"font-medium shrink-0",children:Le(C.clientChargeCents)})]},C.id))})]})]})}),e.jsxs(z,{className:"w-full",onClick:()=>{if(!l){s({title:"Select a customer",description:"Please select a customer for this invoice.",variant:"destructive"});return}O.mutate({customerId:l,projectId:u||void 0})},disabled:O.isPending||!l||ne.length===0,"data-testid":"button-confirm-generate-invoice",children:[O.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Generate Invoice"]})]})]})})]})}function n6(){Yn("Billing Rates");const{toast:s}=gt(),[t,n]=x.useState(!1),[a,o]=x.useState(null),[l,d]=x.useState({code:"",name:"",description:"",unitLabel:"",rateCents:""}),{data:u,isLoading:m}=Ie({queryKey:["/api/billing-rates"]}),f=Re({mutationFn:async k=>(await Ae("POST","/api/billing-rates",k)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/billing-rates"]}),n(!1),g(),s({title:"Rate created",description:"New billing rate has been added."})},onError:k=>{s({title:"Error",description:k.message,variant:"destructive"})}}),y=Re({mutationFn:async({id:k,data:P})=>(await Ae("PATCH",`/api/billing-rates/${k}`,P)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/billing-rates"]}),n(!1),o(null),g(),s({title:"Rate updated",description:"Billing rate has been saved."})},onError:k=>{s({title:"Error",description:k.message,variant:"destructive"})}}),v=Re({mutationFn:async k=>{await Ae("DELETE",`/api/billing-rates/${k}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/billing-rates"]}),s({title:"Rate deleted",description:"Billing rate has been removed."})},onError:k=>{s({title:"Error",description:k.message,variant:"destructive"})}}),g=()=>d({code:"",name:"",description:"",unitLabel:"",rateCents:""}),N=()=>{g(),o(null),n(!0)},S=k=>{o(k),d({code:k.code,name:k.name,description:k.description??"",unitLabel:k.unitLabel,rateCents:String(k.rateCents/100)}),n(!0)},b=k=>{k.preventDefault();const P={code:l.code,name:l.name,description:l.description||void 0,unitLabel:l.unitLabel,rateCents:Math.round(Number(l.rateCents)*100)};a?y.mutate({id:a.id,data:P}):f.mutate(P)};return m?e.jsx(t6,{}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Billing Rates"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure your per-unit pricing for different types of work"})]}),e.jsxs(z,{onClick:N,"data-testid":"button-add-rate",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Add Rate"]})]}),u&&u.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(k=>e.jsxs(de,{className:"p-5","data-testid":`card-rate-${k.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 shrink-0",children:e.jsx(Ln,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>S(k),"data-testid":`button-edit-rate-${k.id}`,children:e.jsx(gi,{className:"w-4 h-4"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>v.mutate(k.id),"data-testid":`button-delete-rate-${k.id}`,children:e.jsx(ks,{className:"w-4 h-4"})})]})]}),e.jsx("h3",{className:"font-semibold mb-1","data-testid":`text-rate-name-${k.id}`,children:k.name}),k.description&&e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:k.description}),e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mt-auto pt-3 border-t",children:[e.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[e.jsx(up,{className:"w-3 h-3 mr-1"}),k.code]}),e.jsxs("span",{className:"text-sm font-semibold","data-testid":`text-rate-price-${k.id}`,children:[Le(k.rateCents)," / ",k.unitLabel]})]})]},k.id))}):e.jsxs(de,{className:"p-12 text-center",children:[e.jsx(Ln,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing rates configured. Add your first rate to get started."})]})]}),e.jsx("div",{className:"border-t pt-8",children:e.jsx(s6,{})}),e.jsx(Lt,{open:t,onOpenChange:n,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:a?"Edit Rate":"Add Billing Rate"})}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"rate-name",children:"Name *"}),e.jsx(Fe,{id:"rate-name",placeholder:"e.g., Page Design",value:l.name,onChange:k=>d(P=>({...P,name:k.target.value})),required:!0,"data-testid":"input-rate-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"rate-code",children:"Code *"}),e.jsx(Fe,{id:"rate-code",placeholder:"e.g., page_design",value:l.code,onChange:k=>d(P=>({...P,code:k.target.value})),required:!0,"data-testid":"input-rate-code"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"rate-price",children:"Price ($) *"}),e.jsx(Fe,{id:"rate-price",type:"number",min:"0",step:"0.01",placeholder:"200.00",value:l.rateCents,onChange:k=>d(P=>({...P,rateCents:k.target.value})),required:!0,"data-testid":"input-rate-price"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"rate-unit",children:"Per Unit *"}),e.jsx(Fe,{id:"rate-unit",placeholder:"e.g., page, asset, session",value:l.unitLabel,onChange:k=>d(P=>({...P,unitLabel:k.target.value})),required:!0,"data-testid":"input-rate-unit"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"rate-desc",children:"Description"}),e.jsx(Os,{id:"rate-desc",placeholder:"What this rate covers",value:l.description,onChange:k=>d(P=>({...P,description:k.target.value})),"data-testid":"input-rate-description"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(z,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(z,{type:"submit",disabled:f.isPending||y.isPending,"data-testid":"button-save-rate",children:f.isPending||y.isPending?"Saving...":a?"Save Changes":"Add Rate"})]})]})]})})]})}var f2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$y=rt.createContext&&rt.createContext(f2),r6=["attr","size","title"];function a6(s,t){if(s==null)return{};var n=i6(s,t),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(o=0;o<l.length;o++)a=l[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function i6(s,t){if(s==null)return{};var n={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;n[a]=s[a]}return n}function Wu(){return Wu=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Wu.apply(this,arguments)}function Fy(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,a)}return n}function Ku(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(n),!0).forEach(function(a){o6(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function o6(s,t,n){return t=l6(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function l6(s){var t=c6(s,"string");return typeof t=="symbol"?t:t+""}function c6(s,t){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function p2(s){return s&&s.map((t,n)=>rt.createElement(t.tag,Ku({key:n},t.attr),p2(t.child)))}function Mx(s){return t=>rt.createElement(d6,Wu({attr:Ku({},s.attr)},t),p2(s.child))}function d6(s){var t=n=>{var{attr:a,size:o,title:l}=s,d=a6(s,r6),u=o||n.size||"1em",m;return n.className&&(m=n.className),s.className&&(m=(m?m+" ":"")+s.className),rt.createElement("svg",Wu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:m,style:Ku(Ku({color:s.color||n.color},n.style),s.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&rt.createElement("title",null,l),s.children)};return $y!==void 0?rt.createElement($y.Consumer,null,n=>t(n)):t(f2)}function u6(s){return Mx({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.015 14.378c0-.32-.135-.496-.344-.622-.21-.12-.464-.135-.81-.135h-1.543v2.82h.675v-1.027h.72c.24 0 .39.024.478.125.12.13.104.38.104.55v.35h.66v-.555c-.002-.25-.017-.376-.108-.516-.06-.08-.18-.18-.33-.234l.02-.008c.18-.072.48-.297.48-.747zm-.87.407l-.028-.002c-.09.053-.195.058-.33.058h-.81v-.63h.824c.12 0 .24 0 .33.05.098.048.156.147.15.255 0 .12-.045.215-.134.27zM20.297 15.837H19v.6h1.304c.676 0 1.05-.278 1.05-.884 0-.28-.066-.448-.187-.582-.153-.133-.392-.193-.73-.207l-.376-.015c-.104 0-.18 0-.255-.03-.09-.03-.15-.105-.15-.21 0-.09.017-.166.09-.21.083-.046.177-.066.272-.06h1.23v-.602h-1.35c-.704 0-.958.437-.958.84 0 .9.776.855 1.407.87.104 0 .18.015.225.06.046.03.082.106.082.18 0 .077-.035.15-.08.18-.06.053-.15.07-.277.07zM0 0v10.096L.81 8.22h1.75l.225.464V8.22h2.043l.45 1.02.437-1.013h6.502c.295 0 .56.057.756.236v-.23h1.787v.23c.307-.17.686-.23 1.12-.23h2.606l.24.466v-.466h1.918l.254.465v-.466h1.858v3.948H20.87l-.36-.6v.585h-2.353l-.256-.63h-.583l-.27.614h-1.213c-.48 0-.84-.104-1.08-.24v.24h-2.89v-.884c0-.12-.03-.12-.105-.135h-.105v1.036H6.067v-.48l-.21.48H4.69l-.202-.48v.465H2.235l-.256-.624H1.4l-.256.624H0V24h23.786v-7.108c-.27.135-.613.18-.973.18H21.09v-.255c-.21.165-.57.255-.914.255H14.71v-.9c0-.12-.018-.12-.12-.12h-.075v1.022h-1.8v-1.066c-.298.136-.643.15-.928.136h-.214v.915h-2.18l-.54-.617-.57.6H4.742v-3.93h3.61l.518.602.554-.6h2.412c.28 0 .74.03.942.225v-.24h2.177c.202 0 .644.045.903.225v-.24h3.265v.24c.163-.164.508-.24.803-.24h1.89v.24c.194-.15.464-.24.84-.24h1.176V0H0zM21.156 14.955c.004.005.006.012.01.016.01.01.024.01.032.02l-.042-.035zM23.828 13.082h.065v.555h-.065zM23.865 15.03v-.005c-.03-.025-.046-.048-.075-.07-.15-.153-.39-.215-.764-.225l-.36-.012c-.12 0-.194-.007-.27-.03-.09-.03-.15-.105-.15-.21 0-.09.03-.16.09-.204.076-.045.15-.05.27-.05h1.223v-.588h-1.283c-.69 0-.96.437-.96.84 0 .9.78.855 1.41.87.104 0 .18.015.224.06.046.03.076.106.076.18 0 .07-.034.138-.09.18-.045.056-.136.07-.27.07h-1.288v.605h1.287c.42 0 .734-.118.9-.36h.03c.09-.134.135-.3.135-.523 0-.24-.045-.39-.135-.526zM18.597 14.208v-.583h-2.235V16.458h2.235v-.585h-1.57v-.57h1.533v-.584h-1.532v-.51M13.51 8.787h.685V11.6h-.684zM13.126 9.543l-.007.006c0-.314-.13-.5-.34-.624-.217-.125-.47-.135-.81-.135H10.43v2.82h.674v-1.034h.72c.24 0 .39.03.487.12.122.136.107.378.107.548v.354h.677v-.553c0-.25-.016-.375-.11-.516-.09-.107-.202-.19-.33-.237.172-.07.472-.3.472-.75zm-.855.396h-.015c-.09.054-.195.056-.33.056H11.1v-.623h.825c.12 0 .24.004.33.05.09.04.15.128.15.25s-.047.22-.134.266zM15.92 9.373h.632v-.6h-.644c-.464 0-.804.105-1.02.33-.286.3-.362.69-.362 1.11 0 .512.123.833.36 1.074.232.238.645.31.97.31h.78l.255-.627h1.39l.262.627h1.36v-2.11l1.272 2.11h.95l.002.002V8.786h-.684v1.963l-1.18-1.96h-1.02V11.4L18.11 8.744h-1.004l-.943 2.22h-.3c-.177 0-.362-.03-.468-.134-.125-.15-.186-.36-.186-.662 0-.285.08-.51.194-.63.133-.135.272-.165.516-.165zm1.668-.108l.464 1.118v.002h-.93l.466-1.12zM2.38 10.97l.254.628H4V9.393l.972 2.205h.584l.973-2.202.015 2.202h.69v-2.81H6.118l-.807 1.904-.876-1.905H3.343v2.663L2.205 8.787h-.997L.01 11.597h.72l.26-.626h1.39zm-.688-1.705l.46 1.118-.003.002h-.915l.457-1.12zM11.856 13.62H9.714l-.85.923-.825-.922H5.346v2.82H8l.855-.932.824.93h1.302v-.94h.838c.6 0 1.17-.164 1.17-.945l-.006-.003c0-.78-.598-.93-1.128-.93zM7.67 15.853l-.014-.002H6.02v-.557h1.47v-.574H6.02v-.51H7.7l.733.82-.764.824zm2.642.33l-1.03-1.147 1.03-1.108v2.253zm1.553-1.258h-.885v-.717h.885c.24 0 .42.098.42.344 0 .243-.15.372-.42.372zM9.967 9.373v-.586H7.73V11.6h2.237v-.58H8.4v-.564h1.527V9.88H8.4v-.507"},child:[]}]})(s)}function h6(s){return Mx({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.343 18.031c.058.049.12.098.181.146-1.177.783-2.59 1.238-4.107 1.238C3.32 19.416 0 16.096 0 12c0-4.095 3.32-7.416 7.416-7.416 1.518 0 2.931.456 4.105 1.238-.06.051-.12.098-.165.15C9.6 7.489 8.595 9.688 8.595 12c0 2.311 1.001 4.51 2.748 6.031zm5.241-13.447c-1.52 0-2.931.456-4.105 1.238.06.051.12.098.165.15C14.4 7.489 15.405 9.688 15.405 12c0 2.31-1.001 4.507-2.748 6.031-.058.049-.12.098-.181.146 1.177.783 2.588 1.238 4.107 1.238C20.68 19.416 24 16.096 24 12c0-4.094-3.32-7.416-7.416-7.416zM12 6.174c-.096.075-.189.15-.28.231C10.156 7.764 9.169 9.765 9.169 12c0 2.236.987 4.236 2.551 5.595.09.08.185.158.28.232.096-.074.189-.152.28-.232 1.563-1.359 2.551-3.359 2.551-5.595 0-2.235-.987-4.236-2.551-5.595-.09-.08-.184-.156-.28-.231z"},child:[]}]})(s)}function m6(s){return Mx({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.112 8.262L5.97 15.758H3.92L2.374 9.775c-.094-.368-.175-.503-.461-.658C1.447 8.864.677 8.627 0 8.479l.046-.217h3.3a.904.904 0 01.894.764l.817 4.338 2.018-5.102zm8.033 5.049c.008-1.979-2.736-2.088-2.717-2.972.006-.269.262-.555.822-.628a3.66 3.66 0 011.913.336l.34-1.59a5.207 5.207 0 00-1.814-.333c-1.917 0-3.266 1.02-3.278 2.479-.012 1.079.963 1.68 1.698 2.04.756.367 1.01.603 1.006.931-.005.504-.602.725-1.16.734-.975.015-1.54-.263-1.992-.473l-.351 1.642c.453.208 1.289.39 2.156.398 2.037 0 3.37-1.006 3.377-2.564m5.061 2.447H24l-1.565-7.496h-1.656a.883.883 0 00-.826.55l-2.909 6.946h2.036l.405-1.12h2.488zm-2.163-2.656l1.02-2.815.588 2.815zm-8.16-4.84l-1.603 7.496H8.34l1.605-7.496z"},child:[]}]})(s)}function f6(s){switch(s?.toLowerCase()){case"visa":return e.jsx(m6,{className:"w-8 h-5 text-blue-600 dark:text-blue-400"});case"mastercard":return e.jsx(h6,{className:"w-8 h-5 text-orange-500"});case"amex":return e.jsx(u6,{className:"w-8 h-5 text-blue-500"});default:return e.jsx(Qi,{className:"w-6 h-5 text-muted-foreground"})}}function p6(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Ne,{className:"h-8 w-48 mb-1"}),e.jsx(Ne,{className:"h-4 w-64"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:3}).map((s,t)=>e.jsx(de,{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ne,{className:"h-12 w-16 rounded-md"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Ne,{className:"h-5 w-36"}),e.jsx(Ne,{className:"h-4 w-24"})]})]})},t))})]})}function x6(){Yn("Payment Methods");const{data:s,isLoading:t}=Ie({queryKey:["/api/payment-methods"]});return t?e.jsx(p6,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Payment Methods"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your saved payment methods"})]}),s&&s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(n=>e.jsx(de,{className:"p-5","data-testid":`card-payment-${n.id}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-14 h-10 rounded-md bg-muted shrink-0",children:f6(n.brand)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("p",{className:"font-medium capitalize",children:[n.brand||n.type," ending in ",n.last4]}),n.isDefault&&e.jsxs(Ce,{variant:"secondary",className:"text-xs bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",children:[e.jsx(ys,{className:"w-3 h-3 mr-1"}),"Default"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires ",n.expiryMonth?.toString().padStart(2,"0"),"/",n.expiryYear]})]})]}),e.jsx(z,{size:"icon",variant:"ghost","data-testid":`button-more-${n.id}`,children:e.jsx(_C,{className:"w-4 h-4"})})]})},n.id))}):e.jsxs(de,{className:"p-12 text-center",children:[e.jsx(fx,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment methods saved"})]})]})}var Dx="Switch",[g6]=fo(Dx),[v6,y6]=g6(Dx),x2=x.forwardRef((s,t)=>{const{__scopeSwitch:n,name:a,checked:o,defaultChecked:l,required:d,disabled:u,value:m="on",onCheckedChange:f,form:y,...v}=s,[g,N]=x.useState(null),S=Kt(t,T=>N(T)),b=x.useRef(!1),k=g?y||!!g.closest("form"):!0,[P=!1,R]=fl({prop:o,defaultProp:l,onChange:f});return e.jsxs(v6,{scope:n,checked:P,disabled:u,children:[e.jsx(xt.button,{type:"button",role:"switch","aria-checked":P,"aria-required":d,"data-state":y2(P),"data-disabled":u?"":void 0,disabled:u,value:m,...v,ref:S,onClick:lt(s.onClick,T=>{R(O=>!O),k&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),k&&e.jsx(b6,{control:g,bubbles:!b.current,name:a,value:m,checked:P,required:d,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});x2.displayName=Dx;var g2="SwitchThumb",v2=x.forwardRef((s,t)=>{const{__scopeSwitch:n,...a}=s,o=y6(g2,n);return e.jsx(xt.span,{"data-state":y2(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})});v2.displayName=g2;var b6=s=>{const{control:t,checked:n,bubbles:a=!0,...o}=s,l=x.useRef(null),d=AN(n),u=ej(t);return x.useEffect(()=>{const m=l.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==n&&v){const g=new Event("click",{bubbles:a});v.call(m,n),m.dispatchEvent(g)}},[d,n,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y2(s){return s?"checked":"unchecked"}var b2=x2,w6=v2;const Rc=x.forwardRef(({className:s,...t},n)=>e.jsx(b2,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:n,children:e.jsx(w6,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rc.displayName=b2.displayName;function j6(){return Yn("Settings"),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configuration and how-to guide"})]}),e.jsxs(de,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 shrink-0",children:e.jsx(so,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"How to Use This Dashboard"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Step-by-step guide to billing your clients"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ln,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Set Up Your Billing Rates"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Go to ",e.jsx("strong",{children:"Billing Rates"})," in the sidebar. This is where you set your prices. For example: Page Design = $200 per page, Image Creation = $25 per image. You can add, edit, or delete rates anytime. These rates are already pre-filled with common web design services."]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ro,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Add Your Clients"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Go to ",e.jsx("strong",{children:"Customers"})," in the sidebar. Click ",e.jsx("strong",{children:"Add Customer"}),". Fill in their name, email, company name, and phone. That's it. You can edit or delete them later if needed."]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(_n,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Create a Project"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Go to ",e.jsx("strong",{children:"Projects"})," in the sidebar. Click ",e.jsx("strong",{children:"New Project"}),'. Pick the customer from the dropdown, give the project a name (like "Restaurant Website Redesign"), and add a description if you want. Click ',e.jsx("strong",{children:"Create Project"}),"."]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"4"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Jt,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Log Your Work"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["This is the main thing you do day to day. When you finish doing something for a client, go to ",e.jsx("strong",{children:"Projects"}),", find their project, and click ",e.jsx("strong",{children:"Log Work"}),"."]}),e.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/50 text-sm space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Example:"}),e.jsx("p",{className:"text-muted-foreground",children:"You just designed 2 pages for Sarah's restaurant website."}),e.jsxs("ol",{className:"list-decimal list-inside text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["Go to ",e.jsx("strong",{children:"Projects"})]}),e.jsx("li",{children:'Find "Restaurant Website Redesign"'}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Log Work"})]}),e.jsxs("li",{children:["Select ",e.jsx("strong",{children:'"Page Design ($200.00/page)"'})]}),e.jsxs("li",{children:["Set quantity to ",e.jsx("strong",{children:"2"})]}),e.jsx("li",{children:'Add a note like "Homepage and menu page"'}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Log Work"})]})]}),e.jsxs("p",{className:"text-muted-foreground",children:["The system calculates: 2 pages x $200 = ",e.jsx("strong",{children:"$400"}),". Done."]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You can log as many entries as you want. They all pile up under the project until you create an invoice."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"5"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Aa,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Generate an Invoice"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["When you're ready to bill the client, go to ",e.jsx("strong",{children:"Projects"}),", find their project, and click ",e.jsx("strong",{children:"Generate Invoice"}),". The system adds up all the unbilled work, applies your tax rate, and creates an invoice automatically."]}),e.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/50 text-sm space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Example invoice breakdown:"}),e.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[e.jsx("li",{children:"2x Page Design @ $200 = $400"}),e.jsx("li",{children:"5x Image Assets @ $25 = $125"}),e.jsx("li",{children:"1x Consultation @ $100 = $100"}),e.jsx("li",{className:"pt-1 border-t font-medium text-foreground",children:"Subtotal: $625"}),e.jsx("li",{children:"Tax (10%): $62.50"}),e.jsx("li",{className:"font-semibold text-foreground",children:"Total: $687.50"})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["You can view all your invoices on the ",e.jsx("strong",{children:"Invoices"})," page, and mark them as paid when the client pays you."]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"6"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ws,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Share the Client Portal"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["Each customer gets their own private portal link. Go to ",e.jsx("strong",{children:"Customers"}),", find the client, and click ",e.jsx("strong",{children:"Portal Link"})," to copy it. Send this link to your client so they can view their invoices, project status, and payment history anytime."]}),e.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/50 text-sm space-y-2",children:[e.jsx("p",{className:"font-medium",children:"What the client sees:"}),e.jsxs("ul",{className:"text-muted-foreground space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Their total amount due and payment history"}),e.jsx("li",{children:"All their projects and current status"}),e.jsx("li",{children:"Every invoice with full line-item detail"}),e.jsx("li",{children:"Overdue alerts if any invoices are past due"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"7"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ms,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Email Invoices to Clients"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["You can email invoices directly to your clients. Go to ",e.jsx("strong",{children:"Invoices"}),", find the invoice, and click the ",e.jsx("strong",{children:"send icon"})," (paper airplane). The client receives a professional email with the full invoice breakdown and a link to their portal."]}),e.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/50 text-sm space-y-2",children:[e.jsx("p",{className:"font-medium",children:"You can also send from the detail view:"}),e.jsxs("ol",{className:"list-decimal list-inside text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["Click the ",e.jsx("strong",{children:"eye icon"})," on any invoice to view details"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:'"Email Invoice to Client"'})]}),e.jsx("li",{children:"The invoice is emailed, and draft invoices are automatically marked as pending"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold shrink-0",children:"8"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Qn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Track Overdue Invoices"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["The system automatically tracks overdue invoices. When an invoice passes its due date (30 days after you create it), it turns ",e.jsx("strong",{children:"red"}),' and shows as "overdue" everywhere: on the ',e.jsx("strong",{children:"Overview"}),", the ",e.jsx("strong",{children:"Invoices"})," page, and in the client's portal. You'll see a red alert banner reminding you to follow up with the client."]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(de,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 shrink-0",children:e.jsx(_u,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Notifications"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure billing alerts"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Invoice notifications"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified when invoices are generated"})]}),e.jsx(Rc,{"data-testid":"switch-invoice-notif"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Payment alerts"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified on successful payments"})]}),e.jsx(Rc,{"data-testid":"switch-payment-notif"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Unbilled work reminders"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Remind you about unbilled work entries"})]}),e.jsx(Rc,{"data-testid":"switch-unbilled-notif"})]})]})]}),e.jsxs(de,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 shrink-0",children:e.jsx(na,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Regional Settings"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currency and locale preferences"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"currency",children:"Default Currency"}),e.jsx(Fe,{id:"currency",value:"USD",disabled:!0,"data-testid":"input-currency"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"timezone",children:"Timezone"}),e.jsx(Fe,{id:"timezone",value:"America/New_York",disabled:!0,"data-testid":"input-timezone"})]})]})]})]}),e.jsxs(de,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 shrink-0",children:e.jsx(_s,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Email-to-Ticket Setup"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically create support tickets from incoming emails"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded-md bg-muted/50 text-sm space-y-2",children:[e.jsxs("p",{className:"text-muted-foreground",children:["When someone sends an email to ",e.jsx("strong",{children:"hello@aipoweredsites.com"}),", a support ticket is automatically created in the system. To enable this:"]}),e.jsxs("ol",{className:"list-decimal list-inside text-muted-foreground space-y-1 pl-2",children:[e.jsxs("li",{children:["Go to your ",e.jsx("strong",{children:"Resend Dashboard"})," and navigate to ",e.jsx("strong",{children:"Webhooks"})]}),e.jsx("li",{children:"Add a new webhook endpoint with this URL:"})]}),e.jsxs("div",{className:"p-2 rounded bg-muted font-mono text-xs break-all","data-testid":"text-webhook-url",children:[window.location.origin,"/api/webhooks/resend/inbound"]}),e.jsxs("ol",{className:"list-decimal list-inside text-muted-foreground space-y-1 pl-2",start:3,children:[e.jsxs("li",{children:["Select the ",e.jsx("strong",{children:"email.received"})," event type"]}),e.jsx("li",{children:"Save the webhook and you're done"})]})]}),e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(s3,{className:"w-4 h-4 text-muted-foreground mt-0.5 shrink-0"}),e.jsx("p",{className:"text-muted-foreground",children:"Quote form submissions from the landing page also automatically create support tickets."})]})]})]})]})}function Cu(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(t){return typeof t}:Cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(s)}var w2="clover",N6=function(t){return t===3?"v3":t},j2="https://js.stripe.com",k6="".concat(j2,"/").concat(w2,"/stripe.js"),S6=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,C6=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,E6=function(t){return S6.test(t)||C6.test(t)},T6=function(){for(var t=document.querySelectorAll('script[src^="'.concat(j2,'"]')),n=0;n<t.length;n++){var a=t[n];if(E6(a.src))return a}return null},zy=function(t){var n="",a=document.createElement("script");a.src="".concat(k6).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(a),a},A6=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:n})},fc=null,iu=null,ou=null,P6=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},R6=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},_6=function(t){return fc!==null?fc:(fc=new Promise(function(n,a){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=T6();if(!(o&&t)){if(!o)o=zy(t);else if(o&&ou!==null&&iu!==null){var l;o.removeEventListener("load",ou),o.removeEventListener("error",iu),(l=o.parentNode)===null||l===void 0||l.removeChild(o),o=zy(t)}}ou=R6(n,a),iu=P6(a),o.addEventListener("load",ou),o.addEventListener("error",iu)}catch(d){a(d);return}}),fc.catch(function(n){return fc=null,Promise.reject(n)}))},O6=function(t,n,a){if(t===null)return null;var o=n[0];if(typeof o!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(Cu(o)," instead."));var l=o.match(/^pk_test/),d=N6(t.version),u=w2;l&&d!==u&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var m=t.apply(void 0,n);return A6(m,a),m},pc,N2=!1,k2=function(){return pc||(pc=_6(null).catch(function(t){return pc=null,Promise.reject(t)}),pc)};Promise.resolve().then(function(){return k2()}).catch(function(s){N2||console.warn(s)});var L6=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];N2=!0;var o=Date.now();return k2().then(function(l){return O6(l,n,o)})},Cf={exports:{}},Ef,Uy;function I6(){if(Uy)return Ef;Uy=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ef=s,Ef}var Tf,By;function M6(){if(By)return Tf;By=1;var s=I6();function t(){}function n(){}return n.resetWarningCache=t,Tf=function(){function a(d,u,m,f,y,v){if(v!==s){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function o(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Tf}var Hy;function D6(){return Hy||(Hy=1,Cf.exports=M6()()),Cf.exports}var q6=D6();const Ut=Kc(q6);function Wy(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,a)}return n}function Ky(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wy(Object(n),!0).forEach(function(a){S2(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function Eu(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(s)}function S2(s,t,n){return t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function $6(s,t){if(s==null)return{};var n={},a=Object.keys(s),o,l;for(l=0;l<a.length;l++)o=a[l],!(t.indexOf(o)>=0)&&(n[o]=s[o]);return n}function F6(s,t){if(s==null)return{};var n=$6(s,t),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(o=0;o<l.length;o++)a=l[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function C2(s,t){return z6(s)||U6(s,t)||B6(s,t)||H6()}function z6(s){if(Array.isArray(s))return s}function U6(s,t){var n=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(n!=null){var a=[],o=!0,l=!1,d,u;try{for(n=n.call(s);!(o=(d=n.next()).done)&&(a.push(d.value),!(t&&a.length===t));o=!0);}catch(m){l=!0,u=m}finally{try{!o&&n.return!=null&&n.return()}finally{if(l)throw u}}return a}}function B6(s,t){if(s){if(typeof s=="string")return Vy(s,t);var n=Object.prototype.toString.call(s).slice(8,-1);if(n==="Object"&&s.constructor&&(n=s.constructor.name),n==="Map"||n==="Set")return Array.from(s);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(s,t)}}function Vy(s,t){(t==null||t>s.length)&&(t=s.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=s[n];return a}function H6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mn=function(t,n,a){var o=!!a,l=rt.useRef(a);rt.useEffect(function(){l.current=a},[a]),rt.useEffect(function(){if(!o||!t)return function(){};var d=function(){l.current&&l.current.apply(l,arguments)};return t.on(n,d),function(){t.off(n,d)}},[o,n,t,l])},Cp=function(t){var n=rt.useRef(t);return rt.useEffect(function(){n.current=t},[t]),n.current},yl=function(t){return t!==null&&Eu(t)==="object"},W6=function(t){return yl(t)&&typeof t.then=="function"},K6=function(t){return yl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Qy="[object Object]",V6=function s(t,n){if(!yl(t)||!yl(n))return t===n;var a=Array.isArray(t),o=Array.isArray(n);if(a!==o)return!1;var l=Object.prototype.toString.call(t)===Qy,d=Object.prototype.toString.call(n)===Qy;if(l!==d)return!1;if(!l&&!a)return t===n;var u=Object.keys(t),m=Object.keys(n);if(u.length!==m.length)return!1;for(var f={},y=0;y<u.length;y+=1)f[u[y]]=!0;for(var v=0;v<m.length;v+=1)f[m[v]]=!0;var g=Object.keys(f);if(g.length!==u.length)return!1;var N=t,S=n,b=function(P){return s(N[P],S[P])};return g.every(b)},E2=function(t,n,a){return yl(t)?Object.keys(t).reduce(function(o,l){var d=!yl(n)||!V6(t[l],n[l]);return a.includes(l)?(d&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),o):d?Ky(Ky({},o||{}),{},S2({},l,t[l])):o},null):null},T2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Gy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T2;if(t===null||K6(t))return t;throw new Error(n)},Q6=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T2;if(W6(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(o){return Gy(o,n)})};var a=Gy(t,n);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},G6=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},kh=rt.createContext(null);kh.displayName="ElementsContext";var A2=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},P2=function(t){var n=t.stripe,a=t.options,o=t.children,l=rt.useMemo(function(){return Q6(n)},[n]),d=rt.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(a):null}}),u=C2(d,2),m=u[0],f=u[1];rt.useEffect(function(){var g=!0,N=function(b){f(function(k){return k.stripe?k:{stripe:b,elements:b.elements(a)}})};return l.tag==="async"&&!m.stripe?l.stripePromise.then(function(S){S&&g&&N(S)}):l.tag==="sync"&&!m.stripe&&N(l.stripe),function(){g=!1}},[l,m,a]);var y=Cp(n);rt.useEffect(function(){y!==null&&y!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,n]);var v=Cp(a);return rt.useEffect(function(){if(m.elements){var g=E2(a,v,["clientSecret","fonts"]);g&&m.elements.update(g)}},[a,v,m.elements]),rt.useEffect(function(){G6(m.stripe)},[m.stripe]),rt.createElement(kh.Provider,{value:m},o)};P2.propTypes={stripe:Ut.any,options:Ut.object};var Y6=function(t){var n=rt.useContext(kh);return A2(n,t)},X6=function(){var t=Y6("calls useElements()"),n=t.elements;return n};Ut.func.isRequired;var R2=rt.createContext(null);R2.displayName="CheckoutContext";Ut.any,Ut.shape({clientSecret:Ut.oneOfType([Ut.string,Ut.instanceOf(Promise)]).isRequired,elementsOptions:Ut.object}).isRequired;var Ep=function(t){var n=rt.useContext(R2),a=rt.useContext(kh);if(n){if(a)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return A2(a,t)},Z6=["mode"],J6=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},In=function(t,n){var a="".concat(J6(t),"Element"),o=function(m){var f=m.id,y=m.className,v=m.options,g=v===void 0?{}:v,N=m.onBlur,S=m.onFocus,b=m.onReady,k=m.onChange,P=m.onEscape,R=m.onClick,T=m.onLoadError,O=m.onLoaderStart,H=m.onNetworksChange,se=m.onConfirm,K=m.onCancel,re=m.onShippingAddressChange,W=m.onShippingRateChange,me=m.onSavedPaymentMethodRemove,I=m.onSavedPaymentMethodUpdate,X=Ep("mounts <".concat(a,">")),$="elements"in X?X.elements:null,Q="checkoutState"in X?X.checkoutState:null,ne=Q?.type==="success"||Q?.type==="loading"?Q.sdk:null,F=rt.useState(null),C=C2(F,2),E=C[0],G=C[1],Y=rt.useRef(null),q=rt.useRef(null);mn(E,"blur",N),mn(E,"focus",S),mn(E,"escape",P),mn(E,"click",R),mn(E,"loaderror",T),mn(E,"loaderstart",O),mn(E,"networkschange",H),mn(E,"confirm",se),mn(E,"cancel",K),mn(E,"shippingaddresschange",re),mn(E,"shippingratechange",W),mn(E,"savedpaymentmethodremove",me),mn(E,"savedpaymentmethodupdate",I),mn(E,"change",k);var ee;b&&(t==="expressCheckout"?ee=b:ee=function(){b(E)}),mn(E,"ready",ee),rt.useLayoutEffect(function(){if(Y.current===null&&q.current!==null&&($||ne)){var U=null;if(ne)switch(t){case"paymentForm":U=ne.createPaymentFormElement(g);break;case"payment":U=ne.createPaymentElement(g);break;case"address":if("mode"in g){var _=g.mode,D=F6(g,Z6);if(_==="shipping")U=ne.createShippingAddressElement(D);else if(_==="billing")U=ne.createBillingAddressElement(D);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":U=ne.createExpressCheckoutElement(g);break;case"currencySelector":U=ne.createCurrencySelectorElement();break;case"taxId":U=ne.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else $&&(U=$.create(t,g));Y.current=U,G(U),U&&U.mount(q.current)}},[$,ne,g]);var xe=Cp(g);return rt.useEffect(function(){if(Y.current){var U=E2(g,xe,["paymentRequest"]);U&&"update"in Y.current&&Y.current.update(U)}},[g,xe]),rt.useLayoutEffect(function(){return function(){if(Y.current&&typeof Y.current.destroy=="function")try{Y.current.destroy(),Y.current=null}catch{}}},[]),rt.createElement("div",{id:f,className:y,ref:q})},l=function(m){Ep("mounts <".concat(a,">"));var f=m.id,y=m.className;return rt.createElement("div",{id:f,className:y})},d=n?l:o;return d.propTypes={id:Ut.string,className:Ut.string,onChange:Ut.func,onBlur:Ut.func,onFocus:Ut.func,onReady:Ut.func,onEscape:Ut.func,onClick:Ut.func,onLoadError:Ut.func,onLoaderStart:Ut.func,onNetworksChange:Ut.func,onConfirm:Ut.func,onCancel:Ut.func,onShippingAddressChange:Ut.func,onShippingRateChange:Ut.func,onSavedPaymentMethodRemove:Ut.func,onSavedPaymentMethodUpdate:Ut.func,options:Ut.object},d.displayName=a,d.__elementType=t,d},Mn=typeof window>"u",eR=rt.createContext(null);eR.displayName="EmbeddedCheckoutProviderContext";var tR=function(){var t=Ep("calls useStripe()"),n=t.stripe;return n};In("auBankAccount",Mn);var Yy=In("card",Mn);In("cardNumber",Mn);In("cardExpiry",Mn);In("cardCvc",Mn);In("iban",Mn);In("payment",Mn);In("expressCheckout",Mn);In("paymentRequestButton",Mn);In("linkAuthentication",Mn);In("address",Mn);In("shippingAddress",Mn);In("paymentMethodMessaging",Mn);In("taxId",Mn);const sR="/images/logo.png";let Af=null;function nR(){return Af||(Af=fetch("/api/stripe/publishable-key").then(s=>s.json()).then(s=>L6(s.publishableKey)).catch(()=>null)),Af}function rR({brand:s}){const t=s.charAt(0).toUpperCase()+s.slice(1);return e.jsx("div",{className:"flex items-center justify-center w-10 h-7 rounded-md border bg-background text-xs font-bold uppercase tracking-wide",children:s==="visa"?"VISA":s==="mastercard"?"MC":s==="amex"?"AMEX":t.substring(0,4)})}function aR({token:s,onSuccess:t,onCancel:n}){const a=tR(),o=X6(),[l,d]=x.useState(!1),[u,m]=x.useState(null),{toast:f}=gt(),y=async v=>{if(v.preventDefault(),!(!a||!o)){d(!0),m(null);try{const g=await Ae("POST",`/api/portal/${s}/setup-intent`),{clientSecret:N}=await g.json(),S=o.getElement(Yy);if(!S)throw new Error("Card element not found");const b=await a.confirmCardSetup(N,{payment_method:{card:S}});b.error?m(b.error.message||"Failed to save card"):(f({title:"Card saved",description:"Your payment method has been added."}),t())}catch(g){m(g.message||"Something went wrong")}finally{d(!1)}}};return e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsx("div",{className:"p-4 border rounded-md bg-background",children:e.jsx(Yy,{options:{style:{base:{fontSize:"15px",color:"hsl(var(--foreground))","::placeholder":{color:"hsl(var(--muted-foreground))"},fontFamily:"Poppins, sans-serif"},invalid:{color:"hsl(var(--destructive))"}}}})}),u&&e.jsx("p",{className:"text-xs text-destructive",children:u}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{type:"submit",disabled:l||!a,"data-testid":"button-save-card",children:[l?e.jsx(Je,{className:"w-4 h-4 mr-1.5 animate-spin"}):e.jsx(Qi,{className:"w-4 h-4 mr-1.5"}),"Save Card"]}),e.jsx(z,{variant:"ghost",type:"button",onClick:n,"data-testid":"button-cancel-add-card",children:"Cancel"})]})]})}function iR({token:s}){const[t,n]=x.useState(!1),[a,o]=x.useState(null),{toast:l}=gt();x.useEffect(()=>{o(nR())},[]);const{data:d,isLoading:u,refetch:m}=Ie({queryKey:["/api/portal",s,"payment-methods"],queryFn:async()=>{const g=await fetch(`/api/portal/${s}/payment-methods`);if(!g.ok)throw new Error("Failed to load payment methods");return g.json()},enabled:!!s}),f=Re({mutationFn:async g=>(await Ae("DELETE",`/api/portal/${s}/payment-methods/${g}`)).json(),onSuccess:()=>{m(),l({title:"Card removed",description:"Payment method has been deleted."})},onError:g=>{l({title:"Error",description:g.message||"Could not remove card.",variant:"destructive"})}}),y=Re({mutationFn:async g=>(await Ae("POST",`/api/portal/${s}/default-payment-method`,{paymentMethodId:g})).json(),onSuccess:()=>{m(),l({title:"Default updated",description:"Your default payment method has been changed."})},onError:g=>{l({title:"Error",description:g.message||"Could not set default.",variant:"destructive"})}}),v=d?.paymentMethods||[];return e.jsxs("div",{"data-testid":"card-payment-methods",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Payment Methods"}),!t&&v.length>0&&e.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>n(!0),"data-testid":"button-add-card",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"Add Card"]})]}),u?e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ne,{className:"h-16 w-full rounded-md"}),e.jsx(Ne,{className:"h-16 w-full rounded-md"})]}):e.jsxs(e.Fragment,{children:[v.length===0&&!t&&e.jsxs(de,{className:"p-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-muted mb-3",children:e.jsx(Qi,{className:"w-5 h-5 text-muted-foreground"})}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"No saved payment methods"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Add a card for faster checkout"}),e.jsxs(z,{variant:"outline",onClick:()=>n(!0),"data-testid":"button-add-first-card",children:[e.jsx(as,{className:"w-4 h-4 mr-1.5"}),"Add Your First Card"]})]}),v.length>0&&e.jsx("div",{className:"space-y-2",children:v.map(g=>e.jsx(de,{className:"p-4","data-testid":`card-pm-${g.id}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rR,{brand:g.brand}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"text-sm font-medium","data-testid":`text-pm-last4-${g.id}`,children:["**** ",g.last4]}),g.isDefault&&e.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[e.jsx(mi,{className:"w-3 h-3 mr-0.5"}),"Default"]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expires ",String(g.expMonth).padStart(2,"0"),"/",g.expYear]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!g.isDefault&&e.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>y.mutate(g.id),disabled:y.isPending,"data-testid":`button-set-default-${g.id}`,children:[e.jsx(mi,{className:"w-3.5 h-3.5 mr-1"}),"Set Default"]}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this card?")&&f.mutate(g.id)},disabled:f.isPending,"data-testid":`button-remove-pm-${g.id}`,children:e.jsx(ks,{className:"w-4 h-4 text-muted-foreground"})})]})]})},g.id))}),t&&a&&e.jsxs(de,{className:"p-5 mt-3",children:[e.jsx("p",{className:"text-sm font-medium mb-4",children:"Add a new card"}),e.jsx(P2,{stripe:a,children:e.jsx(aR,{token:s,onSuccess:()=>{n(!1),m()},onCancel:()=>n(!1)})})]})]})]})}function oR(){return e.jsxs("div",{className:"min-h-screen bg-muted/30",children:[e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[e.jsx(Ne,{className:"h-10 w-64 bg-white/10"}),e.jsx(Ne,{className:"h-5 w-48 mt-3 bg-white/10"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 -mt-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[1,2,3].map(s=>e.jsx(de,{className:"p-6",children:e.jsx(Ne,{className:"h-10 w-24"})},s))}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsxs(de,{className:"p-6",children:[e.jsx(Ne,{className:"h-6 w-40 mb-3"}),e.jsx(Ne,{className:"h-4 w-32"})]},s))})]})]})}function Xy(s){switch(s){case"paid":return e.jsx(Rn,{className:"w-4 h-4"});case"overdue":return e.jsx(Qn,{className:"w-4 h-4"});default:return e.jsx(Jt,{className:"w-4 h-4"})}}function lR({token:s,projectId:t}){const{toast:n}=gt(),[a,o]=x.useState(!1),{uploadFile:l}=m2({}),{data:d,isLoading:u}=Ie({queryKey:["/api/portal",s,"projects",t,"files"],queryFn:async()=>{const g=await fetch(`/api/portal/${s}/projects/${t}/files`);if(!g.ok)throw new Error("Failed to fetch files");return g.json()},enabled:!!s&&!!t}),m=Re({mutationFn:async g=>{if(!(await fetch(`/api/portal/${s}/files/${g}`,{method:"DELETE"})).ok)throw new Error("Failed to delete")},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/portal",s,"projects",t,"files"]}),n({title:"File removed"})}}),f=async g=>{const N=g.target.files;if(!(!N||N.length===0)){o(!0);try{for(let S=0;S<N.length;S++){const b=N[S],k=await l(b);k&&await fetch(`/api/portal/${s}/projects/${t}/files`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({objectPath:k.objectPath,fileName:b.name,fileSize:k.metadata.size,contentType:k.metadata.contentType})})}be.invalidateQueries({queryKey:["/api/portal",s,"projects",t,"files"]}),n({title:"Files uploaded",description:`${N.length} file${N.length>1?"s":""} uploaded successfully.`})}catch(S){n({title:"Upload failed",description:S.message,variant:"destructive"})}finally{o(!1),g.target.value=""}}},y=g=>g?.startsWith("image/")?e.jsx(po,{className:"w-4 h-4 text-blue-500"}):e.jsx(ww,{className:"w-4 h-4 text-muted-foreground"}),v=g=>g?g<1024?`${g} B`:g<1024*1024?`${(g/1024).toFixed(1)} KB`:`${(g/(1024*1024)).toFixed(1)} MB`:"";return e.jsxs("div",{className:"mt-4 pt-4 border-t","data-testid":`portal-client-files-${t}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1.5",children:[e.jsx(Mu,{className:"w-3.5 h-3.5"}),"Your Files ",d&&d.length>0?`(${d.length})`:""]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",multiple:!0,onChange:f,className:"hidden",id:`client-file-upload-${t}`,"data-testid":`input-client-file-upload-${t}`}),e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>document.getElementById(`client-file-upload-${t}`)?.click(),disabled:a,"data-testid":`button-upload-client-file-${t}`,children:[a?e.jsx(Je,{className:"w-3.5 h-3.5 mr-1.5 animate-spin"}):e.jsx(Mu,{className:"w-3.5 h-3.5 mr-1.5"}),a?"Uploading...":"Upload Files"]})]})]}),u&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ne,{className:"h-10 w-full rounded-md"}),e.jsx(Ne,{className:"h-10 w-full rounded-md"})]}),d&&d.length>0&&e.jsx("div",{className:"space-y-1.5",children:d.map(g=>e.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-md border bg-muted/30","data-testid":`client-file-${g.id}`,children:[y(g.contentType),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium truncate",children:g.fileName}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:v(g.fileSize)})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[g.contentType?.startsWith("image/")&&e.jsx("a",{href:g.objectPath,target:"_blank",rel:"noreferrer",children:e.jsx(z,{size:"icon",variant:"ghost","data-testid":`button-view-file-${g.id}`,children:e.jsx(El,{className:"w-3.5 h-3.5"})})}),e.jsx("a",{href:g.objectPath,download:g.fileName,children:e.jsx(z,{size:"icon",variant:"ghost","data-testid":`button-download-file-${g.id}`,children:e.jsx(no,{className:"w-3.5 h-3.5"})})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>m.mutate(g.id),disabled:m.isPending,"data-testid":`button-delete-file-${g.id}`,children:e.jsx(ks,{className:"w-3.5 h-3.5"})})]})]},g.id))}),d&&d.length===0&&!u&&e.jsx("p",{className:"text-xs text-muted-foreground text-center py-3",children:"Upload logos, brand assets, or documents for this project."})]})}function cR({token:s,projectId:t}){const[n,a]=x.useState(null),[o,l]=x.useState(""),[d,u]=x.useState(null),{toast:m}=gt(),{data:f,isLoading:y}=Ie({queryKey:["/api/portal",s,"projects",t,"screenshots"],queryFn:async()=>{const b=await fetch(`/api/portal/${s}/projects/${t}/screenshots`);if(!b.ok)throw new Error("Failed to fetch screenshots");return b.json()},enabled:!!s&&!!t}),v=Re({mutationFn:async b=>{const k=await fetch(`/api/portal/${s}/screenshots/${b}/approve`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!k.ok)throw new Error("Failed to approve");return k.json()},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/portal",s,"projects",t,"screenshots"]}),m({title:"Approved",description:"Deliverable has been approved."}),a(null)}}),g=Re({mutationFn:async({screenshotId:b,notes:k})=>{const P=await fetch(`/api/portal/${s}/screenshots/${b}/revisions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:k})});if(!P.ok)throw new Error("Failed to request revisions");return P.json()},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/portal",s,"projects",t,"screenshots"]}),m({title:"Revisions Requested",description:"We'll review your feedback."}),l(""),u(null),a(null)}}),N=b=>b.approvalStatus?b.approvalStatus==="pending"?e.jsx(Ce,{variant:"secondary",className:"text-[10px]",children:"Needs Approval"}):b.approvalStatus==="approved"?e.jsx(Ce,{variant:"secondary",className:"text-[10px] bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",children:"Approved"}):b.approvalStatus==="revisions"?e.jsx(Ce,{variant:"secondary",className:"text-[10px] bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",children:"Revisions Requested"}):null:null;if(y)return e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(Ne,{className:"h-4 w-24 mb-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{className:"w-20 h-20 rounded-md"}),e.jsx(Ne,{className:"w-20 h-20 rounded-md"})]})]});if(!f||f.length===0)return null;const S=f.filter(b=>b.approvalStatus==="pending");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 pt-4 border-t","data-testid":`portal-screenshots-${t}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1.5",children:[e.jsx(po,{className:"w-3.5 h-3.5"}),"Screenshots (",f.length,")"]}),S.length>0&&e.jsxs(Ce,{variant:"secondary",className:"text-[10px] bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20","data-testid":`badge-needs-approval-${t}`,children:[S.length," awaiting approval"]})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:f.map(b=>e.jsxs("div",{className:"group relative rounded-md overflow-hidden border cursor-pointer",onClick:()=>a(b),"data-testid":`portal-screenshot-${b.id}`,children:[e.jsxs("div",{className:"aspect-square relative",children:[e.jsx("img",{src:b.objectPath,alt:b.fileName,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"}),b.approvalStatus==="pending"&&e.jsx("div",{className:"absolute top-1 right-1 w-2.5 h-2.5 rounded-full bg-blue-500 border border-white"}),b.approvalStatus==="approved"&&e.jsx("div",{className:"absolute top-1 right-1 w-2.5 h-2.5 rounded-full bg-emerald-500 border border-white"})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground truncate px-1.5 py-1 border-t",title:b.fileName,"data-testid":`text-portal-screenshot-name-${b.id}`,children:b.fileName})]},b.id))})]}),n&&e.jsx(Lt,{open:!!n,onOpenChange:()=>{a(null),u(null),l("")},children:e.jsxs(Et,{className:"max-w-3xl p-2",children:[e.jsx(Tt,{children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(At,{className:"text-sm","data-testid":"text-lightbox-name",children:n.fileName}),N(n)]})}),e.jsx("img",{src:n.objectPath,alt:n.fileName,className:"w-full h-auto rounded-md"}),n.approvalStatus==="revisions"&&n.revisionNotes&&e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3 text-sm",children:[e.jsx("p",{className:"text-xs font-medium text-amber-600 dark:text-amber-400 mb-1",children:"Your revision notes:"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.revisionNotes})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-2",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:n.approvalStatus==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(z,{size:"sm",onClick:()=>v.mutate(n.id),disabled:v.isPending,className:"bg-emerald-600 text-white border-0","data-testid":`button-approve-${n.id}`,children:[v.isPending?e.jsx(Je,{className:"w-3.5 h-3.5 mr-1.5 animate-spin"}):e.jsx(Ew,{className:"w-3.5 h-3.5 mr-1.5"}),"Approve"]}),e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>u(n.id),"data-testid":`button-request-revisions-${n.id}`,children:[e.jsx(oh,{className:"w-3.5 h-3.5 mr-1.5"}),"Request Revisions"]})]})}),e.jsx("a",{href:n.objectPath,download:!0,children:e.jsxs(z,{size:"sm",variant:"outline","data-testid":"button-download-screenshot",children:[e.jsx(no,{className:"w-4 h-4 mr-1.5"}),"Download"]})})]}),d===n.id&&e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsx($e,{className:"text-xs",children:"What changes would you like?"}),e.jsx(Os,{value:o,onChange:b=>l(b.target.value),placeholder:"Describe the changes you'd like...",className:"text-sm","data-testid":"input-revision-notes"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(z,{size:"sm",variant:"ghost",onClick:()=>{u(null),l("")},children:"Cancel"}),e.jsxs(z,{size:"sm",onClick:()=>g.mutate({screenshotId:n.id,notes:o}),disabled:!o.trim()||g.isPending,"data-testid":"button-submit-revisions",children:[g.isPending?e.jsx(Je,{className:"w-3.5 h-3.5 mr-1.5 animate-spin"}):e.jsx(ms,{className:"w-3.5 h-3.5 mr-1.5"}),"Send Feedback"]})]})]})]})})]})}function dR({token:s}){const{data:t}=Ie({queryKey:["/api/portal",s,"notifications"],queryFn:async()=>{const l=await fetch(`/api/portal/${s}/notifications`);if(!l.ok)throw new Error("Failed to fetch notifications");return l.json()},enabled:!!s,refetchInterval:3e4}),n=(t?.notifications||[]).slice(0,5),a=l=>{switch(l){case"project_update":return e.jsx(_n,{className:"w-3.5 h-3.5 text-blue-500"});case"invoice_created":return e.jsx(Aa,{className:"w-3.5 h-3.5 text-emerald-500"});case"ticket_reply":return e.jsx(kt,{className:"w-3.5 h-3.5 text-purple-500"});case"screenshot_uploaded":return e.jsx(po,{className:"w-3.5 h-3.5 text-amber-500"});case"payment_plan_created":return e.jsx(Ac,{className:"w-3.5 h-3.5 text-indigo-500"});default:return e.jsx(_u,{className:"w-3.5 h-3.5 text-muted-foreground"})}},o=l=>{const d=Date.now()-new Date(l).getTime(),u=Math.floor(d/6e4);if(u<1)return"just now";if(u<60)return`${u}m ago`;const m=Math.floor(u/60);return m<24?`${m}h ago`:`${Math.floor(m/24)}d ago`};return n.length===0?null:e.jsxs("div",{"data-testid":"section-recent-activity",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Recent Activity"}),e.jsx(de,{className:"divide-y",children:n.map(l=>e.jsxs("div",{className:"flex items-start gap-3 p-3.5","data-testid":`activity-item-${l.id}`,children:[e.jsx("div",{className:"mt-0.5 shrink-0",children:a(l.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:l.title}),e.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:o(l.createdAt)})]}),!l.isRead&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 shrink-0"})]},l.id))})]})}function uR({token:s}){const{toast:t}=gt(),[n,a]=x.useState(!1),[o,l]=x.useState(!1),[d,u]=x.useState(!1),[m,f]=x.useState(!1);x.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&(a(!0),navigator.serviceWorker.ready.then(g=>{g.pushManager.getSubscription().then(N=>{l(!!N)})}))},[]);const y=async()=>{u(!0);try{const g=await navigator.serviceWorker.register("/sw.js");await navigator.serviceWorker.ready;const N=await fetch("/api/push/vapid-key"),{publicKey:S}=await N.json();if(!S)throw new Error("Push not configured");const k=(await g.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:S})).toJSON();await Ae("POST",`/api/portal/${s}/push/subscribe`,{endpoint:k.endpoint,keys:{p256dh:k.keys?.p256dh,auth:k.keys?.auth}}),l(!0),f(!1),t({title:"Notifications enabled",description:"You'll now receive push notifications for updates."})}catch(g){g?.name==="NotAllowedError"?t({title:"Notifications blocked",description:"Please enable notifications in your browser settings.",variant:"destructive"}):t({title:"Error",description:"Could not enable push notifications.",variant:"destructive"})}u(!1)},v=async()=>{u(!0);try{const N=await(await navigator.serviceWorker.ready).pushManager.getSubscription();N&&(await Ae("POST",`/api/portal/${s}/push/unsubscribe`,{endpoint:N.endpoint}),await N.unsubscribe()),l(!1),f(!1),t({title:"Notifications disabled",description:"You won't receive push notifications anymore."})}catch{t({title:"Error",description:"Could not disable push notifications.",variant:"destructive"})}u(!1)};return n?e.jsxs(e.Fragment,{children:[e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>f(!0),disabled:d,className:`relative bg-white/[0.08] text-white/80 ${o?"text-emerald-400":""}`,title:o?"Manage push notifications":"Enable push notifications","data-testid":"button-push-toggle",children:d?e.jsx(Je,{className:"w-5 h-5 animate-spin"}):o?e.jsx(Tc,{className:"w-5 h-5"}):e.jsx(Wv,{className:"w-5 h-5"})}),e.jsx(Lt,{open:m,onOpenChange:f,children:e.jsxs(Et,{className:"sm:max-w-md bg-[#1a1a2e] border-white/10 text-white",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"text-white flex items-center gap-2",children:[o?e.jsx(Tc,{className:"w-5 h-5 text-emerald-400"}):e.jsx(Wv,{className:"w-5 h-5 text-white/60"}),"Push Notifications"]})}),e.jsx("div",{className:"rounded-md bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/20 p-4 -mt-1",children:e.jsxs("p",{className:"text-sm font-medium text-white/90 text-center",children:["Allow ",e.jsx("span",{className:"text-blue-400 font-semibold",children:"AI Powered Sites"})," to send you notifications"]})}),e.jsx("div",{className:"space-y-4 pt-2",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:[e.jsx(Rn,{className:"w-5 h-5 text-emerald-400 shrink-0"}),e.jsx("p",{className:"text-sm text-emerald-300",children:"Push notifications are currently enabled"})]}),e.jsx("p",{className:"text-sm text-white/60",children:"You're receiving instant alerts on this device for new invoices, project updates, support replies, and more."}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(z,{variant:"outline",className:"flex-1 border-white/10 text-white/80",onClick:()=>f(!1),"data-testid":"button-push-keep",children:"Keep Enabled"}),e.jsxs(z,{variant:"ghost",className:"flex-1 text-red-400",onClick:v,disabled:d,"data-testid":"button-push-disable",children:[d?e.jsx(Je,{className:"w-4 h-4 animate-spin mr-2"}):null,"Turn Off"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-white/70",children:"Stay in the loop with instant notifications delivered right to your device. You'll be alerted about:"}),e.jsx("div",{className:"space-y-2.5",children:[{icon:Aa,label:"New invoices & payment confirmations"},{icon:_n,label:"Project milestones & updates"},{icon:kt,label:"Support ticket replies"},{icon:po,label:"New screenshots & deliverables"},{icon:fx,label:"Payment plan updates"}].map(g=>e.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/80",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-white/[0.06] flex items-center justify-center shrink-0",children:e.jsx(g.icon,{className:"w-4 h-4 text-blue-400"})}),g.label]},g.label))}),e.jsx("p",{className:"text-xs text-white/40 pt-1",children:"Your browser will ask for permission. You can turn this off anytime."}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(z,{variant:"ghost",className:"flex-1 text-white/60",onClick:()=>f(!1),"data-testid":"button-push-cancel",children:"Not Now"}),e.jsxs(z,{className:"flex-1 bg-blue-600 text-white",onClick:y,disabled:d,"data-testid":"button-push-enable",children:[d?e.jsx(Je,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Enable Notifications"]})]})]})})]})})]}):null}function hR({token:s}){const[t,n]=x.useState(!1),[a,o]=x.useState(!1),l=`push-banner-dismissed-${s}`;x.useEffect(()=>{if(sessionStorage.getItem(l)){o(!0);return}if(!("serviceWorker"in navigator)||!("PushManager"in window))return;(async()=>{try{const f=await navigator.serviceWorker.getRegistration();if(!f){setTimeout(()=>n(!0),1500);return}await f.pushManager.getSubscription()||setTimeout(()=>n(!0),1500)}catch{setTimeout(()=>n(!0),1500)}})()},[l]);const d=()=>{n(!1),o(!0),sessionStorage.setItem(l,"1")},u=()=>{d();const m=document.querySelector('[data-testid="button-push-toggle"]');m&&m.click()};return a||!t?null:e.jsx("div",{className:"mb-4 -mt-3 animate-in slide-in-from-top-2 fade-in duration-500","data-testid":"push-prompt-banner",children:e.jsxs("div",{className:"relative rounded-md bg-gradient-to-r from-blue-600/90 to-purple-600/90 p-4 flex items-center gap-4 flex-wrap shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-white/15 flex items-center justify-center shrink-0",children:e.jsx(Tc,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Never miss an update"}),e.jsx("p",{className:"text-xs text-white/70 mt-0.5",children:"Get instant alerts for invoices, project milestones, and deliverables right on your device."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(z,{variant:"ghost",size:"sm",className:"text-white/70",onClick:d,"data-testid":"button-banner-dismiss",children:"Not Now"}),e.jsxs(z,{size:"sm",className:"bg-white text-slate-900 font-medium",onClick:u,"data-testid":"button-banner-enable",children:[e.jsx(Tc,{className:"w-3.5 h-3.5 mr-1.5"}),"Enable Notifications"]})]})]})})}function mR({token:s}){const[t,n]=x.useState(!1),{data:a,refetch:o}=Ie({queryKey:["/api/portal",s,"notifications"],queryFn:async()=>{const v=await fetch(`/api/portal/${s}/notifications`);if(!v.ok)throw new Error("Failed to fetch notifications");return v.json()},enabled:!!s,refetchInterval:3e4}),l=Re({mutationFn:async v=>{await Ae("PATCH",`/api/portal/${s}/notifications/${v}/read`)},onSuccess:()=>o()}),d=Re({mutationFn:async()=>{await Ae("POST",`/api/portal/${s}/notifications/read-all`)},onSuccess:()=>o()}),u=a?.unreadCount||0,m=a?.notifications||[],f=v=>{switch(v){case"project_update":return e.jsx(_n,{className:"w-4 h-4 text-blue-400"});case"invoice_created":return e.jsx(Aa,{className:"w-4 h-4 text-emerald-400"});case"ticket_reply":return e.jsx(kt,{className:"w-4 h-4 text-purple-400"});case"screenshot_uploaded":return e.jsx(po,{className:"w-4 h-4 text-amber-400"});case"payment_plan_created":return e.jsx(Ac,{className:"w-4 h-4 text-indigo-400"});default:return e.jsx(_u,{className:"w-4 h-4 text-white/60"})}},y=v=>{const g=Date.now()-new Date(v).getTime(),N=Math.floor(g/6e4);if(N<1)return"just now";if(N<60)return`${N}m ago`;const S=Math.floor(N/60);return S<24?`${S}h ago`:`${Math.floor(S/24)}d ago`};return e.jsxs("div",{className:"relative",children:[e.jsxs(z,{size:"icon",variant:"ghost",onClick:()=>n(!t),className:"relative bg-white/[0.08] text-white/80","data-testid":"button-notification-bell",children:[e.jsx(_u,{className:"w-5 h-5"}),u>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center","data-testid":"text-notification-badge",children:u>9?"9+":u})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-96 z-50 bg-popover border rounded-md shadow-xl overflow-hidden","data-testid":"notification-dropdown",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 border-b bg-muted/50",children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Notifications"}),u>0&&e.jsxs(z,{size:"sm",variant:"ghost",className:"text-xs",onClick:()=>d.mutate(),"data-testid":"button-mark-all-read",children:[e.jsx(Ns,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:m.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-sm text-muted-foreground","data-testid":"text-no-notifications",children:"No notifications yet"}):m.map(v=>e.jsxs("div",{className:`flex items-start gap-3 px-4 py-3 border-b last:border-b-0 cursor-pointer transition-colors ${v.isRead?"opacity-60":"bg-accent/30"}`,onClick:()=>{v.isRead||l.mutate(v.id),n(!1)},"data-testid":`notification-item-${v.id}`,children:[e.jsx("div",{className:"mt-0.5 shrink-0",children:f(v.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:v.title}),v.body&&e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:v.body}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:y(v.createdAt)})]}),!v.isRead&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 shrink-0"})]},v.id))})]})]})]})}const fR={"us-central":"us","us-west":"us","us-east":"us","us-southeast":"us","us-iad":"us","us-ord":"us","us-lax":"us","ca-central":"ca","eu-west":"gb","eu-central":"de","ap-west":"in","ap-south":"sg","ap-southeast":"au","ap-northeast":"jp","gb-lon":"gb","de-fra":"de","fr-par":"fr","nl-ams":"nl","se-sto":"se","es-mad":"es","it-mil":"it","in-maa":"in","sg-sin":"sg","au-mel":"au","jp-osa":"jp","br-gru":"br"};function Zy(s){const t=fR[s]||s.split("-")[0];return t.length===2?String.fromCodePoint(...Array.from(t.toUpperCase()).map(n=>n.charCodeAt(0)+127397)):""}function pR({token:s,servers:t,serversLoading:n}){const{toast:a}=gt(),[o,l]=x.useState(!1),[d,u]=x.useState(""),[m,f]=x.useState(""),[y,v]=x.useState(""),[g,N]=x.useState(null),[S,b]=x.useState(null),[k,P]=x.useState(!1),[R,T]=x.useState(null),{data:O}=Ie({queryKey:["/api/portal",s,"server-types"],queryFn:async()=>{const W=await fetch(`/api/portal/${s}/server-types`);return W.ok?W.json():[]},enabled:o}),{data:H}=Ie({queryKey:["/api/portal",s,"server-regions"],queryFn:async()=>{const W=await fetch(`/api/portal/${s}/server-regions`);return W.ok?W.json():[]},enabled:o}),se=Re({mutationFn:async W=>(await Ae("POST",`/api/portal/${s}/servers/provision`,W)).json(),onSuccess:W=>{be.invalidateQueries({queryKey:["/api/portal",s,"servers"]}),b(W.rootPassword),T(W.server.ipv4||"Assigning..."),l(!1),P(!0),u(""),f(""),v(""),a({title:"Server Provisioned!",description:"Your server is being set up. Save your login credentials below."})},onError:W=>{a({title:"Provisioning Failed",description:W.message||"Could not create server.",variant:"destructive"})}}),K=(W,me)=>{navigator.clipboard.writeText(W),N(me),setTimeout(()=>N(null),2e3)};(O||[]).find(W=>W.id===d);const re=W=>{switch(W){case"running":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"provisioning":case"booting":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"offline":case"shutting_down":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};return e.jsxs("div",{className:"space-y-6","data-testid":"section-servers",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center",children:e.jsx(fr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold","data-testid":"text-servers-title",children:"My Servers"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Provision and manage your cloud servers"})]})]}),e.jsxs(z,{onClick:()=>l(!0),"data-testid":"button-new-server",children:[e.jsx(as,{className:"w-4 h-4 mr-1.5"}),"New Server"]})]}),e.jsx(de,{className:"p-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center shrink-0",children:e.jsx(_s,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-200",children:"Need help choosing?"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Not sure which server is right for you? Contact us via Support and we'll help you pick the perfect plan for your needs."})]})]})}),n?e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ne,{className:"h-28 w-full"}),e.jsx(Ne,{className:"h-28 w-full"})]}):t.length===0?e.jsxs(de,{className:"p-10 text-center",children:[e.jsx(fr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"No Servers Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-md mx-auto",children:"Spin up your own cloud server in seconds. You'll get full root access with an IP address and SSH credentials."}),e.jsxs(z,{onClick:()=>l(!0),"data-testid":"button-first-server",children:[e.jsx(as,{className:"w-4 h-4 mr-1.5"}),"Provision Your First Server"]})]}):e.jsx("div",{className:"space-y-4",children:t.map(W=>e.jsxs(de,{className:"overflow-hidden","data-testid":`card-server-${W.id}`,children:[e.jsx("div",{className:"p-4 border-b bg-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fr,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:W.label}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(tl,{className:"w-3 h-3"}),Zy(W.region)," ",W.region]})]})]}),e.jsxs(Ce,{className:re(W.status),"data-testid":`badge-status-${W.id}`,children:[W.status==="running"&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5 animate-pulse"}),W.status]})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cp,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[W.vcpus||""," vCPUs"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ty,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:W.memory?`${(W.memory/1024).toFixed(W.memory>=1024?0:1)} GB`:""})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xv,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:W.disk?`${(W.disk/1024).toFixed(0)} GB`:""})]})]}),W.ipv4&&e.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-3",children:[e.jsx(Iu,{className:"w-4 h-4 text-muted-foreground shrink-0"}),e.jsxs("code",{className:"text-xs font-mono flex-1","data-testid":`text-ip-${W.id}`,children:["ssh root@",W.ipv4]}),e.jsx(z,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>K(`ssh root@${W.ipv4}`,W.id),"data-testid":`button-copy-ssh-${W.id}`,children:g===W.id?e.jsx(Ns,{className:"w-3.5 h-3.5 text-emerald-500"}):e.jsx(xn,{className:"w-3.5 h-3.5"})})]}),W.ipv4&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(na,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:["IP: ",W.ipv4]}),e.jsx(z,{variant:"ghost",size:"sm",className:"h-6 px-1.5 text-xs",onClick:()=>K(W.ipv4,`ip-${W.id}`),"data-testid":`button-copy-ip-${W.id}`,children:g===`ip-${W.id}`?e.jsx(Ns,{className:"w-3 h-3 text-emerald-500"}):e.jsx(xn,{className:"w-3 h-3"})})]})]})]},W.id))}),e.jsx(Lt,{open:o,onOpenChange:l,children:e.jsxs(Et,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Tt,{children:[e.jsxs(At,{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"w-5 h-5 text-blue-500"}),"Provision a New Server"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a plan, pick a region, and your server will be live in seconds."})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{className:"text-xs font-medium",children:"Server Name"}),e.jsx(Fe,{value:y,onChange:W=>v(W.target.value),placeholder:"my-web-server","data-testid":"input-server-label"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{className:"text-xs font-medium",children:"Choose a Plan"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3","data-testid":"select-server-type",children:(O||[]).map(W=>{const me=d===W.id,I=W.memory>=1024?(W.memory/1024).toFixed(0):(W.memory/1024).toFixed(1),X=(W.disk/1024).toFixed(0);return e.jsxs("button",{type:"button",onClick:()=>u(W.id),"data-testid":`plan-card-${W.id}`,className:`relative text-left rounded-lg border-2 p-4 transition-all cursor-pointer hover:shadow-md ${me?"border-blue-500 bg-blue-50/50 dark:bg-blue-950/20 shadow-sm ring-1 ring-blue-500/20":"border-border hover:border-blue-300 dark:hover:border-blue-700"}`,children:[me&&e.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx(Ns,{className:"w-3 h-3 text-white"})}),e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"font-semibold text-sm",children:W.label})}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-2xl font-bold",children:["$",(W.hourlyPrice||0).toFixed(4)]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"/hour"})]}),e.jsxs("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:["~$",W.monthlyPrice,"/mo cap"]})]}),e.jsxs("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cp,{className:"w-3.5 h-3.5 text-blue-500 shrink-0"}),e.jsxs("span",{children:[W.vcpus," vCPU",W.vcpus>1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ty,{className:"w-3.5 h-3.5 text-purple-500 shrink-0"}),e.jsxs("span",{children:[I," GB RAM"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xv,{className:"w-3.5 h-3.5 text-emerald-500 shrink-0"}),e.jsxs("span",{children:[X," GB SSD"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kC,{className:"w-3.5 h-3.5 text-amber-500 shrink-0"}),e.jsxs("span",{children:[W.transfer/1e3," TB Transfer"]})]})]})]},W.id)})}),(O||[]).length===0&&e.jsxs("div",{className:"text-center py-6 text-sm text-muted-foreground",children:[e.jsx(Je,{className:"w-5 h-5 mx-auto mb-2 animate-spin"}),"Loading plans..."]})]}),e.jsx(de,{className:"p-3 bg-blue-50/50 dark:bg-blue-950/10 border-blue-200/50 dark:border-blue-800/30",children:e.jsxs("div",{className:"flex items-start gap-2.5",children:[e.jsx(Ln,{className:"w-4 h-4 text-blue-500 mt-0.5 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900 dark:text-blue-200",children:"Usage-Based Billing"}),e.jsx("p",{className:"text-[11px] text-blue-700 dark:text-blue-400 leading-relaxed",children:"You're billed hourly for the time your server is running  only pay for what you use. Each plan has a monthly cap so you'll never pay more than that amount regardless of uptime."})]})]})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{className:"text-xs font-medium",children:"Region"}),e.jsxs(_t,{value:m,onValueChange:f,children:[e.jsx(St,{"data-testid":"select-server-region",children:e.jsx(Ot,{placeholder:"Choose a region..."})}),e.jsx(Ct,{children:(H||[]).map(W=>e.jsxs(Pe,{value:W.id,children:[Zy(W.id)," ",W.label]},W.id))})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>l(!1),children:"Cancel"}),e.jsx(z,{className:"flex-1 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",disabled:!d||!m||!y.trim()||se.isPending,onClick:()=>se.mutate({typeId:d,region:m,label:y.trim()}),"data-testid":"button-provision-server",children:se.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 mr-1.5 animate-spin"})," Provisioning..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"w-4 h-4 mr-1.5"})," Provision Server"]})})]})]})]})}),e.jsx(Lt,{open:k,onOpenChange:P,children:e.jsxs(Et,{className:"max-w-md",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-2 text-emerald-600",children:[e.jsx(Ns,{className:"w-5 h-5"}),"Server Created Successfully!"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(de,{className:"p-4 bg-amber-50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-800",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-200 mb-1",children:" Save these credentials  they won't be shown again!"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:"You'll need this password to log into your server via SSH."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx($e,{className:"text-xs font-medium text-muted-foreground",children:"SSH Command"}),e.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-2.5",children:[e.jsxs("code",{className:"text-xs font-mono flex-1","data-testid":"text-ssh-command",children:["ssh root@",R]}),e.jsx(z,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>K(`ssh root@${R}`,"new-ssh"),"data-testid":"button-copy-new-ssh",children:g==="new-ssh"?e.jsx(Ns,{className:"w-3.5 h-3.5 text-emerald-500"}):e.jsx(xn,{className:"w-3.5 h-3.5"})})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx($e,{className:"text-xs font-medium text-muted-foreground",children:"Root Password"}),e.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-2.5",children:[e.jsx("code",{className:"text-xs font-mono flex-1 break-all","data-testid":"text-root-password",children:S}),e.jsx(z,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>K(S||"","new-pass"),"data-testid":"button-copy-password",children:g==="new-pass"?e.jsx(Ns,{className:"w-3.5 h-3.5 text-emerald-500"}):e.jsx(xn,{className:"w-3.5 h-3.5"})})]})]})]}),e.jsx(z,{className:"w-full",onClick:()=>P(!1),"data-testid":"button-close-password",children:"I've Saved My Credentials"})]})]})})]})}function xR({articles:s}){const[t,n]=x.useState(""),[a,o]=x.useState("all"),[l,d]=x.useState(null),u=["all",...Array.from(new Set(s.map(y=>y.category)))],m=s.filter(y=>{const v=!t||y.title.toLowerCase().includes(t.toLowerCase())||(y.content||"").toLowerCase().includes(t.toLowerCase()),g=a==="all"||y.category===a;return v&&g}),f={General:"","Getting Started":"",Billing:"",Technical:"",FAQ:"",Tutorials:"",Troubleshooting:""};return l?e.jsxs("div",{className:"space-y-4","data-testid":"section-help-article",children:[e.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>d(null),"data-testid":"button-back-to-help",children:[e.jsx(Ta,{className:"w-4 h-4 mr-1.5"}),"Back to Help Center"]}),e.jsxs(de,{className:"p-6",children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[f[l.category]||""," ",l.category]})}),e.jsx("h2",{className:"text-xl font-semibold mb-4","data-testid":"text-article-title",children:l.title}),e.jsx("div",{className:"article-content prose prose-sm max-w-none text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:l.content},"data-testid":"article-content"})]})]}):e.jsxs("div",{className:"space-y-6","data-testid":"section-help",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center",children:e.jsx(so,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold","data-testid":"text-help-title",children:"Help Center"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Guides and tutorials to help you get the most out of your services"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{value:t,onChange:y=>n(y.target.value),placeholder:"Search articles...",className:"pl-9","data-testid":"input-help-search"})]}),e.jsxs(_t,{value:a,onValueChange:o,children:[e.jsx(St,{className:"w-full sm:w-[180px]","data-testid":"select-help-category",children:e.jsx(Ot,{placeholder:"All Categories"})}),e.jsx(Ct,{children:u.map(y=>e.jsx(Pe,{value:y,children:y==="all"?"All Categories":`${f[y]||""} ${y}`},y))})]})]}),m.length===0?e.jsxs(de,{className:"p-10 text-center",children:[e.jsx(so,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"No Articles Found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Try a different search term or category.":"No help articles have been published yet."})]}):e.jsx("div",{className:"space-y-3",children:m.map(y=>e.jsx(de,{className:"p-4 hover-elevate cursor-pointer transition-all",onClick:()=>d(y),"data-testid":`card-article-${y.id}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsxs(Ce,{variant:"secondary",className:"text-[10px] shrink-0",children:[f[y.category]||""," ",y.category]})}),e.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-article-title-${y.id}`,children:y.title}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(y.content||"").replace(/<[^>]+>/g,"").substring(0,150),"..."]})]}),e.jsx(ux,{className:"w-4 h-4 text-muted-foreground shrink-0 ml-3"})]})},y.id))})]})}function gR(){const s=th(),{toast:t}=gt(),n=H5(),[a,o]=x.useState(null),[l,d]=x.useState(!1),[u,m]=x.useState(""),[f,y]=x.useState(""),[v,g]=x.useState(""),[N,S]=x.useState(""),[b,k]=x.useState(null),[P,R]=x.useState(!1),[T,O]=x.useState(""),[H,se]=x.useState("dashboard");x.useEffect(()=>{const M=new URLSearchParams(n),pe=M.get("payment"),Ye=M.get("invoice"),vt=M.get("payment_plan");pe==="success"&&Ye?(t({title:"Payment Successful",description:`Invoice ${Ye} has been paid. Thank you!`}),be.invalidateQueries({queryKey:[`/api/portal/${s.token}`]})):pe==="cancelled"&&t({title:"Payment Cancelled",description:"Your payment was not processed.",variant:"destructive"}),vt==="accepted"?(t({title:"Payment Plan Started",description:"Your payment plan is now active. Payments will be collected automatically."}),be.invalidateQueries({queryKey:["/api/portal",s.token,"payment-plans"]})):vt==="cancelled"&&t({title:"Plan Not Started",description:"You can accept the payment plan at any time.",variant:"destructive"});const nt=M.get("github_connected"),It=M.get("github_user");nt==="true"&&(t({title:"GitHub Connected!",description:`Your GitHub account (${It||""}) has been linked successfully.`}),se("backups"),be.invalidateQueries({queryKey:["/api/portal",s.token,"git-backups"]}))},[n]);const K=Re({mutationFn:async M=>(k(M),(await Ae("POST",`/api/portal/${s.token}/invoices/${M}/pay`)).json()),onSuccess:M=>{M.url&&(window.location.href=M.url)},onError:M=>{k(null),t({title:"Payment Error",description:M.message||"Could not start payment process.",variant:"destructive"})}}),[re,W]=x.useState(!1),[me,I]=x.useState(""),[X,$]=x.useState(""),[Q,ne]=x.useState("general"),[F,C]=x.useState("medium"),[E,G]=x.useState(null),[Y,q]=x.useState(""),[ee,xe]=x.useState(null),U=`/api/portal/${s.token}`,{data:_,isLoading:D,error:oe}=Ie({queryKey:[U],enabled:!!s.token}),{data:ue}=Ie({queryKey:["/api/portal",s.token,"payment-plans"],queryFn:async()=>{const M=await fetch(`/api/portal/${s.token}/payment-plans`);if(!M.ok)throw new Error("Failed to load payment plans");return M.json()},enabled:!!s.token}),{data:ke}=Ie({queryKey:["/api/portal",s.token,"git-backups"],queryFn:async()=>{const M=await fetch(`/api/portal/${s.token}/git-backups`);if(!M.ok)throw new Error("Failed to load backups");const pe=await M.json();return Array.isArray(pe)?{configs:pe,billingRate:null}:pe},enabled:!!s.token}),ye=ke?.configs,Ee=ke?.billingRate,De=Re({mutationFn:async M=>(xe(M),(await Ae("POST",`/api/portal/${s.token}/payment-plans/${M}/accept`)).json()),onSuccess:M=>{M.url&&(window.location.href=M.url)},onError:M=>{xe(null),t({title:"Error",description:M.message||"Could not start payment plan.",variant:"destructive"})}}),{data:Ve}=Ie({queryKey:["/api/portal",s.token,"tickets"],queryFn:async()=>{const M=await fetch(`/api/portal/${s.token}/tickets`);if(!M.ok)throw new Error("Failed to fetch tickets");return M.json()},enabled:!!s.token}),{data:Xe}=Ie({queryKey:["/api/portal",s.token,"tickets",E],queryFn:async()=>{const M=await fetch(`/api/portal/${s.token}/tickets/${E}`);if(!M.ok)throw new Error("Failed to fetch ticket");return M.json()},enabled:!!E&&!!s.token}),ut=Re({mutationFn:async M=>(await Ae("PATCH",`/api/portal/${s.token}/profile`,M)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:[U]}),t({title:"Profile updated",description:"Your contact details have been saved."}),d(!1)},onError:M=>{t({title:"Update failed",description:M.message||"Could not update your details.",variant:"destructive"})}}),is=Re({mutationFn:async M=>(await Ae("POST",`/api/portal/${s.token}/tickets`,M)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/portal",s.token,"tickets"]}),t({title:"Ticket created",description:"Your support ticket has been submitted."}),W(!1),I(""),$(""),ne("general"),C("medium")},onError:M=>{t({title:"Failed to create ticket",description:M.message,variant:"destructive"})}}),os=Re({mutationFn:async({ticketId:M,message:pe})=>(await Ae("POST",`/api/portal/${s.token}/tickets/${M}/messages`,{message:pe})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/portal",s.token,"tickets",E]}),be.invalidateQueries({queryKey:["/api/portal",s.token,"tickets"]}),t({title:"Reply sent"}),q("")},onError:M=>{t({title:"Failed to send reply",description:M.message,variant:"destructive"})}}),Ss=Re({mutationFn:async()=>(await Ae("POST",`/api/portal/${s.token}/delete-account`)).json(),onSuccess:()=>{t({title:"Account deleted",description:"Your account and all associated data have been removed."}),R(!1),window.location.href="/"},onError:M=>{t({title:"Cannot delete account",description:M.message||"Failed to delete account.",variant:"destructive"})}}),{data:Vs,isLoading:fs}=Ie({queryKey:["/api/portal",s.token,"servers"],queryFn:async()=>{const M=await fetch(`/api/portal/${s.token}/servers`);return M.ok?M.json():[]},enabled:!!s.token}),{data:bs}=Ie({queryKey:["/api/public/knowledge-base"],enabled:!!s.token});if(D)return e.jsx(oR,{});if(oe||!_)return e.jsx("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center p-6",children:e.jsxs(de,{className:"p-10 text-center max-w-md",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:e.jsx(Zt,{className:"w-7 h-7 text-muted-foreground"})}),e.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Link Not Found"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"This portal link is invalid or has expired. Please contact your service provider for a new link."})]})});const{customer:Pt,invoices:qt,projects:bt}=_,le=qt.filter(M=>M.status==="pending"||M.status==="overdue").reduce((M,pe)=>M+pe.totalAmountCents,0),_e=qt.filter(M=>M.status==="paid").reduce((M,pe)=>M+pe.totalAmountCents,0),et=qt.filter(M=>M.status==="overdue").length,wt=(Ve||[]).filter(M=>M.status==="open"||M.status==="in_progress").length,ls=(ue||[]).filter(M=>M.status!=="cancelled"&&M.status!=="completed"),$t=[{id:"dashboard",label:"Overview",icon:Ou},{id:"invoices",label:"Invoices",icon:Aa,count:qt.filter(M=>M.status==="pending"||M.status==="overdue").length},{id:"projects",label:"Projects",icon:_n,count:bt.filter(M=>M.status==="active"||M.status==="in_progress").length},{id:"billing",label:"Billing",icon:fx},{id:"support",label:"Support",icon:Yi,count:wt},{id:"backups",label:"Backups",icon:Zi},{id:"servers",label:"Servers",icon:fr},{id:"help",label:"Help Center",icon:so}];return e.jsxs("div",{className:"min-h-screen bg-muted/30",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_50%_at_50%_-20%,rgba(120,119,198,0.15),transparent)]"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 pt-8 pb-16 relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("img",{src:sR,alt:"AI Powered Sites",className:"w-11 h-11 rounded-md object-cover shrink-0 ring-2 ring-white/20"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-white/50 uppercase tracking-wider font-medium",children:"Client Portal"}),e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-portal-title",children:Pt.company||Pt.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uR,{token:s.token}),e.jsx(mR,{token:s.token})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/[0.06] backdrop-blur-sm rounded-md p-4 border border-white/[0.08]",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Amount Due"}),e.jsx("p",{className:"text-xl font-semibold","data-testid":"text-portal-amount-due",children:Le(le)}),et>0&&e.jsxs("p",{className:"text-xs text-red-300 mt-1 flex items-center gap-1",children:[e.jsx(Qn,{className:"w-3 h-3"}),et," overdue"]})]}),e.jsxs("div",{className:"bg-white/[0.06] backdrop-blur-sm rounded-md p-4 border border-white/[0.08]",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Total Paid"}),e.jsx("p",{className:"text-xl font-semibold","data-testid":"text-portal-total-paid",children:Le(_e)})]}),e.jsxs("div",{className:"bg-white/[0.06] backdrop-blur-sm rounded-md p-4 border border-white/[0.08]",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Invoices"}),e.jsx("p",{className:"text-xl font-semibold","data-testid":"text-portal-invoice-count",children:qt.length})]}),e.jsxs("div",{className:"bg-white/[0.06] backdrop-blur-sm rounded-md p-4 border border-white/[0.08]",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Projects"}),e.jsx("p",{className:"text-xl font-semibold","data-testid":"text-portal-project-count",children:bt.length})]})]})]})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsx(hR,{token:s.token}),e.jsx("div",{className:"mt-4 mb-8",children:e.jsx(de,{className:"p-1.5 inline-flex items-center gap-1 flex-wrap",children:$t.map(M=>e.jsxs(z,{variant:H===M.id?"default":"ghost",size:"sm",onClick:()=>{se(M.id),G(null)},"data-testid":`button-tab-${M.id}`,children:[e.jsx(M.icon,{className:"w-4 h-4 mr-1.5"}),e.jsx("span",{className:"hidden sm:inline",children:M.label}),M.count&&M.count>0?e.jsx(Ce,{variant:"secondary",className:"ml-1.5 text-[10px] px-1.5 min-w-[20px] justify-center",children:M.count}):null]},M.id))})}),e.jsxs("div",{className:"pb-12",children:[H==="dashboard"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{"data-testid":"section-welcome",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-1",children:["Welcome back, ",Pt.name.split(" ")[0]]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Here's what's happening with your projects."}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[qt.some(M=>M.status==="pending"||M.status==="overdue")&&e.jsxs(z,{size:"sm",onClick:()=>se("invoices"),"data-testid":"button-quick-pay",children:[e.jsx(Qi,{className:"w-4 h-4 mr-1.5"}),"Pay Invoice"]}),bt.length>0&&e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>se("projects"),"data-testid":"button-quick-progress",children:[e.jsx(_n,{className:"w-4 h-4 mr-1.5"}),"View Projects"]}),e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>se("support"),"data-testid":"button-quick-ticket",children:[e.jsx(Yi,{className:"w-4 h-4 mr-1.5"}),"Get Help"]})]})]}),et>0&&e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-md bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900/50",children:[e.jsx(Qn,{className:"w-5 h-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:["You have ",et," overdue invoice",et>1?"s":""]}),e.jsx("p",{className:"text-xs text-red-600/80 dark:text-red-400/80 mt-0.5",children:"Please arrange payment as soon as possible to avoid additional fees."})]}),e.jsx(z,{variant:"outline",size:"sm",className:"shrink-0 text-red-600 border-red-300 dark:text-red-400 dark:border-red-800",onClick:()=>se("invoices"),"data-testid":"button-view-overdue",children:"View Invoices"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[ls.length>0&&e.jsxs("div",{"data-testid":"section-payment-plans",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Active Payment Plans"}),e.jsx("div",{className:"space-y-3",children:ls.map(M=>{const pe=qt.find(nt=>nt.id===M.invoiceId),Ye=M.frequency==="weekly"?"week":M.frequency==="biweekly"?"2 weeks":"month",vt=M.numberOfInstallments>0?Math.round(M.installmentsPaid/M.numberOfInstallments*100):0;return e.jsxs(de,{className:"p-5","data-testid":`card-payment-plan-${M.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold",children:[M.numberOfInstallments," payments of ",Le(M.installmentAmountCents)]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Every ",Ye," ",pe?`for invoice ${pe.invoiceNumber}`:""]})]}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(M.status)}`,children:M.status==="pending"?"Ready to Start":M.status==="active"?"In Progress":M.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Total: ",Le(M.totalAmountCents)]}),e.jsxs("span",{children:[M.installmentsPaid," of ",M.numberOfInstallments," paid"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-violet-600 h-2 rounded-full transition-all",style:{width:`${vt}%`},"data-testid":`progress-plan-${M.id}`})})]}),M.status==="pending"&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs(z,{className:"w-full bg-gradient-to-r from-blue-500 to-violet-600 text-white border-0",onClick:()=>De.mutate(M.id),disabled:ee===M.id,"data-testid":`button-accept-plan-${M.id}`,children:[ee===M.id?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Qi,{className:"w-4 h-4 mr-2"}),ee===M.id?"Redirecting...":"Accept & Start Plan"]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"You'll be redirected to Stripe to set up automatic payments"})]}),M.status==="active"&&M.startDate&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["Started ",Ps(M.startDate),"  Next payment collected automatically"]})]},M.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Recent Invoices"}),qt.length>3&&e.jsx(z,{variant:"ghost",size:"sm",onClick:()=>se("invoices"),"data-testid":"button-view-all-invoices",children:"View All"})]}),qt.length>0?e.jsx("div",{className:"space-y-2",children:qt.slice(0,3).map(M=>e.jsx(de,{className:"hover-elevate cursor-pointer",onClick:()=>{se("invoices"),o(M.id)},"data-testid":`card-dashboard-invoice-${M.id}`,children:e.jsxs("div",{className:"p-4 flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-md shrink-0 ${M.status==="paid"?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":M.status==="overdue"?"bg-red-500/10 text-red-600 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:Xy(M.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:M.invoiceNumber}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due ",Ps(M.dueDate)]})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-sm font-semibold",children:Le(M.totalAmountCents)}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(M.status)}`,children:M.status})]})]})},M.id))}):e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(Zt,{className:"w-8 h-8 text-muted-foreground/40 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No invoices yet"})]})]}),bt.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Active Projects"}),bt.length>2&&e.jsx(z,{variant:"ghost",size:"sm",onClick:()=>se("projects"),"data-testid":"button-view-all-projects",children:"View All"})]}),e.jsx("div",{className:"space-y-2",children:bt.slice(0,2).map(M=>e.jsx(de,{className:"p-4 hover-elevate cursor-pointer",onClick:()=>se("projects"),"data-testid":`card-dashboard-project-${M.id}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:M.name}),M.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:M.description})]}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(M.status)}`,children:M.status})]})},M.id))})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(dR,{token:s.token}),e.jsxs("div",{"data-testid":"card-portal-profile",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Your Account"}),!l&&e.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>{m(Pt.name),y(Pt.email),g(Pt.company||""),S(Pt.phone||""),d(!0)},"data-testid":"button-edit-profile",children:[e.jsx(gi,{className:"w-3.5 h-3.5 mr-1"}),"Edit"]})]}),l?e.jsx(de,{className:"p-5",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{htmlFor:"portal-name",className:"text-xs font-medium",children:"Full Name"}),e.jsx(Fe,{id:"portal-name",value:u,onChange:M=>m(M.target.value),"data-testid":"input-portal-name"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{htmlFor:"portal-company",className:"text-xs font-medium",children:"Company"}),e.jsx(Fe,{id:"portal-company",value:v,onChange:M=>g(M.target.value),placeholder:"(optional)","data-testid":"input-portal-company"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{htmlFor:"portal-email",className:"text-xs font-medium",children:"Email"}),e.jsx(Fe,{id:"portal-email",type:"email",value:f,onChange:M=>y(M.target.value),"data-testid":"input-portal-email"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{htmlFor:"portal-phone",className:"text-xs font-medium",children:"Phone"}),e.jsx(Fe,{id:"portal-phone",type:"tel",value:N,onChange:M=>S(M.target.value),placeholder:"(optional)","data-testid":"input-portal-phone"})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t",children:[e.jsxs(z,{size:"sm",onClick:()=>ut.mutate({name:u,email:f,company:v,phone:N}),disabled:ut.isPending||!f.trim()||!u.trim(),"data-testid":"button-save-profile",children:[ut.isPending?e.jsx(Je,{className:"w-4 h-4 mr-1 animate-spin"}):e.jsx(mx,{className:"w-4 h-4 mr-1"}),"Save"]}),e.jsx(z,{variant:"ghost",size:"sm",onClick:()=>d(!1),"data-testid":"button-cancel-edit",children:"Cancel"})]})]})}):e.jsxs(de,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-violet-600 flex items-center justify-center text-white text-lg font-semibold shrink-0",children:Pt.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold truncate","data-testid":"text-portal-name",children:Pt.name}),Pt.company&&e.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-portal-company",children:Pt.company})]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_s,{className:"w-3.5 h-3.5 shrink-0"}),e.jsx("span",{className:"truncate","data-testid":"text-portal-email",children:Pt.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Mc,{className:"w-3.5 h-3.5 shrink-0"}),e.jsx("span",{"data-testid":"text-portal-phone",children:Pt.phone||"Not provided"})]})]})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ly,{className:"w-4 h-4 text-muted-foreground shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Need to remove your data? You can request permanent deletion of your account."}),e.jsxs(z,{variant:"ghost",size:"sm",className:"mt-2 text-destructive",onClick:()=>{O(""),R(!0)},"data-testid":"button-request-delete",children:[e.jsx(ks,{className:"w-3.5 h-3.5 mr-1.5"}),"Request Data Deletion"]})]})]})})]})]})]}),H==="invoices"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Invoices"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[qt.length," total invoice",qt.length!==1?"s":""]})]}),qt.length>0?e.jsx("div",{className:"space-y-3",children:qt.map(M=>{const pe=a===M.id;return e.jsxs(de,{className:"overflow-hidden","data-testid":`card-portal-invoice-${M.id}`,children:[e.jsxs("button",{onClick:()=>o(pe?null:M.id),className:"w-full p-5 text-left flex items-center justify-between gap-3 hover-elevate","data-testid":`button-expand-invoice-${M.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-md shrink-0 ${M.status==="paid"?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":M.status==="overdue"?"bg-red-500/10 text-red-600 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:Xy(M.status)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold",children:M.invoiceNumber}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Issued ",Ps(M.issuedAt),"  Due ",Ps(M.dueDate)]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-base font-semibold",children:Le(M.totalAmountCents)}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(M.status)}`,children:M.status})]}),pe?e.jsx(Cl,{className:"w-4 h-4 text-muted-foreground"}):e.jsx(La,{className:"w-4 h-4 text-muted-foreground"})]})]}),pe&&e.jsxs("div",{className:"border-t px-5 pb-5",children:[M.lineItems&&M.lineItems.length>0&&e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2.5 text-xs font-medium text-muted-foreground",children:"Item"}),e.jsx("th",{className:"text-right py-2.5 text-xs font-medium text-muted-foreground",children:"Qty"}),e.jsx("th",{className:"text-right py-2.5 text-xs font-medium text-muted-foreground",children:"Rate"}),e.jsx("th",{className:"text-right py-2.5 text-xs font-medium text-muted-foreground",children:"Total"})]})}),e.jsx("tbody",{children:M.lineItems.map(Ye=>e.jsxs("tr",{className:"border-b last:border-b-0",children:[e.jsx("td",{className:"py-2.5 pr-3",children:Ye.description}),e.jsx("td",{className:"py-2.5 text-right text-muted-foreground",children:Number(Ye.quantity)}),e.jsx("td",{className:"py-2.5 text-right text-muted-foreground",children:Le(Ye.unitPrice)}),e.jsx("td",{className:"py-2.5 text-right font-medium",children:Le(Ye.totalCents)})]},Ye.id))})]})}),e.jsxs("div",{className:"flex justify-between gap-3 text-sm pt-4 border-t mt-4 font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:Le(M.totalAmountCents)})]}),e.jsxs("div",{className:"flex gap-3 pt-4 mt-4 border-t flex-wrap",children:[e.jsxs(z,{variant:"outline",onClick:Ye=>{Ye.stopPropagation();const vt=document.createElement("a");vt.href=`/api/portal/${s.token}/invoices/${M.id}/pdf`,vt.download=`${M.invoiceNumber}.pdf`,vt.click()},"data-testid":`button-download-pdf-${M.id}`,children:[e.jsx(no,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),M.status!=="paid"&&M.status!=="draft"&&e.jsxs(z,{className:"bg-gradient-to-r from-blue-500 to-violet-600 text-white border-0 flex-1",onClick:Ye=>{Ye.stopPropagation(),K.mutate(M.id)},disabled:b===M.id,"data-testid":`button-pay-invoice-${M.id}`,children:[b===M.id?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Qi,{className:"w-4 h-4 mr-2"}),b===M.id?"Redirecting...":`Pay ${Le(M.totalAmountCents)}`]})]}),M.status==="paid"&&e.jsxs("div",{className:"pt-4 mt-4 border-t flex items-center justify-center gap-2 text-emerald-600 dark:text-emerald-400",children:[e.jsx(Rn,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Paid in full"})]})]})]},M.id)})}):e.jsxs(de,{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-muted mb-4",children:e.jsx(Aa,{className:"w-6 h-6 text-muted-foreground"})}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"No invoices yet"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Invoices will appear here once your project work begins."})]})]}),H==="projects"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Projects"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[bt.length," project",bt.length!==1?"s":""]})]}),bt.length>0?e.jsx("div",{className:"space-y-4",children:bt.map(M=>e.jsxs(de,{className:"p-5","data-testid":`card-portal-project-${M.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap mb-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold",children:M.name}),M.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:M.description})]}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(M.status)}`,children:M.status})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsx("a",{href:`/progress/${M.id}`,target:"_blank",rel:"noopener noreferrer","data-testid":`link-portal-progress-${M.id}`,children:e.jsxs(z,{variant:"outline",size:"sm",children:[e.jsx(Ws,{className:"w-3.5 h-3.5 mr-1.5"}),"View Progress"]})}),M.previewUrl&&e.jsx("a",{href:M.previewUrl,target:"_blank",rel:"noopener noreferrer","data-testid":`link-portal-preview-${M.id}`,children:e.jsxs(z,{variant:"outline",size:"sm",children:[e.jsx(FC,{className:"w-3.5 h-3.5 mr-1.5"}),"Open Full Screen"]})})]}),e.jsxs("div",{className:"mt-4","data-testid":`preview-section-${M.id}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(na,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Live Preview"})]}),M.previewUrl&&e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs(z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{const pe=document.getElementById(`preview-iframe-${M.id}`);pe&&(pe.src=M.previewUrl)},"data-testid":`button-refresh-preview-${M.id}`,children:[e.jsx(ih,{className:"w-3 h-3 mr-1"}),"Refresh"]})})]}),M.previewUrl?e.jsxs("div",{className:"rounded-lg border overflow-hidden bg-background shadow-sm",children:[e.jsxs("div",{className:"bg-muted/50 px-3 py-1.5 flex items-center gap-2 border-b",children:[e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-400/70"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400/70"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400/70"})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"bg-background rounded px-3 py-0.5 text-[10px] text-muted-foreground truncate max-w-[300px] border",children:M.previewUrl})}),e.jsx("a",{href:M.previewUrl,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Ws,{className:"w-3 h-3 text-muted-foreground hover:text-foreground transition-colors"})})]}),e.jsx("iframe",{id:`preview-iframe-${M.id}`,src:M.previewUrl,className:"w-full border-0",style:{height:"500px"},title:`Preview of ${M.name}`,sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",loading:"lazy","data-testid":`iframe-preview-${M.id}`})]}):e.jsxs("div",{className:"rounded-lg border bg-gradient-to-br from-muted/30 via-muted/20 to-background p-8 text-center","data-testid":`preview-placeholder-${M.id}`,children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:e.jsx(HC,{className:"w-7 h-7 text-primary/60"})}),e.jsx("h4",{className:"font-semibold mb-1",children:"Your site is being prepared"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-sm mx-auto",children:"A live preview of your website will appear here once development begins. You'll be able to watch it come to life in real time."}),e.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary/40 animate-pulse"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Coming soon"})]})]})]}),e.jsx(cR,{token:s.token,projectId:M.id}),e.jsx(lR,{token:s.token,projectId:M.id})]},M.id))}):e.jsxs(de,{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-muted mb-4",children:e.jsx(_n,{className:"w-6 h-6 text-muted-foreground"})}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"No projects yet"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your projects will appear here once they're created."})]})]}),H==="billing"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Billing & Payments"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your payment methods and view payment plans"})]}),e.jsx(iR,{token:s.token}),ls.length>0&&e.jsxs("div",{"data-testid":"section-billing-payment-plans",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Payment Plans"}),e.jsx("div",{className:"space-y-3",children:ls.map(M=>{const pe=qt.find(nt=>nt.id===M.invoiceId),Ye=M.frequency==="weekly"?"week":M.frequency==="biweekly"?"2 weeks":"month",vt=M.numberOfInstallments>0?Math.round(M.installmentsPaid/M.numberOfInstallments*100):0;return e.jsxs(de,{className:"p-5","data-testid":`card-billing-plan-${M.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold",children:[M.numberOfInstallments," payments of ",Le(M.installmentAmountCents)]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Every ",Ye," ",pe?`for ${pe.invoiceNumber}`:""]})]}),e.jsx(Ce,{variant:"secondary",className:`text-xs ${Wn(M.status)}`,children:M.status==="pending"?"Ready to Start":M.status==="active"?"In Progress":M.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Total: ",Le(M.totalAmountCents)]}),e.jsxs("span",{children:[M.installmentsPaid," of ",M.numberOfInstallments," paid"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-violet-600 h-2 rounded-full transition-all",style:{width:`${vt}%`}})})]}),M.status==="pending"&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs(z,{className:"w-full bg-gradient-to-r from-blue-500 to-violet-600 text-white border-0",onClick:()=>De.mutate(M.id),disabled:ee===M.id,"data-testid":`button-billing-accept-plan-${M.id}`,children:[ee===M.id?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Qi,{className:"w-4 h-4 mr-2"}),ee===M.id?"Redirecting...":"Accept & Start Plan"]})})]},M.id)})})]}),(()=>{const M=qt.filter(Ye=>Ye.status==="paid");if(M.length===0)return null;const pe=M.reduce((Ye,vt)=>Ye+vt.totalAmountCents,0);return e.jsxs("div",{"data-testid":"section-payment-history",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Payment History"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[M.length," payment",M.length!==1?"s":""," totaling ",Le(pe)]})]}),e.jsx(de,{className:"divide-y",children:M.map(Ye=>e.jsxs("div",{className:"flex items-center gap-4 p-4","data-testid":`payment-history-${Ye.id}`,children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-md bg-emerald-500/10 shrink-0",children:e.jsx(Rn,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:Ye.invoiceNumber}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid ",Ps(Ye.dueDate)]})]}),e.jsx("div",{className:"text-right shrink-0",children:e.jsx("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:Le(Ye.totalAmountCents)})}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{const vt=document.createElement("a");vt.href=`/api/portal/${s.token}/invoices/${Ye.id}/pdf`,vt.download=`${Ye.invoiceNumber}.pdf`,vt.click()},"data-testid":`button-download-receipt-${Ye.id}`,children:e.jsx(no,{className:"w-4 h-4"})})]},Ye.id))})]})})()]}),H==="support"&&e.jsxs(e.Fragment,{children:[E&&Xe?e.jsxs("div",{className:"space-y-5",children:[e.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>G(null),"data-testid":"button-back-tickets",children:[e.jsx(Ta,{className:"w-4 h-4 mr-2"}),"All tickets"]}),e.jsxs(de,{className:"overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b bg-muted/30",children:e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("h2",{className:"text-lg font-semibold leading-tight","data-testid":"text-ticket-subject",children:Xe.subject}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground flex-wrap",children:[e.jsx("span",{className:"font-mono",children:Xe.ticketNumber}),e.jsx("span",{className:"opacity-30",children:"|"}),e.jsx("span",{className:"capitalize",children:Xe.category}),e.jsx("span",{className:"opacity-30",children:"|"}),e.jsx("span",{children:Ps(Xe.createdAt)})]})]}),e.jsxs(Ce,{variant:"secondary",className:`text-xs border ${Xe.status==="open"?"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20":Xe.status==="in_progress"?"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20":Xe.status==="resolved"?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20":"bg-muted border-muted"}`,children:[Xe.status==="open"&&e.jsx(xi,{className:"w-3 h-3 mr-1"}),Xe.status==="in_progress"&&e.jsx(Jt,{className:"w-3 h-3 mr-1"}),Xe.status==="resolved"&&e.jsx(Rn,{className:"w-3 h-3 mr-1"}),Xe.status.replace("_"," ")]})]})}),e.jsx("div",{className:"divide-y",children:Xe.messages.map(M=>{const pe=M.senderType==="admin";return e.jsx("div",{className:`p-5 ${pe?"bg-primary/[0.03] dark:bg-primary/[0.06]":""}`,"data-testid":`message-${M.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold shrink-0 ${pe?"bg-primary text-primary-foreground":"bg-gradient-to-br from-blue-500 to-violet-500 text-white"}`,children:M.senderName.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5 flex-wrap",children:[e.jsx("span",{className:"text-sm font-semibold",children:M.senderName}),e.jsx(Ce,{variant:"secondary",className:`text-[10px] px-1.5 py-0 ${pe?"bg-primary/10 text-primary border-primary/20":"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20"} border`,children:pe?"Support Team":"You"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-auto shrink-0",children:Ps(M.createdAt)})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed text-foreground/90",children:M.message})]})]})},M.id)})}),Xe.status!=="closed"&&e.jsx("div",{className:"border-t",children:e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx(Os,{placeholder:"Write your reply...",value:Y,onChange:M=>q(M.target.value),className:"resize-none min-h-[100px] text-sm","data-testid":"textarea-portal-reply"}),e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[e.jsx(_s,{className:"w-3 h-3"}),"Our team will be notified"]}),e.jsxs(z,{onClick:()=>os.mutate({ticketId:E,message:Y}),disabled:!Y.trim()||os.isPending,"data-testid":"button-portal-send-reply",children:[os.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ms,{className:"w-4 h-4 mr-2"}),"Send Reply"]})]})]})}),Xe.status==="resolved"&&e.jsx("div",{className:"border-t p-5 bg-emerald-500/5",children:e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400",children:[e.jsx(Rn,{className:"w-4 h-4 shrink-0"}),e.jsx("p",{className:"text-sm font-medium",children:"This ticket has been resolved"})]})}),Xe.status==="closed"&&e.jsx("div",{className:"border-t p-5 bg-muted/30",children:e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(kt,{className:"w-4 h-4 shrink-0"}),e.jsx("p",{className:"text-sm",children:"This ticket is closed. Open a new ticket if you need further help."})]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:wt>0?`${wt} active ticket${wt!==1?"s":""}`:"Get help from our team"})]}),e.jsxs(z,{onClick:()=>W(!0),"data-testid":"button-new-ticket",children:[e.jsx(as,{className:"w-4 h-4 mr-1.5"}),"New Ticket"]})]}),(Ve||[]).length>0?e.jsx("div",{className:"space-y-2",children:(Ve||[]).map(M=>{const pe=M.status==="open"?"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20":M.status==="in_progress"?"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20":M.status==="resolved"?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20":"bg-muted text-muted-foreground border-muted",Ye=M.status==="open"?e.jsx(xi,{className:"w-3.5 h-3.5"}):M.status==="in_progress"?e.jsx(Jt,{className:"w-3.5 h-3.5"}):M.status==="resolved"?e.jsx(Rn,{className:"w-3.5 h-3.5"}):e.jsx(kt,{className:"w-3.5 h-3.5"});return e.jsx(de,{className:"hover-elevate cursor-pointer",onClick:()=>G(M.id),"data-testid":`button-portal-ticket-${M.id}`,children:e.jsxs("div",{className:"p-4 flex items-start gap-3.5",children:[e.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-full border shrink-0 ${pe}`,children:Ye}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold truncate",children:M.subject}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-mono",children:M.ticketNumber}),e.jsx("span",{className:"opacity-30",children:"|"}),e.jsx("span",{children:Ps(M.createdAt)})]})]}),e.jsx(Ce,{variant:"secondary",className:`text-xs shrink-0 border ${pe}`,children:M.status.replace("_"," ")})]})},M.id)})}):e.jsxs(de,{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-muted mb-4",children:e.jsx(Yi,{className:"w-7 h-7 text-muted-foreground"})}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"No support tickets yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Need help? We're here for you."}),e.jsxs(z,{onClick:()=>W(!0),"data-testid":"button-new-ticket-empty",children:[e.jsx(as,{className:"w-4 h-4 mr-1.5"}),"Create Your First Ticket"]})]})]}),e.jsx(Lt,{open:re,onOpenChange:W,children:e.jsxs(Et,{className:"sm:max-w-lg",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-2",children:[e.jsx(Yi,{className:"w-5 h-5 text-muted-foreground"}),"How can we help?"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{htmlFor:"ticket-subject",className:"text-xs font-medium",children:"Subject"}),e.jsx(Fe,{id:"ticket-subject",placeholder:"Brief description of your issue",value:me,onChange:M=>I(M.target.value),"data-testid":"input-ticket-subject"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{className:"text-xs font-medium",children:"Category"}),e.jsxs(_t,{value:Q,onValueChange:ne,children:[e.jsx(St,{"data-testid":"select-ticket-category",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"general",children:"General"}),e.jsx(Pe,{value:"billing",children:"Billing"}),e.jsx(Pe,{value:"technical",children:"Technical"}),e.jsx(Pe,{value:"feature_request",children:"Feature Request"}),e.jsx(Pe,{value:"bug",children:"Bug Report"})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{className:"text-xs font-medium",children:"Priority"}),e.jsxs(_t,{value:F,onValueChange:C,children:[e.jsx(St,{"data-testid":"select-ticket-priority",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"low",children:"Low"}),e.jsx(Pe,{value:"medium",children:"Medium"}),e.jsx(Pe,{value:"high",children:"High"}),e.jsx(Pe,{value:"urgent",children:"Urgent"})]})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{htmlFor:"ticket-message",className:"text-xs font-medium",children:"Describe your issue"}),e.jsx(Os,{id:"ticket-message",placeholder:"Please provide as much detail as possible so we can help you quickly...",value:X,onChange:M=>$(M.target.value),className:"resize-none min-h-[140px] text-sm","data-testid":"textarea-ticket-message"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[e.jsx(z,{variant:"ghost",onClick:()=>W(!1),"data-testid":"button-cancel-ticket",children:"Cancel"}),e.jsxs(z,{onClick:()=>is.mutate({subject:me,message:X,category:Q,priority:F}),disabled:!me.trim()||!X.trim()||is.isPending,"data-testid":"button-submit-ticket",children:[is.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ms,{className:"w-4 h-4 mr-2"}),"Submit Ticket"]})]})]})]})})]}),H==="servers"&&e.jsx(pR,{token:s.token,servers:Vs||[],serversLoading:fs}),H==="help"&&e.jsx(xR,{articles:bs||[]}),H==="backups"&&e.jsxs("div",{className:"space-y-6","data-testid":"section-backups",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:e.jsx(Zi,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold","data-testid":"text-backups-title",children:"Code Backups"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your project code is backed up to your GitHub account"})]})]}),Ee&&e.jsx(de,{className:"p-3 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 border-emerald-200 dark:border-emerald-800","data-testid":"card-backup-pricing",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center shrink-0",children:e.jsx(Ln,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-emerald-900 dark:text-emerald-200",children:["$",(Ee.rateCents/100).toFixed(2)," per ",Ee.unitLabel]}),e.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-400",children:"Each backup is automatically added to your project billing and will appear on your next invoice."})]})]})}),!ye||ye.length===0?e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(Gi,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"No Backups Configured Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect your GitHub account to enable automatic code backups for your projects."}),e.jsxs(z,{onClick:()=>window.location.href=`/api/portal/${s.token}/github/connect`,className:"bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-900 hover:to-black","data-testid":"button-connect-github",children:[e.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Connect GitHub"]}),e.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-muted/50 text-left max-w-md mx-auto",children:[e.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(EC,{className:"w-4 h-4 text-muted-foreground"}),"Don't have a GitHub account?"]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"GitHub is a free platform where your project code is securely stored. You'll need an account to enable backups."}),e.jsxs("a",{href:"https://github.com/signup",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs font-medium text-primary hover:underline","data-testid":"link-github-signup",children:["Create a free GitHub account",e.jsx(Ws,{className:"w-3 h-3"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:`Once you've signed up, come back here and click "Connect GitHub" above  you'll be redirected to authorize the connection and then brought right back.`})]})]}):e.jsxs("div",{className:"space-y-4",children:[ye.map(M=>e.jsxs(de,{className:"overflow-hidden","data-testid":`card-backup-${M.id}`,children:[e.jsx("div",{className:"p-4 border-b bg-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Zi,{className:"w-5 h-5 text-violet-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:M.projectName}),M.githubRepo&&e.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:M.githubRepo})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[M.isConnected?e.jsxs(Ce,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",children:[e.jsx(Gi,{className:"w-3 h-3 mr-1"}),M.githubUsername]}):e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>window.location.href=`/api/portal/${s.token}/github/connect`,"data-testid":`button-connect-github-${M.id}`,children:[e.jsx(Gi,{className:"w-3 h-3 mr-1"}),"Connect"]}),M.autopilotEnabled&&e.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[e.jsx(xr,{className:"w-3 h-3 mr-1 text-amber-500"}),"Autopilot"]})]})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[M.lastPushAt&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Jt,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:["Last backup: ",new Date(M.lastPushAt).toLocaleString()]})]}),M.recentLogs&&M.recentLogs.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Recent Backups"}),M.recentLogs.map(pe=>e.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 rounded-md bg-muted/50 text-xs","data-testid":`log-${pe.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[pe.status==="success"?e.jsx(Rn,{className:"w-3.5 h-3.5 text-emerald-500"}):pe.status==="failed"?e.jsx(Qn,{className:"w-3.5 h-3.5 text-red-500"}):e.jsx(Je,{className:"w-3.5 h-3.5 text-amber-500 animate-spin"}),e.jsx("span",{children:pe.commitMessage||"Backup"}),pe.triggeredBy==="autopilot"&&e.jsx("span",{title:"Autopilot",children:e.jsx(xr,{className:"w-3 h-3 text-amber-500"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[pe.status==="success"&&Ee&&e.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium","data-testid":`text-backup-cost-${pe.id}`,children:["$",(Ee.rateCents/100).toFixed(2)]}),e.jsx("span",{children:new Date(pe.createdAt).toLocaleString()}),pe.commitSha&&e.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded font-mono",children:pe.commitSha.substring(0,7)})]})]},pe.id))]}):e.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"No backups yet"})]})]},M.id)),ye.every(M=>M.isConnected)&&e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Your admin manages backup schedules and pushes. Contact support if you need to update your GitHub connection."})]})]})]})]}),e.jsx(Lt,{open:P,onOpenChange:R,children:e.jsxs(Et,{className:"max-w-md",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"text-destructive flex items-center gap-2",children:[e.jsx(ly,{className:"w-5 h-5"}),"Delete Your Account"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"This will permanently delete your account and all associated data including projects, invoices, and support tickets. This action cannot be undone."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"If you have outstanding invoices, you must settle them before deleting your account."}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx($e,{className:"text-xs font-medium",children:'Type "DELETE" to confirm'}),e.jsx(Fe,{value:T,onChange:M=>O(M.target.value),placeholder:"DELETE","data-testid":"input-delete-confirm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>R(!1),"data-testid":"button-cancel-delete",children:"Cancel"}),e.jsxs(z,{variant:"destructive",className:"flex-1",disabled:T!=="DELETE"||Ss.isPending,onClick:()=>Ss.mutate(),"data-testid":"button-confirm-delete",children:[Ss.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Delete My Account"]})]})]})]})})]})}const vR="/assets/hero-ai-Dt0dd4gc.png",yR="/assets/service-websites-MnMRVx20.png",bR="/assets/service-forums-DKY4OCkT.png",wR="/assets/service-blogs-BtTjjog4.png",jR="/assets/service-backends-B-t9cV5Y.png",NR="/assets/service-support-B6dWekyT.png",kR="/assets/service-docker-CeJT6xPL.png",SR="/assets/service-opensource-D_F4gzuT.png",CR="/assets/service-accounts-CIh6rg08.png",ER="/assets/service-billing-BEa03eay.png",TR=[{title:"Custom Websites",description:"Stunning, responsive websites built with cutting-edge AI technology. From landing pages to full e-commerce platforms.",image:yR,icon:na},{title:"Community Forums",description:"Engage your audience with powerful, AI-moderated community forums that drive retention and loyalty.",image:bR,icon:kt},{title:"Blog Platforms",description:"Content-rich blogs with AI writing assistance, SEO optimization, and beautiful, engaging layouts.",image:wR,icon:Lu},{title:"Backend Systems",description:"Robust, scalable backend infrastructure with APIs, databases, and integrations built for performance.",image:jR,icon:bw},{title:"Support Portals",description:"Customer support portals with AI chatbots, ticket systems, and real-time communication channels.",image:NR,icon:MC},{title:"Docker Solutions",description:"Containerized deployments with Docker for scalable, portable, and consistent application infrastructure across any environment.",image:kR,icon:PC},{title:"Open Source App Hosting",description:"We host and manage popular open source applications on dedicated servers for you  fully configured, maintained, and ready to use.",image:SR,icon:LC},{title:"My Account Sections",description:"Polished user account management interfaces with profile settings, preferences, security options, and activity history.",image:CR,icon:Rw},{title:"Billing Dashboards",description:"Comprehensive billing and financial dashboards with invoice tracking, payment processing, and real-time revenue analytics.",image:ER,icon:Aa}],AR=[{icon:Ic,title:"AI-First Approach",description:"Every solution is powered by the latest AI models, delivering smarter, faster, and more intuitive experiences."},{icon:dp,title:"Rapid Delivery",description:"Get your project live in days, not months. Our AI-accelerated workflow cuts development time dramatically."},{icon:ta,title:"Enterprise Security",description:"Bank-grade security built into every project. Your data and your customers' data stays protected."},{icon:Jt,title:"24/7 Support",description:"Round-the-clock support with real humans and AI assistants to keep your business running smoothly."}],PR=[{value:"150+",label:"Projects Delivered"},{value:"99.9%",label:"Uptime Guaranteed"},{value:"48hr",label:"Average Turnaround"},{value:"5.0",label:"Client Rating",icon:mi}],RR=[{name:"Sarah Chen",role:"CEO, TechFlow",quote:"They turned our vision into reality in under two weeks. The AI-powered features they built into our platform have tripled our user engagement.",rating:5},{name:"Marcus Rivera",role:"Founder, GreenLeaf Co.",quote:"Incredible attention to detail and communication throughout the entire project. Our new site is fast, beautiful, and converts like crazy.",rating:5},{name:"Emily Nakamura",role:"Director of Ops, Skyline Media",quote:"We needed a complex billing dashboard and support portal fast. They delivered both ahead of schedule and the quality blew us away.",rating:5}],Jy=[{step:1,icon:_s,title:"Contact Us",description:"Send us an email describing your project and goals. We'll review everything and get back to you quickly."},{step:2,icon:Sw,title:"Design",description:"We craft a custom design and architecture tailored specifically to your needs and brand."},{step:3,icon:r3,title:"Build",description:"Our AI-accelerated development process brings your project to life with precision and speed."},{step:4,icon:VC,title:"Launch",description:"We deploy, test, and hand over your polished product with full documentation and support."}];function _R(){const[s,t]=x.useState(""),[n,a]=x.useState(""),[o,l]=x.useState(!1),{toast:d}=gt(),u=Re({mutationFn:async()=>{const[m,...f]=n.trim().split(" "),y=f.join(" ")||void 0;return(await Ae("POST","/api/newsletter/subscribe",{email:s.trim(),firstName:m||void 0,lastName:y})).json()},onSuccess:()=>{l(!0),d({title:"You're in!",description:"Thanks for subscribing. We'll keep you posted."})},onError:()=>{d({title:"Couldn't subscribe",description:"Please try again or contact us directly.",variant:"destructive"})}});return o?e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2","data-testid":"text-newsletter-success",children:[e.jsx(ys,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm text-white/60",children:"You're subscribed! Thanks for joining."})]}):e.jsxs("form",{onSubmit:m=>{m.preventDefault(),s.trim()&&u.mutate()},className:"flex flex-col sm:flex-row gap-2","data-testid":"form-newsletter",children:[e.jsx(Fe,{type:"text",placeholder:"Your name",value:n,onChange:m=>a(m.target.value),className:"bg-white/5 border-white/10 text-white placeholder:text-white/30 text-sm flex-1 sm:max-w-[160px]","data-testid":"input-newsletter-name"}),e.jsx(Fe,{type:"email",placeholder:"you@example.com",value:s,onChange:m=>t(m.target.value),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-white/30 text-sm flex-1","data-testid":"input-newsletter-email"}),e.jsx(z,{type:"submit",disabled:u.isPending,className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white text-sm font-medium shrink-0","data-testid":"button-newsletter-subscribe",children:u.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(_s,{className:"w-3.5 h-3.5 mr-1.5"}),"Subscribe"]})})]})}function OR(){const[s,t]=x.useState(!1),[n,a]=x.useState(!1),[o,l]=x.useState(""),[d,u]=x.useState(""),[m,f]=x.useState(""),[y,v]=x.useState(""),[g,N]=x.useState(""),[S,b]=x.useState(""),[k,P]=x.useState(null),[R,T]=x.useState({}),[O,H]=x.useState(0),[se,K]=x.useState(""),[re,W]=x.useState(!1),[me,I]=x.useState(!1),[X,$]=x.useState(!1),{toast:Q}=gt(),{isLoading:ne,isAuthenticated:F}=jN();x.useEffect(()=>(document.title="AI Web Design Agency  Custom AI-Powered Websites & Web Development | AI Powered Sites",()=>{document.title="AI Powered Sites"}),[]);const C=[{pct:4,label:"Connecting to website..."},{pct:9,label:"Fetching page content..."},{pct:14,label:"Analyzing page structure..."},{pct:19,label:"Checking title tags & meta data..."},{pct:24,label:"Scanning structured data (JSON-LD)..."},{pct:29,label:"Evaluating heading hierarchy..."},{pct:34,label:"Measuring server response time..."},{pct:39,label:"Checking image optimization..."},{pct:44,label:"Testing mobile responsiveness..."},{pct:49,label:"Inspecting security headers..."},{pct:54,label:"Auditing accessibility (ARIA, alt text)..."},{pct:59,label:"Reviewing Open Graph & social tags..."},{pct:64,label:"Analyzing content quality & readability..."},{pct:69,label:"Running keyword analysis..."},{pct:74,label:"Extracting keyword density..."},{pct:79,label:"Generating keyword recommendations..."},{pct:84,label:"Analyzing backlink profile..."},{pct:88,label:"Evaluating link structure..."},{pct:92,label:"Compiling priority recommendations..."},{pct:95,label:"Building your PDF report..."},{pct:98,label:"Finalizing results..."}],E=Re({mutationFn:async()=>{W(!0),H(0),K("Initializing audit..."),P(null);const _=fetch("/api/audit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:g})});let D=0;const ue=8e3/C.length,ke=new Promise(Ee=>{const De=()=>{D<C.length?(H(C[D].pct),K(C[D].label),D++,setTimeout(De,ue+Math.random()*200)):Ee()};setTimeout(De,300)}),[ye]=await Promise.all([_,ke]);if(H(100),K("Audit complete!"),!ye.ok){const Ee=await ye.json();throw new Error(Ee.message||"Failed to audit website")}return await new Promise(Ee=>setTimeout(Ee,600)),ye.json()},onSuccess:_=>{W(!1),P(_),I(!0),setTimeout(()=>{document.getElementById("audit-results")?.scrollIntoView({behavior:"smooth"})},300)},onError:_=>{W(!1),H(0),Q({title:"Audit failed",description:_.message,variant:"destructive"})}}),G=async()=>{if(!(!S.trim()||!k)){$(!0);try{const _=await fetch("/api/audit/send-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S,auditData:k})});if(!_.ok){const D=await _.json().catch(()=>({message:"Failed to send report"}));throw new Error(D.message||"Failed to send report")}Q({title:"Report sent!",description:"Check your email for the full PDF report."}),I(!1)}catch(_){Q({title:"Send failed",description:_.message||"Could not send the report. You can still download it below.",variant:"destructive"})}finally{$(!1)}}},Y=()=>{if(!k?.pdfBase64)return;const _=atob(k.pdfBase64),D=new Array(_.length);for(let Ee=0;Ee<_.length;Ee++)D[Ee]=_.charCodeAt(Ee);const oe=new Uint8Array(D),ue=new Blob([oe],{type:"application/pdf"}),ke=URL.createObjectURL(ue),ye=document.createElement("a");ye.href=ke,ye.download="website-audit-report.pdf",ye.click(),URL.revokeObjectURL(ke)},q=_=>{T(D=>({...D,[_]:!D[_]}))},ee=_=>{const oe={search:nn,zap:xr,smartphone:JC,shield:ta,eye:El,share2:YC,fileText:Zt}[_]||Vv;return e.jsx(oe,{className:"w-4 h-4"})},xe=_=>_==="pass"?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-emerald-500/15 text-emerald-400 border border-emerald-500/20",children:[e.jsx(ys,{className:"w-3 h-3"})," Pass"]}):_==="warning"?e.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-yellow-500/15 text-yellow-400 border border-yellow-500/20",children:"! Warning"}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-red-500/15 text-red-400 border border-red-500/20",children:[e.jsx(vr,{className:"w-3 h-3"})," Fail"]}),U=Re({mutationFn:async()=>{const _=await fetch("/api/public/conversations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:d,subject:m,message:y})});if(!_.ok)throw new Error("Failed to start conversation");return _.json()},onSuccess:_=>{a(!1),l(""),u(""),f(""),v(""),window.location.href=`/conversation/${_.accessToken}`},onError:()=>{Q({title:"Something went wrong",description:"Please try again.",variant:"destructive"})}});return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white overflow-x-hidden",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.12) 1px, transparent 1px)",backgroundSize:"24px 24px"},children:[e.jsxs("nav",{"aria-label":"Main navigation",className:"fixed top-0 left-0 right-0 z-50 border-b border-white/5",style:{backdropFilter:"blur(20px)",backgroundColor:"rgba(10,10,15,0.8)"},children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 h-14 sm:h-16 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("img",{src:"/images/logo.png",alt:"AI Powered Sites",className:"w-8 h-8 rounded-md object-cover"}),e.jsx("span",{className:"text-base font-semibold tracking-tight whitespace-nowrap","data-testid":"text-brand-name",children:"AI Powered Sites"})]}),e.jsxs("div",{className:"hidden lg:flex items-center gap-4 xl:gap-6",children:[e.jsxs("a",{href:"#hero",className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-home",children:[e.jsx(Jv,{className:"w-3.5 h-3.5"}),"Home"]}),e.jsxs("a",{href:"#services",className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-services",children:[e.jsx(Lu,{className:"w-3.5 h-3.5"}),"Services"]}),e.jsxs("a",{href:"#process",className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-process",children:[e.jsx(xr,{className:"w-3.5 h-3.5"}),"Process"]}),e.jsxs("a",{href:"#features",className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-features",children:[e.jsx(ta,{className:"w-3.5 h-3.5"}),"Why Us"]}),e.jsxs("a",{href:"#testimonials",className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-testimonials",children:[e.jsx(Jd,{className:"w-3.5 h-3.5"}),"Reviews"]}),e.jsxs("a",{href:"#pricing",className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-pricing",children:[e.jsx(Ln,{className:"w-3.5 h-3.5"}),"Pricing"]}),e.jsxs("a",{href:"#api",className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-api",children:[e.jsx(ay,{className:"w-3.5 h-3.5"}),"API"]}),e.jsx(Pn,{href:"/questions",children:e.jsxs("span",{className:"text-[13px] font-medium text-white hover:text-white/80 transition-colors whitespace-nowrap flex items-center gap-1.5 cursor-pointer",style:{fontFamily:"Poppins, sans-serif"},"data-testid":"link-nav-qa",children:[e.jsx(kt,{className:"w-3.5 h-3.5"}),"Q&A"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(z,{onClick:()=>a(!0),size:"sm",className:"hidden sm:inline-flex bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white font-medium text-[13px]","data-testid":"button-nav-message",children:[e.jsx(kt,{className:"w-3.5 h-3.5 mr-1"}),"Message Us"]}),!ne&&F&&e.jsxs("div",{className:"hidden sm:flex items-center gap-1.5",children:[e.jsx(Pn,{href:"/admin",children:e.jsxs(z,{variant:"outline",size:"sm",className:"border-white/20 text-white bg-white/5 text-[13px]","data-testid":"button-nav-dashboard",children:[e.jsx(Ou,{className:"w-3.5 h-3.5 mr-1"}),"Dashboard"]})}),e.jsx("a",{href:"/api/logout",children:e.jsx(z,{variant:"ghost",size:"icon",className:"text-white/60","data-testid":"button-nav-logout",children:e.jsx(kw,{className:"w-4 h-4"})})})]}),e.jsx(z,{variant:"ghost",size:"icon",className:"lg:hidden text-white/70",onClick:()=>t(!s),"data-testid":"button-mobile-menu",children:s?e.jsx(vr,{className:"w-5 h-5"}):e.jsx(zC,{className:"w-5 h-5"})})]})]}),s&&e.jsxs("div",{className:"lg:hidden border-t border-white/5 px-4 py-4 space-y-1",style:{backgroundColor:"rgba(10,10,15,0.95)"},children:[e.jsxs("a",{href:"#hero",onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5","data-testid":"link-mobile-home",children:[e.jsx(Jv,{className:"w-4 h-4"}),"Home"]}),e.jsxs("a",{href:"#services",onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5","data-testid":"link-mobile-services",children:[e.jsx(Lu,{className:"w-4 h-4"}),"Services"]}),e.jsxs("a",{href:"#process",onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5","data-testid":"link-mobile-process",children:[e.jsx(xr,{className:"w-4 h-4"}),"Process"]}),e.jsxs("a",{href:"#features",onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5","data-testid":"link-mobile-features",children:[e.jsx(ta,{className:"w-4 h-4"}),"Why Us"]}),e.jsxs("a",{href:"#testimonials",onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5","data-testid":"link-mobile-testimonials",children:[e.jsx(Jd,{className:"w-4 h-4"}),"Reviews"]}),e.jsxs("a",{href:"#pricing",onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5","data-testid":"link-mobile-pricing",children:[e.jsx(Ln,{className:"w-4 h-4"}),"Pricing"]}),e.jsxs("a",{href:"#api",onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5","data-testid":"link-mobile-api",children:[e.jsx(ay,{className:"w-4 h-4"}),"API"]}),e.jsx(Pn,{href:"/questions",children:e.jsxs("span",{onClick:()=>t(!1),className:"flex items-center gap-2.5 px-3 py-2.5 rounded-md text-sm font-medium text-white/70 active:bg-white/5 cursor-pointer","data-testid":"link-mobile-qa",children:[e.jsx(kt,{className:"w-4 h-4"}),"Q&A"]})}),e.jsxs("div",{className:"pt-3 mt-2 border-t border-white/5 space-y-2",children:[e.jsxs(z,{onClick:()=>{a(!0),t(!1)},className:"w-full bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white font-medium","data-testid":"button-mobile-message",children:[e.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Message Us"]}),!ne&&F&&e.jsx(e.Fragment,{children:e.jsx(Pn,{href:"/admin",children:e.jsxs(z,{variant:"outline",className:"w-full border-white/20 text-white bg-white/5","data-testid":"button-mobile-dashboard",children:[e.jsx(Ou,{className:"w-4 h-4 mr-1.5"}),"Dashboard"]})})})]})]})]}),e.jsxs("main",{children:[e.jsxs("section",{id:"hero",className:"relative pt-14 sm:pt-16 min-h-[100svh] flex items-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:vR,alt:"AI-powered web design and development solutions by AI Powered Sites",className:"w-full h-full object-cover animate-hero-zoom","data-testid":"img-hero"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0a0a0f]/70 via-[#0a0a0f]/60 to-[#0a0a0f]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0a0a0f]/80 via-transparent to-[#0a0a0f]/40"}),e.jsxs("div",{className:"absolute inset-0 opacity-30",children:[e.jsx("div",{className:"absolute top-1/4 -left-1/4 w-[600px] h-[600px] rounded-full bg-blue-500/20 blur-[120px] animate-hero-glow-1"}),e.jsx("div",{className:"absolute bottom-1/4 -right-1/4 w-[500px] h-[500px] rounded-full bg-violet-500/20 blur-[120px] animate-hero-glow-2"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] rounded-full bg-purple-500/15 blur-[100px] animate-hero-glow-3"})]})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-24 md:py-32 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-3xl text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-6 sm:mb-8","data-testid":"badge-hero-tag",children:[e.jsx(Ic,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs sm:text-sm text-white/70",children:"AI-Powered Solutions"})]}),e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-bold leading-tight tracking-tight mb-4 sm:mb-6","data-testid":"text-hero-title",children:["AI Web Design Agency"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-violet-400 to-purple-400 bg-clip-text text-transparent",children:"Built For Your Business."})]}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl font-medium text-white/70 leading-relaxed mb-10 sm:mb-12 max-w-2xl mx-auto","data-testid":"text-hero-description",children:"Custom websites, apps, and portals  powered by AI, built for growth. No templates. No compromises."}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-8","data-testid":"audit-form",children:[e.jsx("p",{className:"text-sm font-medium text-white/70 mb-4 max-w-md mx-auto leading-relaxed",children:"Free instant website audit  SEO, speed, mobile, security & more with a detailed PDF report."}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-[1px] rounded-2xl bg-gradient-to-r from-blue-500/20 via-violet-500/15 to-purple-500/20 opacity-0 group-hover:opacity-100 transition-all duration-700"}),e.jsx("div",{className:"absolute -inset-[1px] rounded-2xl bg-gradient-to-b from-white/[0.08] to-white/[0.02]"}),e.jsx("div",{className:"relative bg-[#0c1121]/95 backdrop-blur-xl rounded-2xl border border-white/[0.06] shadow-[0_8px_40px_rgba(0,0,0,0.5),0_0_0_1px_rgba(255,255,255,0.03),inset_0_1px_0_rgba(255,255,255,0.04)]",children:e.jsxs("div",{className:"flex items-center h-[56px]",children:[e.jsxs("div",{className:"flex items-center gap-3 pl-5 pr-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500/15 to-violet-500/10 border border-white/[0.06] flex items-center justify-center shrink-0",children:e.jsx(na,{className:"w-4 h-4 text-blue-400"})}),e.jsx("input",{placeholder:"example.com",value:g,onChange:_=>N(_.target.value),onKeyDown:_=>{_.key==="Enter"&&g.trim()&&!E.isPending&&E.mutate()},className:"w-full bg-transparent text-white text-[15px] font-light tracking-wide placeholder:text-white/20 outline-none min-w-0","data-testid":"input-audit-url"})]}),e.jsx("button",{onClick:()=>E.mutate(),disabled:!g.trim()||E.isPending,className:"flex items-center justify-center gap-2 px-7 h-[40px] mx-2 bg-gradient-to-r from-blue-500 to-violet-500 text-white text-sm font-semibold rounded-xl transition-all duration-300 shrink-0 hover:from-blue-400 hover:to-violet-400 hover:shadow-[0_0_24px_rgba(99,102,241,0.4)] disabled:opacity-40 disabled:cursor-not-allowed","data-testid":"button-audit-submit",children:E.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(nn,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Audit"}),e.jsx(rl,{className:"w-3.5 h-3.5 sm:hidden"})]})})]})})]}),!re&&e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-5 gap-y-1.5 mt-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[11px] font-medium text-white/70",children:[e.jsx(ys,{className:"w-3 h-3 text-emerald-400"}),"SEO & Keywords"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-[11px] font-medium text-white/70",children:[e.jsx(ys,{className:"w-3 h-3 text-emerald-400"}),"Speed & Performance"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-[11px] font-medium text-white/70",children:[e.jsx(ys,{className:"w-3 h-3 text-emerald-400"}),"Mobile & Security"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-[11px] font-medium text-white/70",children:[e.jsx(ys,{className:"w-3 h-3 text-emerald-400"}),"Free PDF Report"]})]})]}),re&&e.jsx("div",{className:"max-w-2xl mx-auto mb-8 mt-4","data-testid":"audit-progress",children:e.jsx("div",{className:"relative p-[1px] rounded-xl bg-gradient-to-r from-blue-500/30 via-violet-500/30 to-blue-500/30",children:e.jsxs("div",{className:"bg-[#0a0f1e] rounded-xl px-6 py-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"}),e.jsx("span",{className:"text-sm text-white/70 font-medium",children:se})]}),e.jsxs("span",{className:"text-sm font-bold text-blue-400",children:[O,"%"]})]}),e.jsx("div",{className:"w-full h-2 rounded-full bg-white/[0.06] overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 via-violet-500 to-blue-400 transition-all duration-500 ease-out",style:{width:`${O}%`}})}),e.jsxs("div",{className:"mt-3 flex items-center justify-center gap-4 text-[11px] text-white/30",children:[e.jsx("span",{children:"7 categories"}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-white/20"}),e.jsx("span",{children:"50+ checks"}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-white/20"}),e.jsx("span",{children:"Full PDF report"})]})]})})}),e.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-center gap-3 sm:gap-4",children:e.jsxs(z,{size:"lg",onClick:()=>a(!0),className:"bg-white/5 border border-white/10 text-white text-sm font-medium rounded-full w-full sm:w-[200px] h-[44px]","data-testid":"button-hero-message",children:[e.jsx(kt,{className:"w-4 h-4 mr-2"}),"Send Us a Message"]})})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-[#0a0a0f] to-transparent"})]}),k&&e.jsx("section",{id:"audit-results",className:"relative py-12 sm:py-20 border-t border-white/5",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-4",children:[e.jsx(Vv,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-white/70",children:"Audit Results"})]}),e.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight mb-3","data-testid":"text-audit-results-title",children:["Your Website"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Score"})]}),e.jsx("p",{className:"text-white/40 text-sm max-w-lg mx-auto truncate",children:k.url})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"sm:col-span-1 flex flex-col items-center justify-center p-6 rounded-xl border border-white/5 bg-white/[0.02]",children:[e.jsx("div",{className:`w-20 h-20 rounded-xl flex items-center justify-center text-3xl font-bold text-white mb-2 ${k.overallScore>=75?"bg-emerald-500/20 border border-emerald-500/30":k.overallScore>=50?"bg-yellow-500/20 border border-yellow-500/30":"bg-red-500/20 border border-red-500/30"}`,"data-testid":"text-audit-grade",children:k.grade}),e.jsxs("div",{className:"text-2xl font-bold text-white","data-testid":"text-audit-score",children:[k.overallScore,e.jsx("span",{className:"text-sm text-white/40",children:"/100"})]}),k.gradeLabel&&e.jsx("div",{className:`text-xs font-medium mt-1 ${k.overallScore>=75?"text-emerald-400":k.overallScore>=50?"text-yellow-400":"text-red-400"}`,children:k.gradeLabel})]}),e.jsxs("div",{className:"sm:col-span-2 p-5 rounded-xl border border-white/5 bg-white/[0.02]",children:[e.jsx("p",{className:"text-sm text-white/60 leading-relaxed mb-3","data-testid":"text-audit-summary",children:k.summary}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs(z,{onClick:Y,size:"sm",className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white text-xs","data-testid":"button-download-pdf",children:[e.jsx(Gv,{className:"w-3.5 h-3.5 mr-1.5"}),"Download PDF Report"]}),e.jsxs(z,{onClick:()=>I(!0),size:"sm",variant:"outline",className:"border-white/15 text-white/80 bg-white/5 text-xs","data-testid":"button-email-report",children:[e.jsx(_s,{className:"w-3.5 h-3.5 mr-1.5"}),"Email Report"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-2 mb-8",children:k.categories.map(_=>{const D=Math.round(_.score/_.maxScore*100);return e.jsxs("button",{onClick:()=>q(_.name),className:`p-3 rounded-lg border text-center transition-all ${R[_.name]?"border-blue-500/40 bg-blue-500/10":"border-white/5 bg-white/[0.02] hover:bg-white/[0.04]"}`,"data-testid":`button-audit-category-${_.name.toLowerCase().replace(/\s/g,"-")}`,children:[e.jsxs("div",{className:`text-lg font-bold mb-0.5 ${D>=75?"text-emerald-400":D>=50?"text-yellow-400":"text-red-400"}`,children:[D,"%"]}),e.jsx("div",{className:"text-[10px] text-white/50 leading-tight",children:_.name})]},_.name)})}),e.jsx("div",{className:"space-y-3",children:k.categories.map(_=>{const D=Math.round(_.score/_.maxScore*100),oe=R[_.name]!==!1;return e.jsxs("div",{className:"rounded-xl border border-white/5 bg-white/[0.02] overflow-hidden","data-testid":`audit-category-${_.name.toLowerCase().replace(/\s/g,"-")}`,children:[e.jsxs("button",{onClick:()=>q(_.name),className:"w-full flex items-center justify-between p-4 sm:p-5 hover:bg-white/[0.02] transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${D>=75?"bg-emerald-500/15 text-emerald-400":D>=50?"bg-yellow-500/15 text-yellow-400":"bg-red-500/15 text-red-400"}`,children:ee(_.icon)}),e.jsx("span",{className:"font-medium text-sm text-white/90",children:_.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 sm:w-32 h-1.5 rounded-full bg-white/5 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${D>=75?"bg-emerald-400":D>=50?"bg-yellow-400":"bg-red-400"}`,style:{width:`${D}%`}})}),e.jsxs("span",{className:`text-xs font-semibold min-w-[32px] text-right ${D>=75?"text-emerald-400":D>=50?"text-yellow-400":"text-red-400"}`,children:[D,"%"]})]}),oe?e.jsx(Cl,{className:"w-4 h-4 text-white/30"}):e.jsx(La,{className:"w-4 h-4 text-white/30"})]})]}),oe&&e.jsx("div",{className:"px-4 sm:px-5 pb-4 sm:pb-5 space-y-2.5 border-t border-white/5 pt-3",children:_.items.map((ue,ke)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-3 p-3 rounded-lg bg-white/[0.02]",children:[e.jsx("div",{className:"shrink-0",children:xe(ue.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-medium text-white/80 mb-0.5",children:ue.label}),e.jsx("div",{className:"text-[11px] text-white/40 break-words",children:ue.detail}),ue.recommendation&&ue.status!=="pass"&&e.jsxs("div",{className:"text-[11px] text-blue-400/70 mt-1 flex items-start gap-1",children:[e.jsx(rl,{className:"w-3 h-3 mt-0.5 shrink-0"}),e.jsx("span",{children:ue.recommendation})]})]})]},ke))})]},_.name)})}),e.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-blue-500/20","data-testid":"audit-cta-banner",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/20 via-violet-600/15 to-blue-600/10"}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-violet-500"}),e.jsxs("div",{className:"relative p-6 sm:p-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/20 border border-blue-500/30 mb-4",children:[e.jsx(vi,{className:"w-3.5 h-3.5 text-blue-300"}),e.jsx("span",{className:"text-xs font-semibold text-blue-300 tracking-wide uppercase",children:"Free Consultation"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Get Your Free Website Strategy Session"}),e.jsx("p",{className:"text-white/50 text-sm sm:text-base max-w-xl mx-auto mb-5 leading-relaxed",children:k.overallScore<60?"Your site is losing visitors and revenue. We'll show you exactly how to fix these issues and start growing your business online  at no cost.":k.overallScore<80?"Your site has real potential. Let us show you the quick wins that could boost your traffic by 50% or more  completely free.":"Your site is performing well! Let's fine-tune it to unlock even more traffic and conversions  on us."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-400",children:[e.jsx(ys,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"100% free, no strings attached"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-400",children:[e.jsx(ys,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Custom growth plan for your business"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-400",children:[e.jsx(ys,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"See results within days"})]})]}),e.jsxs(z,{onClick:()=>a(!0),size:"lg",className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white font-semibold px-8 shadow-[0_0_24px_rgba(99,102,241,0.4)] hover:shadow-[0_0_32px_rgba(99,102,241,0.6)] hover:brightness-110 transition-all","data-testid":"button-audit-free-consult",children:[e.jsx(dp,{className:"w-4 h-4 mr-2"}),"Claim Your Free Consultation"]}),e.jsx("p",{className:"text-[11px] text-white/25 mt-3",children:"Limited availability  Respond within 24 hours"})]})]}),k.topRecommendations?.length>0&&e.jsxs("div",{className:"mt-6 p-5 sm:p-6 rounded-xl border border-white/5 bg-white/[0.02]",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white/90 mb-4 flex items-center gap-2",children:[e.jsx(dp,{className:"w-4 h-4 text-blue-400"}),"Top Recommendations"]}),e.jsx("div",{className:"space-y-2.5",children:k.topRecommendations.slice(0,6).map((_,D)=>e.jsxs("div",{className:"flex items-start gap-2.5 text-xs text-white/60 leading-relaxed",children:[e.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-blue-500/15 text-blue-400 flex items-center justify-center text-[10px] font-bold mt-0.5",children:D+1}),e.jsx("span",{children:_})]},D))})]})]})}),e.jsx("section",{id:"stats",className:"relative py-12 sm:py-20 border-y border-white/5",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:PR.map(_=>e.jsxs("div",{className:"text-center","data-testid":`stat-${_.label.toLowerCase().replace(/\s/g,"-")}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-1.5 mb-1",children:[e.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:_.value}),_.icon&&e.jsx(mi,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})]}),e.jsx("span",{className:"text-sm text-white/40",children:_.label})]},_.label))})})}),e.jsx("section",{id:"services",className:"relative py-16 sm:py-24 md:py-32",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-4 sm:mb-6",children:[e.jsx(vi,{className:"w-4 h-4 text-violet-400"}),e.jsx("span",{className:"text-sm text-white/70",children:"What We Build"})]}),e.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight mb-3 sm:mb-4","data-testid":"text-services-title",children:["Custom Web Development"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Services"})]}),e.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto",children:"From concept to launch, our AI-driven web design delivers responsive, mobile-first solutions that drive results. Every project is crafted with AI precision and human creativity."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:TR.map(_=>e.jsxs("div",{className:"group relative rounded-md overflow-hidden border border-white/5 bg-white/[0.02] hover:border-white/10 transition-colors","data-testid":`card-service-${_.title.toLowerCase().replace(/\s/g,"-")}`,children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:_.image,alt:`${_.title}  AI Powered Sites service`,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0f] via-[#0a0a0f]/40 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2.5",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-gradient-to-br from-blue-500/20 to-violet-600/20 border border-white/10",style:{backdropFilter:"blur(8px)"},children:e.jsx(_.icon,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:_.title})]})]}),e.jsx("div",{className:"p-5",children:e.jsx("p",{className:"text-white/50 text-sm leading-relaxed",children:_.description})})]},_.title))})]})}),e.jsx("section",{id:"process",className:"relative py-16 sm:py-24 md:py-32 border-t border-white/5",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-4 sm:mb-6",children:[e.jsx(xr,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-white/70",children:"Our Process"})]}),e.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight mb-3 sm:mb-4","data-testid":"text-process-title",children:["From Idea to"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Launch"})]}),e.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto",children:"A simple, transparent process that keeps you in control every step of the way."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6",children:Jy.map((_,D)=>e.jsxs("div",{className:"relative text-center p-4 sm:p-6 rounded-md border border-white/5 bg-white/[0.02]","data-testid":`card-process-${_.step}`,children:[D<Jy.length-1&&e.jsx("div",{className:"hidden md:block absolute top-1/2 -right-3 z-10",children:e.jsx(rl,{className:"w-6 h-6 text-white/10"})}),e.jsx("div",{className:"flex items-center justify-center w-11 h-11 sm:w-14 sm:h-14 rounded-md bg-gradient-to-br from-blue-500/10 to-violet-600/10 border border-white/10 mx-auto mb-3 sm:mb-4",children:e.jsx(_.icon,{className:"w-5 h-5 sm:w-7 sm:h-7 text-blue-400"})}),e.jsxs("div",{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest text-violet-400 mb-1.5 sm:mb-2",children:["Step ",_.step]}),e.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1.5 sm:mb-2",children:_.title}),e.jsx("p",{className:"text-white/50 text-xs sm:text-sm leading-relaxed",children:_.description})]},_.title))})]})}),e.jsxs("section",{id:"features",className:"relative py-16 sm:py-24 md:py-32 border-t border-white/5",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/[0.02] to-violet-500/[0.02]"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-4 sm:mb-6",children:[e.jsx(ys,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-white/70",children:"Why Choose Us"})]}),e.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight mb-3 sm:mb-4","data-testid":"text-features-title",children:["Why Hire Our"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"AI Web Design Agency"})]}),e.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto",children:"We don't just build things. We deliver affordable custom web development with AI-first engineering that evolves with your business."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:AR.map(_=>e.jsxs("div",{className:"flex gap-4 sm:gap-5 p-4 sm:p-6 rounded-md border border-white/5 bg-white/[0.02] hover:border-white/10 transition-colors","data-testid":`card-feature-${_.title.toLowerCase().replace(/\s/g,"-")}`,children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-12 h-12 rounded-md bg-gradient-to-br from-blue-500/10 to-violet-600/10 border border-white/10",children:e.jsx(_.icon,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1.5",children:_.title}),e.jsx("p",{className:"text-white/50 text-sm leading-relaxed",children:_.description})]})]},_.title))})]})]}),e.jsx("section",{id:"testimonials",className:"relative py-16 sm:py-24 md:py-32 border-t border-white/5",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-4 sm:mb-6",children:[e.jsx(Jd,{className:"w-4 h-4 text-violet-400"}),e.jsx("span",{className:"text-sm text-white/70",children:"Client Love"})]}),e.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight mb-3 sm:mb-4","data-testid":"text-testimonials-title",children:["Trusted by"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Growing Businesses"})]}),e.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto",children:"Don't just take our word for it. Here's what our clients have to say."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:RR.map(_=>e.jsxs("div",{className:"relative p-4 sm:p-6 rounded-md border border-white/5 bg-white/[0.02]","data-testid":`card-testimonial-${_.name.toLowerCase().replace(/\s/g,"-")}`,children:[e.jsx(Jd,{className:"w-8 h-8 text-violet-400/20 mb-4"}),e.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-6",children:_.quote}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:Array.from({length:_.rating}).map((D,oe)=>e.jsx(mi,{className:"w-3.5 h-3.5 text-yellow-400 fill-yellow-400"},oe))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:_.name}),e.jsx("p",{className:"text-xs text-white/40",children:_.role})]})]},_.name))})]})}),e.jsxs("section",{id:"pricing",className:"relative py-16 sm:py-28 md:py-36 border-t border-white/5 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-500/[0.02] via-transparent to-blue-500/[0.03]"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[600px] rounded-full bg-emerald-500/[0.04] blur-[120px]"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-[500px] h-[500px] rounded-full bg-blue-500/[0.05] blur-[100px]"}),e.jsx("div",{className:"absolute top-1/3 right-0 w-[400px] h-[400px] rounded-full bg-violet-500/[0.04] blur-[100px]"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-14 sm:mb-20",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-emerald-500/[0.08] border border-emerald-500/20 mb-6 sm:mb-8",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-emerald-300/90",children:"Simple, Honest Pricing"})]}),e.jsxs("h2",{className:"text-[1.75rem] leading-[1.2] sm:text-4xl md:text-6xl font-bold tracking-tight mb-4 sm:mb-6","data-testid":"text-pricing-title",children:["Pay As You Go."," ",e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent",children:"Only Pay for Results."})]}),e.jsxs("p",{className:"text-white/50 text-sm sm:text-base md:text-xl max-w-2xl mx-auto leading-relaxed px-2 sm:px-0",children:["No subscriptions. No retainers. No surprise fees.",e.jsx("br",{className:"hidden sm:block"}),"Every dollar goes toward deliverables you can see."]})]}),e.jsx("div",{className:"max-w-6xl mx-auto mb-16 sm:mb-20",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-10 items-stretch",children:[e.jsxs("div",{className:"relative space-y-4 sm:space-y-5","data-testid":"card-pricing-comparison",children:[e.jsxs("div",{className:"relative p-5 sm:p-8 rounded-md border border-red-500/10 bg-red-500/[0.02] opacity-50 group",children:[e.jsxs("div",{className:"flex items-start gap-3.5 sm:gap-5",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-md bg-red-500/10 border border-red-500/15 shrink-0",children:e.jsx(t3,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400/80"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-red-300/80 mb-1.5 sm:mb-2",children:"The Old Way"}),e.jsx("p",{className:"text-sm text-white/35 leading-relaxed",children:"Pay $3,000-$10,000+ upfront. Lock into retainers. Months of waiting. Hope it works out."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:["Hidden fees","Long contracts","Slow delivery"].map(_=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-red-500/[0.06] border border-red-500/10 text-[11px] text-red-400/60",children:[e.jsx(vr,{className:"w-2.5 h-2.5"}),_]},_))})]})]}),e.jsx("div",{className:"absolute top-1/2 left-0 right-0 -translate-y-1/2 rotate-[-3deg] flex justify-center",children:e.jsx("div",{className:"w-[90%] h-[2px] bg-gradient-to-r from-transparent via-red-400/30 to-transparent"})})]}),e.jsxs("div",{className:"relative p-5 sm:p-8 rounded-md border border-emerald-500/25 bg-gradient-to-br from-emerald-500/[0.08] via-teal-500/[0.04] to-cyan-500/[0.06] shadow-lg shadow-emerald-500/[0.05]",children:[e.jsx("div",{className:"absolute -top-3.5 left-5 sm:left-6",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 sm:px-4 py-1.5 rounded-full bg-emerald-500/20 border border-emerald-500/25 text-[11px] sm:text-xs font-semibold text-emerald-300 shadow-lg shadow-emerald-500/10",children:[e.jsx(ys,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," Our Approach"]})}),e.jsxs("div",{className:"flex items-start gap-3.5 sm:gap-5 mt-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-md bg-gradient-to-br from-emerald-500/20 to-teal-500/20 border border-emerald-500/20 shrink-0",children:e.jsx(Nw,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-emerald-300 mb-1.5 sm:mb-2",children:"Pay As You Go"}),e.jsx("p",{className:"text-sm text-white/55 leading-relaxed",children:"You're billed per deliverable  per page designed, per feature built, per revision made. See every line item before you approve."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:["Transparent","No lock-in","Scale anytime"].map(_=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-emerald-500/[0.08] border border-emerald-500/15 text-[11px] text-emerald-400/80",children:[e.jsx(ys,{className:"w-2.5 h-2.5"}),_]},_))})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:[{icon:Aa,title:"Billed Per Deliverable",desc:"Every page, feature, and asset is itemized. You see exactly what you're paying for  no bundled mystery charges.",color:"from-emerald-500/15 to-teal-500/15",iconColor:"text-emerald-400",border:"hover:border-emerald-500/20"},{icon:ta,title:"No Contracts or Commitments",desc:"Start a project, pause it, or wrap it up. There's no minimum spend, no lock-in period, no cancellation fees.",color:"from-blue-500/15 to-cyan-500/15",iconColor:"text-blue-400",border:"hover:border-blue-500/20"},{icon:Jt,title:"Flexible Payment Plans",desc:"Bigger project? Split it into comfortable installments. We'll set up a plan that matches your cash flow.",color:"from-violet-500/15 to-purple-500/15",iconColor:"text-violet-400",border:"hover:border-violet-500/20"},{icon:Rw,title:"Full Transparency Portal",desc:"Track every deliverable, view invoices, approve work, and manage payments  all from your own dashboard.",color:"from-amber-500/15 to-orange-500/15",iconColor:"text-amber-400",border:"hover:border-amber-500/20"}].map(_=>e.jsxs("div",{className:`group flex items-start gap-4 p-5 rounded-md bg-white/[0.02] border border-white/[0.06] ${_.border} transition-all duration-300 hover:bg-white/[0.04]`,"data-testid":`card-benefit-${_.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:`flex items-center justify-center w-11 h-11 rounded-md bg-gradient-to-br ${_.color} border border-white/[0.06] shrink-0 group-hover:scale-105 transition-transform duration-300`,children:e.jsx(_.icon,{className:`w-5 h-5 ${_.iconColor}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-1 group-hover:text-white transition-colors",children:_.title}),e.jsx("p",{className:"text-xs text-white/40 leading-relaxed",children:_.desc})]})]},_.title))})]})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"relative p-6 sm:p-8 md:p-12 rounded-md border border-violet-500/20 bg-gradient-to-br from-violet-500/[0.06] via-blue-500/[0.03] to-purple-500/[0.06] text-center overflow-hidden","data-testid":"card-pricing-cta",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_rgba(139,92,246,0.08)_0%,transparent_60%)]"}),e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[300px] h-[1px] bg-gradient-to-r from-transparent via-violet-400/40 to-transparent"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-blue-500/20 to-violet-500/20 border border-white/10 mx-auto mb-5 sm:mb-6 shadow-lg shadow-violet-500/10",children:e.jsx(kt,{className:"w-6 h-6 sm:w-7 sm:h-7 text-violet-400"})}),e.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-3 sm:mb-4",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-white/50 text-xs sm:text-sm md:text-base max-w-lg mx-auto leading-relaxed mb-6 sm:mb-8 px-2 sm:px-0",children:"Tell us what you're building. We'll send you a clear, itemized proposal within 48 hours  completely free, zero obligation."}),e.jsxs(z,{size:"lg",onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 via-violet-500 to-purple-600 border-0 text-white text-sm sm:text-base font-semibold px-8 sm:px-12 py-5 sm:py-6 shadow-xl shadow-violet-500/25 hover:shadow-violet-500/40 transition-shadow duration-300","data-testid":"button-pricing-message",children:[e.jsx(kt,{className:"w-5 h-5 mr-2"}),"Start a Conversation"]}),e.jsx("p",{className:"text-[11px] sm:text-xs text-white/30 mt-4 sm:mt-5",children:"Free consultation. No calls. No pressure. Just a simple conversation via email."})]})]})})]})]}),e.jsxs("section",{id:"api",className:"relative py-20 sm:py-28 md:py-36 border-t border-white/5 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/[0.02] via-transparent to-cyan-500/[0.02]"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 -left-20 w-[600px] h-[600px] rounded-full bg-blue-500/[0.04] blur-[120px]"}),e.jsx("div",{className:"absolute bottom-1/4 -right-20 w-[500px] h-[500px] rounded-full bg-cyan-500/[0.04] blur-[100px]"})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 sm:gap-16 items-center",children:[e.jsxs("div",{className:"order-2 lg:order-1",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-blue-500/[0.08] border border-blue-500/20 mb-6 sm:mb-8",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-blue-300/90",children:"Developer API"})]}),e.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight mb-4 sm:mb-6","data-testid":"text-api-title",children:["Connect Your Tools with"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-cyan-400 to-teal-400 bg-clip-text text-transparent",children:"Our API"})]}),e.jsx("p",{className:"text-white/50 text-base sm:text-lg leading-relaxed mb-8 sm:mb-10 max-w-lg",children:"Pull project data into your own systems. Integrate customer info, invoices, and work entries directly into your workflow with secure API key authentication."}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8 sm:mb-10",children:[{icon:xl,title:"Secure API Keys",desc:"Scope-based permissions with read, write, and full access levels.",color:"from-blue-500/15 to-indigo-500/15",iconColor:"text-blue-400"},{icon:RC,title:"Real-Time Data",desc:"Access customers, projects, invoices, and work entries instantly.",color:"from-cyan-500/15 to-teal-500/15",iconColor:"text-cyan-400"},{icon:Qv,title:"Simple REST API",desc:"Clean JSON endpoints with beginner-friendly documentation.",color:"from-violet-500/15 to-purple-500/15",iconColor:"text-violet-400"},{icon:n3,title:"Custom Integrations",desc:"Build dashboards, automate reports, or sync with any platform.",color:"from-emerald-500/15 to-green-500/15",iconColor:"text-emerald-400"}].map(_=>e.jsxs("div",{className:"group flex items-start gap-3.5 p-4 rounded-md bg-white/[0.02] border border-white/[0.06] hover:border-blue-500/20 hover:bg-white/[0.04] transition-all duration-300","data-testid":`card-api-${_.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-md bg-gradient-to-br ${_.color} border border-white/[0.06] shrink-0 group-hover:scale-105 transition-transform duration-300`,children:e.jsx(_.icon,{className:`w-4.5 h-4.5 ${_.iconColor}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-1 group-hover:text-white transition-colors",children:_.title}),e.jsx("p",{className:"text-xs text-white/40 leading-relaxed",children:_.desc})]})]},_.title))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(Pn,{href:"/api/docs",children:e.jsxs(z,{className:"bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 border-0 text-white font-semibold px-8 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40 transition-shadow duration-300","data-testid":"button-api-docs",children:[e.jsx(Qv,{className:"w-4 h-4 mr-2"}),"View API Docs"]})}),e.jsxs(z,{variant:"outline",className:"border-white/15 text-white bg-white/5 hover:bg-white/10 transition-colors",onClick:()=>a(!0),"data-testid":"button-api-contact",children:[e.jsx(kt,{className:"w-4 h-4 mr-2"}),"Ask About Integrations"]})]})]}),e.jsxs("div",{className:"order-1 lg:order-2 relative","data-testid":"img-api-visual",children:[e.jsxs("div",{className:"relative rounded-md overflow-hidden border border-white/10 shadow-2xl shadow-blue-500/[0.08]",children:[e.jsxs("div",{className:"bg-[#0d1117] p-1",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 border-b border-white/[0.06]",children:[e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/60"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/60"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/60"})]}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"px-4 py-1 rounded-md bg-white/[0.04] border border-white/[0.06]",children:e.jsx("span",{className:"text-[11px] text-white/40 font-mono",children:"api/v1/customers"})})})]}),e.jsxs("div",{className:"p-5 font-mono text-[13px] leading-relaxed",children:[e.jsxs("div",{className:"text-white/30 mb-1",children:[e.jsx("span",{className:"text-blue-400/70",children:"GET"})," ",e.jsx("span",{className:"text-white/50",children:"/api/v1/customers"})]}),e.jsx("div",{className:"mt-3 text-white/25",children:"{"}),e.jsxs("div",{className:"pl-4 text-white/25",children:['"',e.jsx("span",{className:"text-cyan-400/80",children:"data"}),'": ',"["]}),e.jsx("div",{className:"pl-8 text-white/25",children:"{"}),e.jsxs("div",{className:"pl-12",children:[e.jsx("span",{className:"text-white/25",children:'"'}),e.jsx("span",{className:"text-emerald-400/80",children:"name"}),e.jsx("span",{className:"text-white/25",children:'":'})," ",e.jsx("span",{className:"text-amber-400/70",children:'"Acme Corp"'}),e.jsx("span",{className:"text-white/20",children:","})]}),e.jsxs("div",{className:"pl-12",children:[e.jsx("span",{className:"text-white/25",children:'"'}),e.jsx("span",{className:"text-emerald-400/80",children:"email"}),e.jsx("span",{className:"text-white/25",children:'":'})," ",e.jsx("span",{className:"text-amber-400/70",children:'"hello@acme.com"'}),e.jsx("span",{className:"text-white/20",children:","})]}),e.jsxs("div",{className:"pl-12",children:[e.jsx("span",{className:"text-white/25",children:'"'}),e.jsx("span",{className:"text-emerald-400/80",children:"status"}),e.jsx("span",{className:"text-white/25",children:'":'})," ",e.jsx("span",{className:"text-amber-400/70",children:'"active"'})]}),e.jsx("div",{className:"pl-8 text-white/25",children:"}"}),e.jsx("div",{className:"pl-4 text-white/25",children:"]"}),e.jsx("div",{className:"text-white/25",children:"}"})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0f]/40 to-transparent pointer-events-none"})]}),e.jsxs("div",{className:"absolute -bottom-4 -right-4 sm:-bottom-5 sm:-right-5 p-4 sm:p-5 rounded-md bg-[#12121a]/90 border border-white/10 shadow-xl",style:{backdropFilter:"blur(16px)"},children:[e.jsxs("div",{className:"flex items-center gap-2.5 text-xs mb-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 animate-pulse shadow-lg shadow-emerald-400/50"}),e.jsx("span",{className:"text-white/70 font-semibold",children:"API Status: Live"})]}),e.jsx("p",{className:"text-[11px] text-white/30",children:"v1  REST  JSON  Bearer Auth"})]}),e.jsx("div",{className:"absolute -top-3 -left-3 sm:-top-4 sm:-left-4 p-3 sm:p-4 rounded-md bg-[#12121a]/90 border border-white/10 shadow-xl",style:{backdropFilter:"blur(16px)"},children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(ta,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-white/70 font-semibold",children:"Encrypted"})]})})]})]})})]}),e.jsx("section",{id:"faq",className:"relative py-16 sm:py-24 md:py-32 border-t border-white/5",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-4 sm:mb-6",children:[e.jsx(kt,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-white/70",children:"Common Questions"})]}),e.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight mb-3 sm:mb-4","data-testid":"text-faq-title",children:["Frequently Asked"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Questions"})]}),e.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto",children:"Everything you need to know about our AI web design and custom web development services."})]}),e.jsx("div",{className:"space-y-4","data-testid":"faq-list",children:[{q:"How long does it take to build a custom website?",a:"Most projects are delivered within 48 hours to 2 weeks depending on complexity. Our AI-accelerated workflow cuts development time dramatically compared to traditional web design agencies."},{q:"What technologies do you use for web development?",a:"We use cutting-edge technologies including React, Node.js, PostgreSQL, Docker, and the latest AI models. Our custom React development services and Node.js web development ensure modern, scalable, responsive solutions."},{q:"Do you offer affordable web development for small businesses?",a:"Absolutely. We bill per deliverable  per page designed, per feature built  so you only pay for what we create. No retainers, no subscriptions. Our pricing works for startups and small businesses of any size."},{q:"How does your AI-powered web design process work?",a:"It's simple: contact us with your project details, we design a custom architecture, our AI-accelerated development brings it to life, then we deploy and hand over your polished product with full documentation and support."},{q:"Do you offer ongoing support and maintenance?",a:"Yes, we provide 24/7 support with real humans and AI assistants. Every client gets access to a dedicated support portal with ticket tracking, real-time communication, and project progress updates."},{q:"Can you build custom web applications and APIs?",a:"Yes. We build custom web applications, REST APIs, billing dashboards, support portals, community forums, and more. We also offer Docker deployment services for self-hosted infrastructure."}].map((_,D)=>e.jsxs("div",{className:"p-5 sm:p-6 rounded-md border border-white/5 bg-white/[0.02]","data-testid":`faq-item-${D}`,children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold mb-2 text-white/90",children:_.q}),e.jsx("p",{className:"text-sm text-white/50 leading-relaxed",children:_.a})]},D))})]})}),e.jsxs("section",{className:"relative py-16 sm:py-24 md:py-32 border-t border-white/5",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-500/[0.03] to-transparent"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 text-center",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight mb-4 sm:mb-6","data-testid":"text-cta-title",children:["Ready to Build Something"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-violet-400 to-purple-400 bg-clip-text text-transparent",children:"Extraordinary?"})]}),e.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto mb-8 sm:mb-10",children:"Tell us about your project and we'll craft a custom AI-powered web development solution tailored to your specific business needs. No templates, no compromises."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-center gap-3 sm:gap-4",children:e.jsxs(z,{size:"lg",onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white text-base font-medium px-10","data-testid":"button-cta-message",children:[e.jsx(kt,{className:"w-4 h-4 mr-2"}),"Send Us a Message"]})})]})]})]}),e.jsx("footer",{"aria-label":"Site footer",className:"border-t border-white/5 pt-10 sm:pt-16 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-10 mb-8 sm:mb-12",children:[e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-4",children:[e.jsx("img",{src:"/images/logo.png",alt:"AI Powered Sites",className:"w-9 h-9 rounded-md object-cover"}),e.jsx("span",{className:"text-lg font-semibold",children:"AI Powered Sites"})]}),e.jsx("p",{className:"text-sm text-white/40 leading-relaxed mb-6",children:"AI web design agency crafting custom websites, web applications, and digital experiences for startups and growing businesses."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4 text-white/80",children:"Services"}),e.jsxs("ul",{className:"space-y-2.5",children:[e.jsx("li",{children:e.jsx("a",{href:"#services",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-websites",children:"Custom Websites"})}),e.jsx("li",{children:e.jsx("a",{href:"#services",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-forums",children:"Community Forums"})}),e.jsx("li",{children:e.jsx("a",{href:"#services",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-backends",children:"Backend Systems"})}),e.jsx("li",{children:e.jsx("a",{href:"#services",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-docker",children:"Docker Solutions"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4 text-white/80",children:"Company"}),e.jsxs("ul",{className:"space-y-2.5",children:[e.jsx("li",{children:e.jsx("a",{href:"#features",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-features",children:"Why Choose Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#process",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-process",children:"Our Process"})}),e.jsx("li",{children:e.jsx("a",{href:"#pricing",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-pricing",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#api",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-api",children:"API"})}),e.jsx("li",{children:e.jsx("a",{href:"#testimonials",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-testimonials",children:"Testimonials"})}),e.jsx("li",{children:e.jsx("a",{href:"#stats",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-results",children:"Results"})}),e.jsx("li",{children:e.jsx(Pn,{href:"/questions",children:e.jsx("span",{className:"text-sm text-white/40 transition-colors cursor-pointer","data-testid":"link-footer-qa",children:"Q&A"})})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4 text-white/80",children:"Get In Touch"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-2.5",children:[e.jsx(_s,{className:"w-4 h-4 text-white/30 shrink-0"}),e.jsx("a",{href:"mailto:hello@aipoweredsites.com",className:"text-sm text-white/40 transition-colors","data-testid":"link-footer-email",children:"hello@aipoweredsites.com"})]}),e.jsxs("li",{className:"flex items-center gap-2.5",children:[e.jsx(tl,{className:"w-4 h-4 text-white/30 shrink-0"}),e.jsx("span",{className:"text-sm text-white/40",children:"Remote-First Team"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(z,{size:"sm",onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white font-medium","data-testid":"button-footer-message",children:[e.jsx(kt,{className:"w-3.5 h-3.5 mr-1.5"}),"Message Us"]})})]})]}),e.jsx("div",{className:"border-t border-white/5 pt-8 pb-6",children:e.jsxs("div",{className:"max-w-xl mx-auto text-center mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold mb-1.5","data-testid":"text-newsletter-title",children:"Stay in the Loop"}),e.jsx("p",{className:"text-xs text-white/40 mb-4",children:"Get tips on AI, web design, and business growth. No spam, ever."}),e.jsx(_R,{})]})}),e.jsxs("div",{className:"border-t border-white/5 pt-6 flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-xs text-white/20",children:[" ",new Date().getFullYear()," AI Powered Sites. All rights reserved."]}),e.jsx("p",{className:"text-xs text-white/20",children:"Built with AI. Powered by passion."})]})]})}),e.jsx(Lt,{open:me,onOpenChange:I,children:e.jsxs(Et,{className:"sm:max-w-md bg-[#12121a] border-white/10 text-white",children:[e.jsxs(Tt,{children:[e.jsxs(At,{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5 text-violet-400"}),"Get Your Full Report"]}),e.jsx($c,{className:"text-white/50",children:"Enter your email to receive the detailed PDF report with all recommendations."})]}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-2 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("span",{className:"text-2xl font-bold",style:{color:k?.overallScore>=75?"#22c55e":k?.overallScore>=50?"#eab308":"#ef4444"},children:k?.grade}),e.jsxs("span",{className:"text-white/50 text-sm",children:[k?.overallScore,"/100"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-violet-400"}),e.jsx("input",{type:"email",placeholder:"your@email.com",value:S,onChange:_=>b(_.target.value),onKeyDown:_=>{_.key==="Enter"&&S.trim()&&G()},className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-3 text-white text-sm placeholder:text-white/25 outline-none focus:border-violet-500/50 transition-colors","data-testid":"input-audit-email-dialog"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:G,disabled:!S.trim()||X,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-violet-500 disabled:from-blue-600 disabled:to-violet-600 disabled:cursor-not-allowed text-white text-sm font-semibold rounded-lg transition-all","data-testid":"button-send-report",children:[X?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(ms,{className:"w-4 h-4"}),X?"Sending...":"Email My Report"]}),e.jsxs("button",{onClick:()=>{Y(),I(!1)},className:"flex items-center justify-center gap-2 px-4 py-3 bg-white/5 border border-white/10 text-white text-sm rounded-lg hover:bg-white/10 transition-colors","data-testid":"button-download-report-dialog",children:[e.jsx(Gv,{className:"w-4 h-4"}),"Download"]})]}),e.jsx("p",{className:"text-[11px] text-white/30 text-center",children:"We'll include actionable tips to improve your score"})]})]})}),e.jsx(Lt,{open:n,onOpenChange:a,children:e.jsxs(Et,{className:"sm:max-w-lg bg-[#12121a] border-white/10 text-white",children:[e.jsxs(Tt,{children:[e.jsxs(At,{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5 text-blue-400"}),"Start a Conversation"]}),e.jsx($c,{className:"text-white/50",children:"Have a question or want to discuss a project? Send us a message and we'll reply directly to your secure conversation."})]}),e.jsxs("div",{className:"space-y-4 mt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white/70 mb-1.5 block",children:"Name"}),e.jsx(Fe,{placeholder:"Your name",value:o,onChange:_=>l(_.target.value),className:"bg-white/5 border-white/10 text-white placeholder:text-white/30","data-testid":"input-chat-name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white/70 mb-1.5 block",children:"Email"}),e.jsx(Fe,{placeholder:"you@example.com",value:d,onChange:_=>u(_.target.value),className:"bg-white/5 border-white/10 text-white placeholder:text-white/30","data-testid":"input-chat-email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white/70 mb-1.5 block",children:"Subject"}),e.jsx(Fe,{placeholder:"What would you like to discuss?",value:m,onChange:_=>f(_.target.value),className:"bg-white/5 border-white/10 text-white placeholder:text-white/30","data-testid":"input-chat-subject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white/70 mb-1.5 block",children:"Message"}),e.jsx(Os,{placeholder:"Share any details, ideas, examples, or links you'd like us to see...",value:y,onChange:_=>v(_.target.value),className:"bg-white/5 border-white/10 text-white placeholder:text-white/30 min-h-[100px] resize-none","data-testid":"input-chat-message"})]}),e.jsx(z,{onClick:()=>U.mutate(),disabled:!o.trim()||!d.trim()||!m.trim()||!y.trim()||U.isPending,className:"w-full bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white font-medium","data-testid":"button-start-conversation",children:U.isPending?"Starting...":e.jsxs(e.Fragment,{children:[e.jsx(ms,{className:"w-4 h-4 mr-2"}),"Start Conversation"]})}),e.jsx("p",{className:"text-xs text-white/30 text-center",children:"Your conversation is private and secure. You'll get a unique link to continue the discussion."})]})]})})]})}const LR={"under-1k":"Under $1,000","1k-5k":"$1,000 - $5,000","5k-10k":"$5,000 - $10,000","10k-25k":"$10,000 - $25,000","25k+":"$25,000+","not-sure":"Not Sure Yet"},IR={website:"Website",forum:"Forum / Community",blog:"Blog Platform",backend:"Backend / API","support-portal":"Support Portal",ecommerce:"E-Commerce",other:"Other"};function MR(){const{data:s,isLoading:t}=Ie({queryKey:["/api/quote-requests"]});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-6",children:[e.jsx(sy,{className:"w-6 h-6 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"text-quotes-title",children:"Quote Requests"}),s&&e.jsx(Ce,{variant:"secondary","data-testid":"badge-quotes-count",children:s.length})]}),t?e.jsx("div",{className:"text-muted-foreground","data-testid":"text-quotes-loading",children:"Loading quote requests..."}):!s||s.length===0?e.jsx(de,{children:e.jsxs(ji,{className:"py-12 text-center",children:[e.jsx(sy,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"text-quotes-empty",children:"No quote requests yet. They'll appear here when visitors submit the form on your landing page."})]})}):e.jsx("div",{className:"grid gap-4",children:s.map(n=>e.jsxs(de,{"data-testid":`card-quote-${n.id}`,children:[e.jsx(NN,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx(kN,{className:"text-lg",children:n.name}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(_s,{className:"w-3.5 h-3.5"}),n.email]}),n.phone&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Mc,{className:"w-3.5 h-3.5"}),n.phone]}),n.company&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(al,{className:"w-3.5 h-3.5"}),n.company]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(Ce,{variant:"secondary",children:IR[n.projectType]||n.projectType}),n.budget&&e.jsxs(Ce,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"w-3 h-3"}),LR[n.budget]||n.budget]}),e.jsx(Ce,{variant:n.status==="new"?"default":"secondary",children:n.status})]})]})}),e.jsxs(ji,{children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:n.message}),n.createdAt&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-3 flex items-center gap-1.5",children:[e.jsx(dx,{className:"w-3 h-3"}),new Date(n.createdAt).toLocaleString()]})]})]},n.id))})]})}function _2(s){switch(s){case"open":return e.jsx(xi,{className:"w-4 h-4"});case"in_progress":return e.jsx(Jt,{className:"w-4 h-4"});case"resolved":return e.jsx(Rn,{className:"w-4 h-4"});case"closed":return e.jsx(Xi,{className:"w-4 h-4"});default:return e.jsx(xi,{className:"w-4 h-4"})}}function Tp(s){switch(s){case"open":return"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20";case"in_progress":return"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20";case"resolved":return"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20";case"closed":return"bg-muted text-muted-foreground border-muted";default:return"bg-muted text-muted-foreground border-muted"}}function O2(s){switch(s){case"urgent":return"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20";case"high":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20";case"medium":return"bg-sky-500/10 text-sky-600 dark:text-sky-400 border-sky-500/20";case"low":return"bg-muted text-muted-foreground border-muted";default:return"bg-muted text-muted-foreground border-muted"}}function Vu(s){switch(s){case"urgent":return e.jsx(Qn,{className:"w-3 h-3"});case"high":return e.jsx(cx,{className:"w-3 h-3"});default:return null}}function Ap(s){if(!s)return"";const t=new Date,n=new Date(s),a=t.getTime()-n.getTime(),o=Math.floor(a/6e4);if(o<1)return"just now";if(o<60)return`${o}m ago`;const l=Math.floor(o/60);if(l<24)return`${l}h ago`;const d=Math.floor(l/24);return d<7?`${d}d ago`:Ps(s)}function DR(){return e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"flex items-center justify-between gap-3",children:e.jsxs("div",{children:[e.jsx(Ne,{className:"h-7 w-44 mb-1.5"}),e.jsx(Ne,{className:"h-4 w-56"})]})}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:4}).map((s,t)=>e.jsx(Ne,{className:"h-9 w-24 rounded-md"},t))}),e.jsx(de,{className:"overflow-hidden",children:Array.from({length:6}).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border-b last:border-b-0",children:[e.jsx(Ne,{className:"h-9 w-9 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsx(Ne,{className:"h-4 w-48"}),e.jsx(Ne,{className:"h-3 w-32"})]}),e.jsx(Ne,{className:"h-5 w-20 rounded-full"})]},t))})]})}function qR({tickets:s,active:t,onChange:n}){const a={all:s.length,open:s.filter(l=>l.status==="open").length,in_progress:s.filter(l=>l.status==="in_progress").length,resolved:s.filter(l=>l.status==="resolved").length,closed:s.filter(l=>l.status==="closed").length},o=[{key:"all",label:"All",icon:DC},{key:"open",label:"Open",icon:xi},{key:"in_progress",label:"In Progress",icon:Jt},{key:"resolved",label:"Resolved",icon:Rn},{key:"closed",label:"Closed",icon:Xi}];return e.jsx("div",{className:"flex items-center gap-1.5 overflow-x-auto pb-1",children:o.map(l=>{const d=a[l.key],u=t===l.key;return e.jsxs(z,{variant:u?"default":"ghost",size:"sm",onClick:()=>n(l.key),className:"shrink-0","data-testid":`button-filter-${l.key}`,children:[e.jsx(l.icon,{className:"w-3.5 h-3.5 mr-1.5"}),l.label,d>0&&e.jsx("span",{className:`ml-1.5 text-xs tabular-nums ${u?"opacity-80":"text-muted-foreground"}`,children:d})]},l.key)})})}function $R({onSelect:s}){const[t,n]=x.useState(""),[a,o]=x.useState("all"),[l,d]=x.useState("all"),{data:u,isLoading:m}=Ie({queryKey:["/api/support/tickets"]});if(m)return e.jsx(DR,{});const f=u||[],y=f.filter(S=>{const b=!t||S.subject.toLowerCase().includes(t.toLowerCase())||S.ticketNumber.toLowerCase().includes(t.toLowerCase())||S.customerName.toLowerCase().includes(t.toLowerCase()),k=a==="all"||S.status===a,P=l==="all"||S.priority===l;return b&&k&&P}),v=f.filter(S=>S.status==="open").length,g=f.filter(S=>S.status==="in_progress").length,N=f.filter(S=>S.priority==="urgent"&&S.status!=="closed"&&S.status!=="resolved").length;return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-support-title",children:"Support Center"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5 flex-wrap",children:[N>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-red-600 dark:text-red-400 bg-red-500/10 px-2 py-0.5 rounded-full",children:[e.jsx(Qn,{className:"w-3 h-3"}),N," urgent"]}),v>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-500/10 px-2 py-0.5 rounded-full",children:[e.jsx(xi,{className:"w-3 h-3"}),v," open"]}),g>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-amber-600 dark:text-amber-400 bg-amber-500/10 px-2 py-0.5 rounded-full",children:[e.jsx(Jt,{className:"w-3 h-3"}),g," in progress"]}),v===0&&g===0&&N===0&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"All caught up"})]})]}),e.jsx(qR,{tickets:f,active:a,onChange:o}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search by subject, ticket number, or customer...",className:"pl-9",value:t,onChange:S=>n(S.target.value),"data-testid":"input-search-tickets"})]}),e.jsxs(_t,{value:l,onValueChange:d,children:[e.jsxs(St,{className:"w-[140px]","data-testid":"select-priority-filter",children:[e.jsx(OC,{className:"w-3.5 h-3.5 mr-1.5"}),e.jsx(Ot,{placeholder:"Priority"})]}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"all",children:"All Priority"}),e.jsx(Pe,{value:"urgent",children:"Urgent"}),e.jsx(Pe,{value:"high",children:"High"}),e.jsx(Pe,{value:"medium",children:"Medium"}),e.jsx(Pe,{value:"low",children:"Low"})]})]})]}),e.jsx(de,{className:"overflow-hidden",children:y.length>0?e.jsx("div",{className:"divide-y",children:y.map(S=>e.jsxs("button",{className:"w-full p-4 text-left flex items-start gap-3.5 hover-elevate transition-colors",onClick:()=>s(S.id),"data-testid":`button-ticket-${S.id}`,children:[e.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-full shrink-0 border ${Tp(S.status)}`,children:_2(S.status)}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.jsx("span",{className:"text-sm font-semibold truncate",children:S.subject})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(jw,{className:"w-3 h-3"}),S.ticketNumber]}),e.jsx("span",{className:"opacity-30",children:"|"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_w,{className:"w-3 h-3"}),S.customerName]}),e.jsx("span",{className:"opacity-30",children:"|"}),e.jsx("span",{children:Ap(S.updatedAt)})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsxs(Ce,{variant:"secondary",className:`text-xs border ${O2(S.priority)}`,children:[Vu(S.priority),e.jsx("span",{className:Vu(S.priority)?"ml-1":"",children:S.priority})]}),e.jsx(Ce,{variant:"secondary",className:`text-xs border ${Tp(S.status)}`,children:S.status.replace("_"," ")})]})]},S.id))}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-muted mb-4",children:e.jsx(Yi,{className:"w-7 h-7 text-muted-foreground"})}),e.jsx("p",{className:"text-sm font-medium mb-1",children:t||a!=="all"||l!=="all"?"No tickets match your filters":"No support tickets yet"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t||a!=="all"||l!=="all"?"Try adjusting your search or filters":"Tickets will appear here when customers reach out"})]})})]})}function FR({ticketId:s,onBack:t}){const{toast:n}=gt(),[a,o]=x.useState(""),{data:l,isLoading:d}=Ie({queryKey:["/api/support/tickets",s]}),u=Re({mutationFn:async y=>(await Ae("POST",`/api/support/tickets/${s}/messages`,{message:y})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/support/tickets",s]}),be.invalidateQueries({queryKey:["/api/support/tickets"]}),n({title:"Reply sent",description:"Your reply has been sent and the customer has been notified."}),o("")},onError:y=>{n({title:"Failed to send reply",description:y.message,variant:"destructive"})}}),m=Re({mutationFn:async y=>(await Ae("PATCH",`/api/support/tickets/${s}`,y)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/support/tickets",s]}),be.invalidateQueries({queryKey:["/api/support/tickets"]}),n({title:"Ticket updated"})}}),f=Re({mutationFn:async()=>{await Ae("DELETE",`/api/support/tickets/${s}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/support/tickets"]}),n({title:"Ticket deleted",description:"The support ticket has been permanently removed."}),t()},onError:y=>{n({title:"Failed to delete ticket",description:y.message,variant:"destructive"})}});return d?e.jsxs("div",{className:"space-y-5",children:[e.jsx(Ne,{className:"h-8 w-32"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_280px] gap-5",children:[e.jsxs(de,{className:"p-6",children:[e.jsx(Ne,{className:"h-6 w-64 mb-4"}),e.jsx(Ne,{className:"h-40 w-full"})]}),e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-5 w-32 mb-4"}),e.jsx(Ne,{className:"h-4 w-full mb-2"}),e.jsx(Ne,{className:"h-4 w-3/4"})]})]})]}):l?e.jsxs("div",{className:"space-y-5",children:[e.jsxs(z,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-back-to-list",children:[e.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Back to tickets"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_280px] gap-5",children:[e.jsxs("div",{className:"space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold leading-tight mb-1","data-testid":"text-ticket-subject",children:l.subject}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(Ce,{variant:"secondary",className:`text-xs border ${Tp(l.status)}`,children:[_2(l.status),e.jsx("span",{className:"ml-1",children:l.status.replace("_"," ")})]}),e.jsxs(Ce,{variant:"secondary",className:`text-xs border ${O2(l.priority)}`,children:[Vu(l.priority),e.jsx("span",{className:Vu(l.priority)?"ml-1":"",children:l.priority})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:l.ticketNumber})]})]}),e.jsx(de,{className:"overflow-hidden",children:e.jsx("div",{className:"divide-y",children:l.messages.map((y,v)=>{const g=y.senderType==="admin";return e.jsx("div",{className:`p-5 ${g?"bg-primary/[0.03] dark:bg-primary/[0.06]":""}`,"data-testid":`message-${y.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold shrink-0 ${g?"bg-primary text-primary-foreground":"bg-gradient-to-br from-blue-500 to-violet-500 text-white"}`,children:y.senderName.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5 flex-wrap",children:[e.jsx("span",{className:"text-sm font-semibold",children:y.senderName}),e.jsx(Ce,{variant:"secondary",className:`text-[10px] px-1.5 py-0 ${g?"bg-primary/10 text-primary border-primary/20":"bg-muted"}`,children:g?"Staff":"Customer"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-auto shrink-0",children:Ap(y.createdAt)})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed text-foreground/90","data-testid":`text-message-body-${y.id}`,children:y.message})]})]})},y.id)})})}),l.status!=="closed"&&e.jsxs(de,{className:"overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b bg-muted/30",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Reply"})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(Os,{placeholder:"Type your reply to the customer...",value:a,onChange:y=>o(y.target.value),className:"resize-none min-h-[120px] text-sm","data-testid":"textarea-reply"}),e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[e.jsx(_s,{className:"w-3 h-3"}),"The customer will be notified by email"]}),e.jsxs(z,{onClick:()=>u.mutate(a),disabled:!a.trim()||u.isPending,"data-testid":"button-send-reply",children:[u.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ms,{className:"w-4 h-4 mr-2"}),"Send Reply"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(de,{className:"p-4",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Ticket Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Status"}),e.jsxs(_t,{value:l.status,onValueChange:y=>m.mutate({status:y}),children:[e.jsx(St,{"data-testid":"select-ticket-status",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"open",children:"Open"}),e.jsx(Pe,{value:"in_progress",children:"In Progress"}),e.jsx(Pe,{value:"resolved",children:"Resolved"}),e.jsx(Pe,{value:"closed",children:"Closed"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Priority"}),e.jsxs(_t,{value:l.priority,onValueChange:y=>m.mutate({priority:y}),children:[e.jsx(St,{"data-testid":"select-ticket-priority",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"low",children:"Low"}),e.jsx(Pe,{value:"medium",children:"Medium"}),e.jsx(Pe,{value:"high",children:"High"}),e.jsx(Pe,{value:"urgent",children:"Urgent"})]})]})]})]})]}),e.jsxs(de,{className:"p-4",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Customer"}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-violet-500 flex items-center justify-center text-white text-xs font-semibold shrink-0",children:l.customerName.charAt(0).toUpperCase()}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:l.customerName}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:l.customerEmail})]})]}),l.projectName&&e.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground pt-1 border-t",children:[e.jsx(up,{className:"w-3 h-3 mt-0.5 shrink-0"}),e.jsxs("span",{children:["Project: ",l.projectName]})]})]})]}),e.jsxs(de,{className:"p-4",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Info"}),e.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jw,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{children:l.ticketNumber})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(up,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"capitalize",children:l.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dx,{className:"w-3 h-3 shrink-0"}),e.jsxs("span",{children:["Opened ",Ps(l.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-3 h-3 shrink-0"}),e.jsxs("span",{children:["Updated ",Ap(l.updatedAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-3 h-3 shrink-0"}),e.jsxs("span",{children:[l.messages.length," message",l.messages.length!==1?"s":""]})]})]})]}),e.jsxs(de,{className:"p-4",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Actions"}),e.jsxs(z,{variant:"outline",size:"sm",className:"w-full text-destructive",onClick:()=>{confirm("Are you sure you want to permanently delete this ticket and all its messages? This cannot be undone.")&&f.mutate()},disabled:f.isPending,"data-testid":"button-delete-ticket",children:[f.isPending?e.jsx(Je,{className:"w-4 h-4 mr-1.5 animate-spin"}):e.jsx(ks,{className:"w-4 h-4 mr-1.5"}),"Delete Ticket"]})]})]})]})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs(z,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-back-to-list",children:[e.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Back to tickets"]}),e.jsxs(de,{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-muted mb-3",children:e.jsx(Yi,{className:"w-6 h-6 text-muted-foreground"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket not found"})]})]})}function zR(){Yn("Support Center");const[s,t]=x.useState(null);return s?e.jsx(FR,{ticketId:s,onBack:()=>t(null)}):e.jsx($R,{onSelect:t})}var L2=typeof global=="object"&&global&&global.Object===Object&&global,UR=typeof self=="object"&&self&&self.Object===Object&&self,ca=L2||UR||Function("return this")(),Ni=ca.Symbol,I2=Object.prototype,BR=I2.hasOwnProperty,HR=I2.toString,xc=Ni?Ni.toStringTag:void 0;function WR(s){var t=BR.call(s,xc),n=s[xc];try{s[xc]=void 0;var a=!0}catch{}var o=HR.call(s);return a&&(t?s[xc]=n:delete s[xc]),o}var KR=Object.prototype,VR=KR.toString;function QR(s){return VR.call(s)}var GR="[object Null]",YR="[object Undefined]",e1=Ni?Ni.toStringTag:void 0;function _l(s){return s==null?s===void 0?YR:GR:e1&&e1 in Object(s)?WR(s):QR(s)}function _a(s){return s!=null&&typeof s=="object"}var lo=Array.isArray;function Ci(s){var t=typeof s;return s!=null&&(t=="object"||t=="function")}function M2(s){return s}var XR="[object AsyncFunction]",ZR="[object Function]",JR="[object GeneratorFunction]",e_="[object Proxy]";function qx(s){if(!Ci(s))return!1;var t=_l(s);return t==ZR||t==JR||t==XR||t==e_}var Pf=ca["__core-js_shared__"],t1=(function(){var s=/[^.]+$/.exec(Pf&&Pf.keys&&Pf.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function t_(s){return!!t1&&t1 in s}var s_=Function.prototype,n_=s_.toString;function xo(s){if(s!=null){try{return n_.call(s)}catch{}try{return s+""}catch{}}return""}var r_=/[\\^$.*+?()[\]{}|]/g,a_=/^\[object .+?Constructor\]$/,i_=Function.prototype,o_=Object.prototype,l_=i_.toString,c_=o_.hasOwnProperty,d_=RegExp("^"+l_.call(c_).replace(r_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u_(s){if(!Ci(s)||t_(s))return!1;var t=qx(s)?d_:a_;return t.test(xo(s))}function h_(s,t){return s?.[t]}function go(s,t){var n=h_(s,t);return u_(n)?n:void 0}var Pp=go(ca,"WeakMap"),s1=Object.create,m_=(function(){function s(){}return function(t){if(!Ci(t))return{};if(s1)return s1(t);s.prototype=t;var n=new s;return s.prototype=void 0,n}})();function f_(s,t,n){switch(n.length){case 0:return s.call(t);case 1:return s.call(t,n[0]);case 2:return s.call(t,n[0],n[1]);case 3:return s.call(t,n[0],n[1],n[2])}return s.apply(t,n)}function p_(s,t){var n=-1,a=s.length;for(t||(t=Array(a));++n<a;)t[n]=s[n];return t}var x_=800,g_=16,v_=Date.now;function y_(s){var t=0,n=0;return function(){var a=v_(),o=g_-(a-n);if(n=a,o>0){if(++t>=x_)return arguments[0]}else t=0;return s.apply(void 0,arguments)}}function b_(s){return function(){return s}}var Qu=(function(){try{var s=go(Object,"defineProperty");return s({},"",{}),s}catch{}})(),w_=Qu?function(s,t){return Qu(s,"toString",{configurable:!0,enumerable:!1,value:b_(t),writable:!0})}:M2,j_=y_(w_);function N_(s,t){for(var n=-1,a=s==null?0:s.length;++n<a&&t(s[n],n,s)!==!1;);return s}var k_=9007199254740991,S_=/^(?:0|[1-9]\d*)$/;function D2(s,t){var n=typeof s;return t=t??k_,!!t&&(n=="number"||n!="symbol"&&S_.test(s))&&s>-1&&s%1==0&&s<t}function $x(s,t,n){t=="__proto__"&&Qu?Qu(s,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):s[t]=n}function Xc(s,t){return s===t||s!==s&&t!==t}var C_=Object.prototype,E_=C_.hasOwnProperty;function q2(s,t,n){var a=s[t];(!(E_.call(s,t)&&Xc(a,n))||n===void 0&&!(t in s))&&$x(s,t,n)}function T_(s,t,n,a){var o=!n;n||(n={});for(var l=-1,d=t.length;++l<d;){var u=t[l],m=void 0;m===void 0&&(m=s[u]),o?$x(n,u,m):q2(n,u,m)}return n}var n1=Math.max;function A_(s,t,n){return t=n1(t===void 0?s.length-1:t,0),function(){for(var a=arguments,o=-1,l=n1(a.length-t,0),d=Array(l);++o<l;)d[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=n(d),f_(s,this,u)}}function P_(s,t){return j_(A_(s,t,M2),s+"")}var R_=9007199254740991;function $2(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=R_}function Sh(s){return s!=null&&$2(s.length)&&!qx(s)}function __(s,t,n){if(!Ci(n))return!1;var a=typeof t;return(a=="number"?Sh(n)&&D2(t,n.length):a=="string"&&t in n)?Xc(n[t],s):!1}function O_(s){return P_(function(t,n){var a=-1,o=n.length,l=o>1?n[o-1]:void 0,d=o>2?n[2]:void 0;for(l=s.length>3&&typeof l=="function"?(o--,l):void 0,d&&__(n[0],n[1],d)&&(l=o<3?void 0:l,o=1),t=Object(t);++a<o;){var u=n[a];u&&s(t,u,a,l)}return t})}var L_=Object.prototype;function Fx(s){var t=s&&s.constructor,n=typeof t=="function"&&t.prototype||L_;return s===n}function I_(s,t){for(var n=-1,a=Array(s);++n<s;)a[n]=t(n);return a}var M_="[object Arguments]";function r1(s){return _a(s)&&_l(s)==M_}var F2=Object.prototype,D_=F2.hasOwnProperty,q_=F2.propertyIsEnumerable,Rp=r1((function(){return arguments})())?r1:function(s){return _a(s)&&D_.call(s,"callee")&&!q_.call(s,"callee")};function $_(){return!1}var z2=typeof Kn=="object"&&Kn&&!Kn.nodeType&&Kn,a1=z2&&typeof Vn=="object"&&Vn&&!Vn.nodeType&&Vn,F_=a1&&a1.exports===z2,i1=F_?ca.Buffer:void 0,z_=i1?i1.isBuffer:void 0,Fc=z_||$_,U_="[object Arguments]",B_="[object Array]",H_="[object Boolean]",W_="[object Date]",K_="[object Error]",V_="[object Function]",Q_="[object Map]",G_="[object Number]",Y_="[object Object]",X_="[object RegExp]",Z_="[object Set]",J_="[object String]",eO="[object WeakMap]",tO="[object ArrayBuffer]",sO="[object DataView]",nO="[object Float32Array]",rO="[object Float64Array]",aO="[object Int8Array]",iO="[object Int16Array]",oO="[object Int32Array]",lO="[object Uint8Array]",cO="[object Uint8ClampedArray]",dO="[object Uint16Array]",uO="[object Uint32Array]",Xt={};Xt[nO]=Xt[rO]=Xt[aO]=Xt[iO]=Xt[oO]=Xt[lO]=Xt[cO]=Xt[dO]=Xt[uO]=!0;Xt[U_]=Xt[B_]=Xt[tO]=Xt[H_]=Xt[sO]=Xt[W_]=Xt[K_]=Xt[V_]=Xt[Q_]=Xt[G_]=Xt[Y_]=Xt[X_]=Xt[Z_]=Xt[J_]=Xt[eO]=!1;function hO(s){return _a(s)&&$2(s.length)&&!!Xt[_l(s)]}function zx(s){return function(t){return s(t)}}var U2=typeof Kn=="object"&&Kn&&!Kn.nodeType&&Kn,_c=U2&&typeof Vn=="object"&&Vn&&!Vn.nodeType&&Vn,mO=_c&&_c.exports===U2,Rf=mO&&L2.process,bl=(function(){try{var s=_c&&_c.require&&_c.require("util").types;return s||Rf&&Rf.binding&&Rf.binding("util")}catch{}})(),o1=bl&&bl.isTypedArray,Ux=o1?zx(o1):hO,fO=Object.prototype,pO=fO.hasOwnProperty;function B2(s,t){var n=lo(s),a=!n&&Rp(s),o=!n&&!a&&Fc(s),l=!n&&!a&&!o&&Ux(s),d=n||a||o||l,u=d?I_(s.length,String):[],m=u.length;for(var f in s)(t||pO.call(s,f))&&!(d&&(f=="length"||o&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||D2(f,m)))&&u.push(f);return u}function H2(s,t){return function(n){return s(t(n))}}var xO=H2(Object.keys,Object),gO=Object.prototype,vO=gO.hasOwnProperty;function yO(s){if(!Fx(s))return xO(s);var t=[];for(var n in Object(s))vO.call(s,n)&&n!="constructor"&&t.push(n);return t}function bO(s){return Sh(s)?B2(s):yO(s)}function wO(s){var t=[];if(s!=null)for(var n in Object(s))t.push(n);return t}var jO=Object.prototype,NO=jO.hasOwnProperty;function kO(s){if(!Ci(s))return wO(s);var t=Fx(s),n=[];for(var a in s)a=="constructor"&&(t||!NO.call(s,a))||n.push(a);return n}function W2(s){return Sh(s)?B2(s,!0):kO(s)}var zc=go(Object,"create");function SO(){this.__data__=zc?zc(null):{},this.size=0}function CO(s){var t=this.has(s)&&delete this.__data__[s];return this.size-=t?1:0,t}var EO="__lodash_hash_undefined__",TO=Object.prototype,AO=TO.hasOwnProperty;function PO(s){var t=this.__data__;if(zc){var n=t[s];return n===EO?void 0:n}return AO.call(t,s)?t[s]:void 0}var RO=Object.prototype,_O=RO.hasOwnProperty;function OO(s){var t=this.__data__;return zc?t[s]!==void 0:_O.call(t,s)}var LO="__lodash_hash_undefined__";function IO(s,t){var n=this.__data__;return this.size+=this.has(s)?0:1,n[s]=zc&&t===void 0?LO:t,this}function co(s){var t=-1,n=s==null?0:s.length;for(this.clear();++t<n;){var a=s[t];this.set(a[0],a[1])}}co.prototype.clear=SO;co.prototype.delete=CO;co.prototype.get=PO;co.prototype.has=OO;co.prototype.set=IO;function MO(){this.__data__=[],this.size=0}function Ch(s,t){for(var n=s.length;n--;)if(Xc(s[n][0],t))return n;return-1}var DO=Array.prototype,qO=DO.splice;function $O(s){var t=this.__data__,n=Ch(t,s);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():qO.call(t,n,1),--this.size,!0}function FO(s){var t=this.__data__,n=Ch(t,s);return n<0?void 0:t[n][1]}function zO(s){return Ch(this.__data__,s)>-1}function UO(s,t){var n=this.__data__,a=Ch(n,s);return a<0?(++this.size,n.push([s,t])):n[a][1]=t,this}function Ia(s){var t=-1,n=s==null?0:s.length;for(this.clear();++t<n;){var a=s[t];this.set(a[0],a[1])}}Ia.prototype.clear=MO;Ia.prototype.delete=$O;Ia.prototype.get=FO;Ia.prototype.has=zO;Ia.prototype.set=UO;var Uc=go(ca,"Map");function BO(){this.size=0,this.__data__={hash:new co,map:new(Uc||Ia),string:new co}}function HO(s){var t=typeof s;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?s!=="__proto__":s===null}function Eh(s,t){var n=s.__data__;return HO(t)?n[typeof t=="string"?"string":"hash"]:n.map}function WO(s){var t=Eh(this,s).delete(s);return this.size-=t?1:0,t}function KO(s){return Eh(this,s).get(s)}function VO(s){return Eh(this,s).has(s)}function QO(s,t){var n=Eh(this,s),a=n.size;return n.set(s,t),this.size+=n.size==a?0:1,this}function vo(s){var t=-1,n=s==null?0:s.length;for(this.clear();++t<n;){var a=s[t];this.set(a[0],a[1])}}vo.prototype.clear=BO;vo.prototype.delete=WO;vo.prototype.get=KO;vo.prototype.has=VO;vo.prototype.set=QO;function GO(s,t){for(var n=-1,a=t.length,o=s.length;++n<a;)s[o+n]=t[n];return s}var K2=H2(Object.getPrototypeOf,Object),YO="[object Object]",XO=Function.prototype,ZO=Object.prototype,V2=XO.toString,JO=ZO.hasOwnProperty,eL=V2.call(Object);function tL(s){if(!_a(s)||_l(s)!=YO)return!1;var t=K2(s);if(t===null)return!0;var n=JO.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&V2.call(n)==eL}function sL(){this.__data__=new Ia,this.size=0}function nL(s){var t=this.__data__,n=t.delete(s);return this.size=t.size,n}function rL(s){return this.__data__.get(s)}function aL(s){return this.__data__.has(s)}var iL=200;function oL(s,t){var n=this.__data__;if(n instanceof Ia){var a=n.__data__;if(!Uc||a.length<iL-1)return a.push([s,t]),this.size=++n.size,this;n=this.__data__=new vo(a)}return n.set(s,t),this.size=n.size,this}function aa(s){var t=this.__data__=new Ia(s);this.size=t.size}aa.prototype.clear=sL;aa.prototype.delete=nL;aa.prototype.get=rL;aa.prototype.has=aL;aa.prototype.set=oL;var Q2=typeof Kn=="object"&&Kn&&!Kn.nodeType&&Kn,l1=Q2&&typeof Vn=="object"&&Vn&&!Vn.nodeType&&Vn,lL=l1&&l1.exports===Q2,c1=lL?ca.Buffer:void 0,d1=c1?c1.allocUnsafe:void 0;function G2(s,t){if(t)return s.slice();var n=s.length,a=d1?d1(n):new s.constructor(n);return s.copy(a),a}function cL(s,t){for(var n=-1,a=s==null?0:s.length,o=0,l=[];++n<a;){var d=s[n];t(d,n,s)&&(l[o++]=d)}return l}function dL(){return[]}var uL=Object.prototype,hL=uL.propertyIsEnumerable,u1=Object.getOwnPropertySymbols,mL=u1?function(s){return s==null?[]:(s=Object(s),cL(u1(s),function(t){return hL.call(s,t)}))}:dL;function fL(s,t,n){var a=t(s);return lo(s)?a:GO(a,n(s))}function _p(s){return fL(s,bO,mL)}var Op=go(ca,"DataView"),Lp=go(ca,"Promise"),Ip=go(ca,"Set"),h1="[object Map]",pL="[object Object]",m1="[object Promise]",f1="[object Set]",p1="[object WeakMap]",x1="[object DataView]",xL=xo(Op),gL=xo(Uc),vL=xo(Lp),yL=xo(Ip),bL=xo(Pp),_r=_l;(Op&&_r(new Op(new ArrayBuffer(1)))!=x1||Uc&&_r(new Uc)!=h1||Lp&&_r(Lp.resolve())!=m1||Ip&&_r(new Ip)!=f1||Pp&&_r(new Pp)!=p1)&&(_r=function(s){var t=_l(s),n=t==pL?s.constructor:void 0,a=n?xo(n):"";if(a)switch(a){case xL:return x1;case gL:return h1;case vL:return m1;case yL:return f1;case bL:return p1}return t});var wL=Object.prototype,jL=wL.hasOwnProperty;function NL(s){var t=s.length,n=new s.constructor(t);return t&&typeof s[0]=="string"&&jL.call(s,"index")&&(n.index=s.index,n.input=s.input),n}var Gu=ca.Uint8Array;function Bx(s){var t=new s.constructor(s.byteLength);return new Gu(t).set(new Gu(s)),t}function kL(s,t){var n=Bx(s.buffer);return new s.constructor(n,s.byteOffset,s.byteLength)}var SL=/\w*$/;function CL(s){var t=new s.constructor(s.source,SL.exec(s));return t.lastIndex=s.lastIndex,t}var g1=Ni?Ni.prototype:void 0,v1=g1?g1.valueOf:void 0;function EL(s){return v1?Object(v1.call(s)):{}}function Y2(s,t){var n=t?Bx(s.buffer):s.buffer;return new s.constructor(n,s.byteOffset,s.length)}var TL="[object Boolean]",AL="[object Date]",PL="[object Map]",RL="[object Number]",_L="[object RegExp]",OL="[object Set]",LL="[object String]",IL="[object Symbol]",ML="[object ArrayBuffer]",DL="[object DataView]",qL="[object Float32Array]",$L="[object Float64Array]",FL="[object Int8Array]",zL="[object Int16Array]",UL="[object Int32Array]",BL="[object Uint8Array]",HL="[object Uint8ClampedArray]",WL="[object Uint16Array]",KL="[object Uint32Array]";function VL(s,t,n){var a=s.constructor;switch(t){case ML:return Bx(s);case TL:case AL:return new a(+s);case DL:return kL(s);case qL:case $L:case FL:case zL:case UL:case BL:case HL:case WL:case KL:return Y2(s,n);case PL:return new a;case RL:case LL:return new a(s);case _L:return CL(s);case OL:return new a;case IL:return EL(s)}}function X2(s){return typeof s.constructor=="function"&&!Fx(s)?m_(K2(s)):{}}var QL="[object Map]";function GL(s){return _a(s)&&_r(s)==QL}var y1=bl&&bl.isMap,YL=y1?zx(y1):GL,XL="[object Set]";function ZL(s){return _a(s)&&_r(s)==XL}var b1=bl&&bl.isSet,JL=b1?zx(b1):ZL,eI=1,Z2="[object Arguments]",tI="[object Array]",sI="[object Boolean]",nI="[object Date]",rI="[object Error]",J2="[object Function]",aI="[object GeneratorFunction]",iI="[object Map]",oI="[object Number]",e4="[object Object]",lI="[object RegExp]",cI="[object Set]",dI="[object String]",uI="[object Symbol]",hI="[object WeakMap]",mI="[object ArrayBuffer]",fI="[object DataView]",pI="[object Float32Array]",xI="[object Float64Array]",gI="[object Int8Array]",vI="[object Int16Array]",yI="[object Int32Array]",bI="[object Uint8Array]",wI="[object Uint8ClampedArray]",jI="[object Uint16Array]",NI="[object Uint32Array]",Wt={};Wt[Z2]=Wt[tI]=Wt[mI]=Wt[fI]=Wt[sI]=Wt[nI]=Wt[pI]=Wt[xI]=Wt[gI]=Wt[vI]=Wt[yI]=Wt[iI]=Wt[oI]=Wt[e4]=Wt[lI]=Wt[cI]=Wt[dI]=Wt[uI]=Wt[bI]=Wt[wI]=Wt[jI]=Wt[NI]=!0;Wt[rI]=Wt[J2]=Wt[hI]=!1;function Tu(s,t,n,a,o,l){var d,u=t&eI;if(d!==void 0)return d;if(!Ci(s))return s;var m=lo(s);if(m)d=NL(s);else{var f=_r(s),y=f==J2||f==aI;if(Fc(s))return G2(s,u);if(f==e4||f==Z2||y&&!o)d=y?{}:X2(s);else{if(!Wt[f])return o?s:{};d=VL(s,f,u)}}l||(l=new aa);var v=l.get(s);if(v)return v;l.set(s,d),JL(s)?s.forEach(function(S){d.add(Tu(S,t,n,S,s,l))}):YL(s)&&s.forEach(function(S,b){d.set(b,Tu(S,t,n,b,s,l))});var g=_p,N=m?void 0:g(s);return N_(N||s,function(S,b){N&&(b=S,S=s[b]),q2(d,b,Tu(S,t,n,b,s,l))}),d}var kI=1,SI=4;function dl(s){return Tu(s,kI|SI)}var CI="__lodash_hash_undefined__";function EI(s){return this.__data__.set(s,CI),this}function TI(s){return this.__data__.has(s)}function Yu(s){var t=-1,n=s==null?0:s.length;for(this.__data__=new vo;++t<n;)this.add(s[t])}Yu.prototype.add=Yu.prototype.push=EI;Yu.prototype.has=TI;function AI(s,t){for(var n=-1,a=s==null?0:s.length;++n<a;)if(t(s[n],n,s))return!0;return!1}function PI(s,t){return s.has(t)}var RI=1,_I=2;function t4(s,t,n,a,o,l){var d=n&RI,u=s.length,m=t.length;if(u!=m&&!(d&&m>u))return!1;var f=l.get(s),y=l.get(t);if(f&&y)return f==t&&y==s;var v=-1,g=!0,N=n&_I?new Yu:void 0;for(l.set(s,t),l.set(t,s);++v<u;){var S=s[v],b=t[v];if(a)var k=d?a(b,S,v,t,s,l):a(S,b,v,s,t,l);if(k!==void 0){if(k)continue;g=!1;break}if(N){if(!AI(t,function(P,R){if(!PI(N,R)&&(S===P||o(S,P,n,a,l)))return N.push(R)})){g=!1;break}}else if(!(S===b||o(S,b,n,a,l))){g=!1;break}}return l.delete(s),l.delete(t),g}function OI(s){var t=-1,n=Array(s.size);return s.forEach(function(a,o){n[++t]=[o,a]}),n}function LI(s){var t=-1,n=Array(s.size);return s.forEach(function(a){n[++t]=a}),n}var II=1,MI=2,DI="[object Boolean]",qI="[object Date]",$I="[object Error]",FI="[object Map]",zI="[object Number]",UI="[object RegExp]",BI="[object Set]",HI="[object String]",WI="[object Symbol]",KI="[object ArrayBuffer]",VI="[object DataView]",w1=Ni?Ni.prototype:void 0,_f=w1?w1.valueOf:void 0;function QI(s,t,n,a,o,l,d){switch(n){case VI:if(s.byteLength!=t.byteLength||s.byteOffset!=t.byteOffset)return!1;s=s.buffer,t=t.buffer;case KI:return!(s.byteLength!=t.byteLength||!l(new Gu(s),new Gu(t)));case DI:case qI:case zI:return Xc(+s,+t);case $I:return s.name==t.name&&s.message==t.message;case UI:case HI:return s==t+"";case FI:var u=OI;case BI:var m=a&II;if(u||(u=LI),s.size!=t.size&&!m)return!1;var f=d.get(s);if(f)return f==t;a|=MI,d.set(s,t);var y=t4(u(s),u(t),a,o,l,d);return d.delete(s),y;case WI:if(_f)return _f.call(s)==_f.call(t)}return!1}var GI=1,YI=Object.prototype,XI=YI.hasOwnProperty;function ZI(s,t,n,a,o,l){var d=n&GI,u=_p(s),m=u.length,f=_p(t),y=f.length;if(m!=y&&!d)return!1;for(var v=m;v--;){var g=u[v];if(!(d?g in t:XI.call(t,g)))return!1}var N=l.get(s),S=l.get(t);if(N&&S)return N==t&&S==s;var b=!0;l.set(s,t),l.set(t,s);for(var k=d;++v<m;){g=u[v];var P=s[g],R=t[g];if(a)var T=d?a(R,P,g,t,s,l):a(P,R,g,s,t,l);if(!(T===void 0?P===R||o(P,R,n,a,l):T)){b=!1;break}k||(k=g=="constructor")}if(b&&!k){var O=s.constructor,H=t.constructor;O!=H&&"constructor"in s&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof H=="function"&&H instanceof H)&&(b=!1)}return l.delete(s),l.delete(t),b}var JI=1,j1="[object Arguments]",N1="[object Array]",lu="[object Object]",e8=Object.prototype,k1=e8.hasOwnProperty;function t8(s,t,n,a,o,l){var d=lo(s),u=lo(t),m=d?N1:_r(s),f=u?N1:_r(t);m=m==j1?lu:m,f=f==j1?lu:f;var y=m==lu,v=f==lu,g=m==f;if(g&&Fc(s)){if(!Fc(t))return!1;d=!0,y=!1}if(g&&!y)return l||(l=new aa),d||Ux(s)?t4(s,t,n,a,o,l):QI(s,t,m,n,a,o,l);if(!(n&JI)){var N=y&&k1.call(s,"__wrapped__"),S=v&&k1.call(t,"__wrapped__");if(N||S){var b=N?s.value():s,k=S?t.value():t;return l||(l=new aa),o(b,k,n,a,l)}}return g?(l||(l=new aa),ZI(s,t,n,a,o,l)):!1}function s4(s,t,n,a,o){return s===t?!0:s==null||t==null||!_a(s)&&!_a(t)?s!==s&&t!==t:t8(s,t,n,a,s4,o)}function s8(s){return function(t,n,a){for(var o=-1,l=Object(t),d=a(t),u=d.length;u--;){var m=d[++o];if(n(l[m],m,l)===!1)break}return t}}var n8=s8();function Mp(s,t,n){(n!==void 0&&!Xc(s[t],n)||n===void 0&&!(t in s))&&$x(s,t,n)}function r8(s){return _a(s)&&Sh(s)}function Dp(s,t){if(!(t==="constructor"&&typeof s[t]=="function")&&t!="__proto__")return s[t]}function a8(s){return T_(s,W2(s))}function i8(s,t,n,a,o,l,d){var u=Dp(s,n),m=Dp(t,n),f=d.get(m);if(f){Mp(s,n,f);return}var y=l?l(u,m,n+"",s,t,d):void 0,v=y===void 0;if(v){var g=lo(m),N=!g&&Fc(m),S=!g&&!N&&Ux(m);y=m,g||N||S?lo(u)?y=u:r8(u)?y=p_(u):N?(v=!1,y=G2(m,!0)):S?(v=!1,y=Y2(m,!0)):y=[]:tL(m)||Rp(m)?(y=u,Rp(u)?y=a8(u):(!Ci(u)||qx(u))&&(y=X2(m))):v=!1}v&&(d.set(m,y),o(y,m,a,l,d),d.delete(m)),Mp(s,n,y)}function n4(s,t,n,a,o){s!==t&&n8(t,function(l,d){if(o||(o=new aa),Ci(l))i8(s,t,d,n,n4,a,o);else{var u=a?a(Dp(s,d),l,d+"",s,t,o):void 0;u===void 0&&(u=l),Mp(s,d,u)}},W2)}function di(s,t){return s4(s,t)}var fi=O_(function(s,t,n){n4(s,t,n)}),Ge=(s=>(s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY",s))(Ge||{});class oa{constructor(t,n,a={}){this.attrName=t,this.keyName=n;const o=Ge.TYPE&Ge.ATTRIBUTE;this.scope=a.scope!=null?a.scope&Ge.LEVEL|o:Ge.ATTRIBUTE,a.whitelist!=null&&(this.whitelist=a.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return this.canAdd(t,n)?(t.setAttribute(this.keyName,n),!0):!1}canAdd(t,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class ul extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const r4=class qp{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let a=null;try{a=t.parentNode}catch{return null}return this.find(a,n)}return null}create(t,n,a){const o=this.query(n);if(o==null)throw new ul(`Unable to create ${n} blot`);const l=o,d=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:l.create(a),u=new l(t,d,a);return qp.blots.set(u.domNode,u),u}find(t,n=!1){return qp.find(t,n)}query(t,n=Ge.ANY){let a;return typeof t=="string"?a=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?a=this.types.text:typeof t=="number"?t&Ge.LEVEL&Ge.BLOCK?a=this.types.block:t&Ge.LEVEL&Ge.INLINE&&(a=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(o=>(a=this.classes[o],!!a)),a=a||this.tags[t.tagName]),a==null?null:"scope"in a&&n&Ge.LEVEL&a.scope&&n&Ge.TYPE&a.scope?a:null}register(...t){return t.map(n=>{const a="blotName"in n,o="attrName"in n;if(!a&&!o)throw new ul("Invalid definition");if(a&&n.blotName==="abstract")throw new ul("Cannot register abstract class");const l=a?n.blotName:o?n.attrName:void 0;return this.types[l]=n,o?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):a&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(d=>d.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(d=>{(this.tags[d]==null||n.className==null)&&(this.tags[d]=n)}))),n})}};r4.blots=new WeakMap;let wl=r4;function S1(s,t){return(s.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${t}-`)===0)}class o8 extends oa{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(t,n){return this.canAdd(t,n)?(this.remove(t),t.classList.add(`${this.keyName}-${n}`),!0):!1}remove(t){S1(t,this.keyName).forEach(n=>{t.classList.remove(n)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const n=(S1(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,n)?n:""}}const Fr=o8;function Of(s){const t=s.split("-"),n=t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("");return t[0]+n}class l8 extends oa{static keys(t){return(t.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(t,n){return this.canAdd(t,n)?(t.style[Of(this.keyName)]=n,!0):!1}remove(t){t.style[Of(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const n=t.style[Of(this.keyName)];return this.canAdd(t,n)?n:""}}const Ei=l8;class c8{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,n){n?t.add(this.domNode,n)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=wl.find(this.domNode);if(t==null)return;const n=oa.keys(this.domNode),a=Fr.keys(this.domNode),o=Ei.keys(this.domNode);n.concat(a).concat(o).forEach(l=>{const d=t.scroll.query(l,Ge.ATTRIBUTE);d instanceof oa&&(this.attributes[d.attrName]=d)})}copy(t){Object.keys(this.attributes).forEach(n=>{const a=this.attributes[n].value(this.domNode);t.format(n,a)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,n)=>(t[n]=this.attributes[n].value(this.domNode),t),{})}}const Th=c8,a4=class{constructor(t,n){this.scroll=t,this.domNode=n,wl.blots.set(n,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new ul("Blot definition missing tagName");let n,a;return Array.isArray(this.tagName)?(typeof t=="string"?(a=t.toUpperCase(),parseInt(a,10).toString()===a&&(a=parseInt(a,10))):typeof t=="number"&&(a=t),typeof a=="number"?n=document.createElement(this.tagName[a-1]):a&&this.tagName.indexOf(a)>-1?n=document.createElement(a):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),wl.blots.delete(this.domNode)}deleteAt(t,n){this.isolate(t,n).remove()}formatAt(t,n,a,o){const l=this.isolate(t,n);if(this.scroll.query(a,Ge.BLOT)!=null&&o)l.wrap(a,o);else if(this.scroll.query(a,Ge.ATTRIBUTE)!=null){const d=this.scroll.create(this.statics.scope);l.wrap(d),d.format(a,o)}}insertAt(t,n,a){const o=a==null?this.scroll.create("text",n):this.scroll.create(n,a),l=this.split(t);this.parent.insertBefore(o,l||void 0)}isolate(t,n){const a=this.split(t);if(a==null)throw new Error("Attempt to isolate at end");return a.split(n),a}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,n){const a=typeof t=="string"?this.scroll.create(t,n):t;return this.parent!=null&&(this.parent.insertBefore(a,this.next||void 0),this.remove()),a}split(t,n){return t===0?this:this.next}update(t,n){}wrap(t,n){const a=typeof t=="string"?this.scroll.create(t,n):t;if(this.parent!=null&&this.parent.insertBefore(a,this.next||void 0),typeof a.appendChild!="function")throw new ul(`Cannot wrap ${t}`);return a.appendChild(this),a}};a4.blotName="abstract";let i4=a4;const o4=class extends i4{static value(t){return!0}index(t,n){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(t,n){let a=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(a+=1),[this.parent.domNode,a]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};o4.scope=Ge.INLINE_BLOT;let d8=o4;const sn=d8;class u8{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let a=n();for(;a&&t>0;)t-=1,a=n();return a}contains(t){const n=this.iterator();let a=n();for(;a;){if(a===t)return!0;a=n()}return!1}indexOf(t){const n=this.iterator();let a=n(),o=0;for(;a;){if(a===t)return o;o+=1,a=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,a=this.head;for(;a!=null;){if(a===t)return n;n+=a.length(),a=a.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const a=this.iterator();let o=a();for(;o;){const l=o.length();if(t<l||n&&t===l&&(o.next==null||o.next.length()!==0))return[o,t];t-=l,o=a()}return[null,0]}forEach(t){const n=this.iterator();let a=n();for(;a;)t(a),a=n()}forEachAt(t,n,a){if(n<=0)return;const[o,l]=this.find(t);let d=t-l;const u=this.iterator(o);let m=u();for(;m&&d<t+n;){const f=m.length();t>d?a(m,t-d,Math.min(n,d+f-t)):a(m,0,Math.min(f,t+n-d)),d+=f,m=u()}}map(t){return this.reduce((n,a)=>(n.push(t(a)),n),[])}reduce(t,n){const a=this.iterator();let o=a();for(;o;)n=t(n,o),o=a();return n}}function C1(s,t){const n=t.find(s);if(n)return n;try{return t.create(s)}catch{const a=t.create(Ge.INLINE);return Array.from(s.childNodes).forEach(o=>{a.domNode.appendChild(o)}),s.parentNode&&s.parentNode.replaceChild(a.domNode,s),a.attach(),a}}const l4=class ci extends i4{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,ci.uiClass&&this.uiNode.classList.add(ci.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new u8,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=C1(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof ul)return;throw n}})}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,(a,o,l)=>{a.deleteAt(o,l)})}descendant(t,n=0){const[a,o]=this.children.find(n);return t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t?[a,o]:a instanceof ci?a.descendant(t,o):[null,-1]}descendants(t,n=0,a=Number.MAX_VALUE){let o=[],l=a;return this.children.forEachAt(n,a,(d,u,m)=>{(t.blotName==null&&t(d)||t.blotName!=null&&d instanceof t)&&o.push(d),d instanceof ci&&(o=o.concat(d.descendants(t,u,l))),l-=m}),o}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(a=>n instanceof a)||(n.statics.scope===Ge.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof ci?n.unwrap():n.remove())})}formatAt(t,n,a,o){this.children.forEachAt(t,n,(l,d,u)=>{l.formatAt(d,u,a,o)})}insertAt(t,n,a){const[o,l]=this.children.find(t);if(o)o.insertAt(l,n,a);else{const d=a==null?this.scroll.create("text",n):this.scroll.create(n,a);this.appendChild(d)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let a=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(a=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==a)&&this.domNode.insertBefore(t.domNode,a),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(a=>{t.insertBefore(a,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[a,o]=this.children.find(t,n),l=[[this,t]];return a instanceof ci?l.concat(a.path(o,n)):(a!=null&&l.push([a,o]),l)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const a=typeof t=="string"?this.scroll.create(t,n):t;return a instanceof ci&&this.moveChildren(a),super.replaceWith(a)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const a=this.clone();return this.parent&&this.parent.insertBefore(a,this.next||void 0),this.children.forEachAt(t,this.length(),(o,l,d)=>{const u=o.split(l,n);u!=null&&a.appendChild(u)}),a}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const a=[],o=[];t.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(a.push(...l.addedNodes),o.push(...l.removedNodes))}),o.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const d=this.scroll.find(l);d!=null&&(d.domNode.parentNode==null||d.domNode.parentNode===this.domNode)&&d.detach()}),a.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,d)=>l===d?0:l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let d=null;l.nextSibling!=null&&(d=this.scroll.find(l.nextSibling));const u=C1(l,this.scroll);(u.next!==d||u.next==null)&&(u.parent!=null&&u.parent.removeChild(this),this.insertBefore(u,d||void 0))}),this.enforceAllowedChildren()}};l4.uiClass="";let h8=l4;const Ir=h8;function m8(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(const n in s)if(s[n]!==t[n])return!1;return!0}const Yo=class Xo extends Ir{static create(t){return super.create(t)}static formats(t,n){const a=n.query(Xo.blotName);if(!(a!=null&&t.tagName===a.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Th(this.domNode)}format(t,n){if(t===this.statics.blotName&&!n)this.children.forEach(a=>{a instanceof Xo||(a=a.wrap(Xo.blotName,!0)),this.attributes.copy(a)}),this.unwrap();else{const a=this.scroll.query(t,Ge.INLINE);if(a==null)return;a instanceof oa?this.attributes.attribute(a,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,a,o){this.formats()[a]!=null||this.scroll.query(a,Ge.ATTRIBUTE)?this.isolate(t,n).format(a,o):super.formatAt(t,n,a,o)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const a=this.next;a instanceof Xo&&a.prev===this&&m8(n,a.formats())&&(a.moveChildren(this),a.remove())}replaceWith(t,n){const a=super.replaceWith(t,n);return this.attributes.copy(a),a}update(t,n){super.update(t,n),t.some(a=>a.target===this.domNode&&a.type==="attributes")&&this.attributes.build()}wrap(t,n){const a=super.wrap(t,n);return a instanceof Xo&&this.attributes.move(a),a}};Yo.allowedChildren=[Yo,sn],Yo.blotName="inline",Yo.scope=Ge.INLINE_BLOT,Yo.tagName="SPAN";let f8=Yo;const Hx=f8,Zo=class $p extends Ir{static create(t){return super.create(t)}static formats(t,n){const a=n.query($p.blotName);if(!(a!=null&&t.tagName===a.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Th(this.domNode)}format(t,n){const a=this.scroll.query(t,Ge.BLOCK);a!=null&&(a instanceof oa?this.attributes.attribute(a,n):t===this.statics.blotName&&!n?this.replaceWith($p.blotName):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,a,o){this.scroll.query(a,Ge.BLOCK)!=null?this.format(a,o):super.formatAt(t,n,a,o)}insertAt(t,n,a){if(a==null||this.scroll.query(n,Ge.INLINE)!=null)super.insertAt(t,n,a);else{const o=this.split(t);if(o!=null){const l=this.scroll.create(n,a);o.parent.insertBefore(l,o)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,n){const a=super.replaceWith(t,n);return this.attributes.copy(a),a}update(t,n){super.update(t,n),t.some(a=>a.target===this.domNode&&a.type==="attributes")&&this.attributes.build()}};Zo.blotName="block",Zo.scope=Ge.BLOCK_BLOT,Zo.tagName="P",Zo.allowedChildren=[Hx,Zo,sn];let p8=Zo;const Bc=p8,Fp=class extends Ir{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,n){super.deleteAt(t,n),this.enforceAllowedChildren()}formatAt(t,n,a,o){super.formatAt(t,n,a,o),this.enforceAllowedChildren()}insertAt(t,n,a){super.insertAt(t,n,a),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Fp.blotName="container",Fp.scope=Ge.BLOCK_BLOT;let x8=Fp;const Ah=x8;class g8 extends sn{static formats(t,n){}format(t,n){super.formatAt(0,this.length(),t,n)}formatAt(t,n,a,o){t===0&&n===this.length()?this.format(a,o):super.formatAt(t,n,a,o)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Xn=g8,v8={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},y8=100,Jo=class extends Ir{constructor(t,n){super(null,n),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(a=>{this.update(a)}),this.observer.observe(this.domNode,v8),this.attach()}create(t,n){return this.registry.create(this,t,n)}find(t,n=!1){const a=this.registry.find(t,n);return a?a.scroll===this?a:n?this.find(a.scroll.domNode.parentNode,!0):null:null}query(t,n=Ge.ANY){return this.registry.query(t,n)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,n){this.update(),t===0&&n===this.length()?this.children.forEach(a=>{a.remove()}):super.deleteAt(t,n)}formatAt(t,n,a,o){this.update(),super.formatAt(t,n,a,o)}insertAt(t,n,a){this.update(),super.insertAt(t,n,a)}optimize(t=[],n={}){super.optimize(n);const a=n.mutationsMap||new WeakMap;let o=Array.from(this.observer.takeRecords());for(;o.length>0;)t.push(o.pop());const l=(m,f=!0)=>{m==null||m===this||m.domNode.parentNode!=null&&(a.has(m.domNode)||a.set(m.domNode,[]),f&&l(m.parent))},d=m=>{a.has(m.domNode)&&(m instanceof Ir&&m.children.forEach(d),a.delete(m.domNode),m.optimize(n))};let u=t;for(let m=0;u.length>0;m+=1){if(m>=y8)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(f=>{const y=this.find(f.target,!0);y!=null&&(y.domNode===f.target&&(f.type==="childList"?(l(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(v=>{const g=this.find(v,!1);l(g,!1),g instanceof Ir&&g.children.forEach(N=>{l(N,!1)})})):f.type==="attributes"&&l(y.prev)),l(y))}),this.children.forEach(d),u=Array.from(this.observer.takeRecords()),o=u.slice();o.length>0;)t.push(o.pop())}}update(t,n={}){t=t||this.observer.takeRecords();const a=new WeakMap;t.map(o=>{const l=this.find(o.target,!0);return l==null?null:a.has(l.domNode)?(a.get(l.domNode).push(o),null):(a.set(l.domNode,[o]),l)}).forEach(o=>{o!=null&&o!==this&&a.has(o.domNode)&&o.update(a.get(o.domNode)||[],n)}),n.mutationsMap=a,a.has(this.domNode)&&super.update(a.get(this.domNode),n),this.optimize(t,n)}};Jo.blotName="scroll",Jo.defaultChild=Bc,Jo.allowedChildren=[Bc,Ah],Jo.scope=Ge.BLOCK_BLOT,Jo.tagName="DIV";let b8=Jo;const Wx=b8,zp=class c4 extends sn{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,a){a==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,a)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c4&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const a=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(a,this.next||void 0),this.text=this.statics.value(this.domNode),a}update(t,n){t.some(a=>a.type==="characterData"&&a.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};zp.blotName="text",zp.scope=Ge.INLINE_BLOT;let w8=zp;const Xu=w8,j8=Object.freeze(Object.defineProperty({__proto__:null,Attributor:oa,AttributorStore:Th,BlockBlot:Bc,ClassAttributor:Fr,ContainerBlot:Ah,EmbedBlot:Xn,InlineBlot:Hx,LeafBlot:sn,ParentBlot:Ir,Registry:wl,Scope:Ge,ScrollBlot:Wx,StyleAttributor:Ei,TextBlot:Xu},Symbol.toStringTag,{value:"Module"}));var cu={exports:{}},Lf,E1;function N8(){if(E1)return Lf;E1=1;var s=-1,t=1,n=0;function a(I,X,$,Q,ne){if(I===X)return I?[[n,I]]:[];if($!=null){var F=W(I,X,$);if(F)return F}var C=u(I,X),E=I.substring(0,C);I=I.substring(C),X=X.substring(C),C=f(I,X);var G=I.substring(I.length-C);I=I.substring(0,I.length-C),X=X.substring(0,X.length-C);var Y=o(I,X);return E&&Y.unshift([n,E]),G&&Y.push([n,G]),R(Y,ne),Q&&v(Y),Y}function o(I,X){var $;if(!I)return[[t,X]];if(!X)return[[s,I]];var Q=I.length>X.length?I:X,ne=I.length>X.length?X:I,F=Q.indexOf(ne);if(F!==-1)return $=[[t,Q.substring(0,F)],[n,ne],[t,Q.substring(F+ne.length)]],I.length>X.length&&($[0][0]=$[2][0]=s),$;if(ne.length===1)return[[s,I],[t,X]];var C=y(I,X);if(C){var E=C[0],G=C[1],Y=C[2],q=C[3],ee=C[4],xe=a(E,Y),U=a(G,q);return xe.concat([[n,ee]],U)}return l(I,X)}function l(I,X){for(var $=I.length,Q=X.length,ne=Math.ceil(($+Q)/2),F=ne,C=2*ne,E=new Array(C),G=new Array(C),Y=0;Y<C;Y++)E[Y]=-1,G[Y]=-1;E[F+1]=0,G[F+1]=0;for(var q=$-Q,ee=q%2!==0,xe=0,U=0,_=0,D=0,oe=0;oe<ne;oe++){for(var ue=-oe+xe;ue<=oe-U;ue+=2){var ke=F+ue,ye;ue===-oe||ue!==oe&&E[ke-1]<E[ke+1]?ye=E[ke+1]:ye=E[ke-1]+1;for(var Ee=ye-ue;ye<$&&Ee<Q&&I.charAt(ye)===X.charAt(Ee);)ye++,Ee++;if(E[ke]=ye,ye>$)U+=2;else if(Ee>Q)xe+=2;else if(ee){var De=F+q-ue;if(De>=0&&De<C&&G[De]!==-1){var Ve=$-G[De];if(ye>=Ve)return d(I,X,ye,Ee)}}}for(var Xe=-oe+_;Xe<=oe-D;Xe+=2){var De=F+Xe,Ve;Xe===-oe||Xe!==oe&&G[De-1]<G[De+1]?Ve=G[De+1]:Ve=G[De-1]+1;for(var ut=Ve-Xe;Ve<$&&ut<Q&&I.charAt($-Ve-1)===X.charAt(Q-ut-1);)Ve++,ut++;if(G[De]=Ve,Ve>$)D+=2;else if(ut>Q)_+=2;else if(!ee){var ke=F+q-Xe;if(ke>=0&&ke<C&&E[ke]!==-1){var ye=E[ke],Ee=F+ye-ke;if(Ve=$-Ve,ye>=Ve)return d(I,X,ye,Ee)}}}}return[[s,I],[t,X]]}function d(I,X,$,Q){var ne=I.substring(0,$),F=X.substring(0,Q),C=I.substring($),E=X.substring(Q),G=a(ne,F),Y=a(C,E);return G.concat(Y)}function u(I,X){if(!I||!X||I.charAt(0)!==X.charAt(0))return 0;for(var $=0,Q=Math.min(I.length,X.length),ne=Q,F=0;$<ne;)I.substring(F,ne)==X.substring(F,ne)?($=ne,F=$):Q=ne,ne=Math.floor((Q-$)/2+$);return T(I.charCodeAt(ne-1))&&ne--,ne}function m(I,X){var $=I.length,Q=X.length;if($==0||Q==0)return 0;$>Q?I=I.substring($-Q):$<Q&&(X=X.substring(0,$));var ne=Math.min($,Q);if(I==X)return ne;for(var F=0,C=1;;){var E=I.substring(ne-C),G=X.indexOf(E);if(G==-1)return F;C+=G,(G==0||I.substring(ne-C)==X.substring(0,C))&&(F=C,C++)}}function f(I,X){if(!I||!X||I.slice(-1)!==X.slice(-1))return 0;for(var $=0,Q=Math.min(I.length,X.length),ne=Q,F=0;$<ne;)I.substring(I.length-ne,I.length-F)==X.substring(X.length-ne,X.length-F)?($=ne,F=$):Q=ne,ne=Math.floor((Q-$)/2+$);return O(I.charCodeAt(I.length-ne))&&ne--,ne}function y(I,X){var $=I.length>X.length?I:X,Q=I.length>X.length?X:I;if($.length<4||Q.length*2<$.length)return null;function ne(U,_,D){for(var oe=U.substring(D,D+Math.floor(U.length/4)),ue=-1,ke="",ye,Ee,De,Ve;(ue=_.indexOf(oe,ue+1))!==-1;){var Xe=u(U.substring(D),_.substring(ue)),ut=f(U.substring(0,D),_.substring(0,ue));ke.length<ut+Xe&&(ke=_.substring(ue-ut,ue)+_.substring(ue,ue+Xe),ye=U.substring(0,D-ut),Ee=U.substring(D+Xe),De=_.substring(0,ue-ut),Ve=_.substring(ue+Xe))}return ke.length*2>=U.length?[ye,Ee,De,Ve,ke]:null}var F=ne($,Q,Math.ceil($.length/4)),C=ne($,Q,Math.ceil($.length/2)),E;if(!F&&!C)return null;C?F?E=F[4].length>C[4].length?F:C:E=C:E=F;var G,Y,q,ee;I.length>X.length?(G=E[0],Y=E[1],q=E[2],ee=E[3]):(q=E[0],ee=E[1],G=E[2],Y=E[3]);var xe=E[4];return[G,Y,q,ee,xe]}function v(I){for(var X=!1,$=[],Q=0,ne=null,F=0,C=0,E=0,G=0,Y=0;F<I.length;)I[F][0]==n?($[Q++]=F,C=G,E=Y,G=0,Y=0,ne=I[F][1]):(I[F][0]==t?G+=I[F][1].length:Y+=I[F][1].length,ne&&ne.length<=Math.max(C,E)&&ne.length<=Math.max(G,Y)&&(I.splice($[Q-1],0,[s,ne]),I[$[Q-1]+1][0]=t,Q--,Q--,F=Q>0?$[Q-1]:-1,C=0,E=0,G=0,Y=0,ne=null,X=!0)),F++;for(X&&R(I),P(I),F=1;F<I.length;){if(I[F-1][0]==s&&I[F][0]==t){var q=I[F-1][1],ee=I[F][1],xe=m(q,ee),U=m(ee,q);xe>=U?(xe>=q.length/2||xe>=ee.length/2)&&(I.splice(F,0,[n,ee.substring(0,xe)]),I[F-1][1]=q.substring(0,q.length-xe),I[F+1][1]=ee.substring(xe),F++):(U>=q.length/2||U>=ee.length/2)&&(I.splice(F,0,[n,q.substring(0,U)]),I[F-1][0]=t,I[F-1][1]=ee.substring(0,ee.length-U),I[F+1][0]=s,I[F+1][1]=q.substring(U),F++),F++}F++}}var g=/[^a-zA-Z0-9]/,N=/\s/,S=/[\r\n]/,b=/\n\r?\n$/,k=/^\r?\n\r?\n/;function P(I){function X(U,_){if(!U||!_)return 6;var D=U.charAt(U.length-1),oe=_.charAt(0),ue=D.match(g),ke=oe.match(g),ye=ue&&D.match(N),Ee=ke&&oe.match(N),De=ye&&D.match(S),Ve=Ee&&oe.match(S),Xe=De&&U.match(b),ut=Ve&&_.match(k);return Xe||ut?5:De||Ve?4:ue&&!ye&&Ee?3:ye||Ee?2:ue||ke?1:0}for(var $=1;$<I.length-1;){if(I[$-1][0]==n&&I[$+1][0]==n){var Q=I[$-1][1],ne=I[$][1],F=I[$+1][1],C=f(Q,ne);if(C){var E=ne.substring(ne.length-C);Q=Q.substring(0,Q.length-C),ne=E+ne.substring(0,ne.length-C),F=E+F}for(var G=Q,Y=ne,q=F,ee=X(Q,ne)+X(ne,F);ne.charAt(0)===F.charAt(0);){Q+=ne.charAt(0),ne=ne.substring(1)+F.charAt(0),F=F.substring(1);var xe=X(Q,ne)+X(ne,F);xe>=ee&&(ee=xe,G=Q,Y=ne,q=F)}I[$-1][1]!=G&&(G?I[$-1][1]=G:(I.splice($-1,1),$--),I[$][1]=Y,q?I[$+1][1]=q:(I.splice($+1,1),$--))}$++}}function R(I,X){I.push([n,""]);for(var $=0,Q=0,ne=0,F="",C="",E;$<I.length;){if($<I.length-1&&!I[$][1]){I.splice($,1);continue}switch(I[$][0]){case t:ne++,C+=I[$][1],$++;break;case s:Q++,F+=I[$][1],$++;break;case n:var G=$-ne-Q-1;if(X){if(G>=0&&se(I[G][1])){var Y=I[G][1].slice(-1);if(I[G][1]=I[G][1].slice(0,-1),F=Y+F,C=Y+C,!I[G][1]){I.splice(G,1),$--;var q=G-1;I[q]&&I[q][0]===t&&(ne++,C=I[q][1]+C,q--),I[q]&&I[q][0]===s&&(Q++,F=I[q][1]+F,q--),G=q}}if(H(I[$][1])){var Y=I[$][1].charAt(0);I[$][1]=I[$][1].slice(1),F+=Y,C+=Y}}if($<I.length-1&&!I[$][1]){I.splice($,1);break}if(F.length>0||C.length>0){F.length>0&&C.length>0&&(E=u(C,F),E!==0&&(G>=0?I[G][1]+=C.substring(0,E):(I.splice(0,0,[n,C.substring(0,E)]),$++),C=C.substring(E),F=F.substring(E)),E=f(C,F),E!==0&&(I[$][1]=C.substring(C.length-E)+I[$][1],C=C.substring(0,C.length-E),F=F.substring(0,F.length-E)));var ee=ne+Q;F.length===0&&C.length===0?(I.splice($-ee,ee),$=$-ee):F.length===0?(I.splice($-ee,ee,[t,C]),$=$-ee+1):C.length===0?(I.splice($-ee,ee,[s,F]),$=$-ee+1):(I.splice($-ee,ee,[s,F],[t,C]),$=$-ee+2)}$!==0&&I[$-1][0]===n?(I[$-1][1]+=I[$][1],I.splice($,1)):$++,ne=0,Q=0,F="",C="";break}}I[I.length-1][1]===""&&I.pop();var xe=!1;for($=1;$<I.length-1;)I[$-1][0]===n&&I[$+1][0]===n&&(I[$][1].substring(I[$][1].length-I[$-1][1].length)===I[$-1][1]?(I[$][1]=I[$-1][1]+I[$][1].substring(0,I[$][1].length-I[$-1][1].length),I[$+1][1]=I[$-1][1]+I[$+1][1],I.splice($-1,1),xe=!0):I[$][1].substring(0,I[$+1][1].length)==I[$+1][1]&&(I[$-1][1]+=I[$+1][1],I[$][1]=I[$][1].substring(I[$+1][1].length)+I[$+1][1],I.splice($+1,1),xe=!0)),$++;xe&&R(I,X)}function T(I){return I>=55296&&I<=56319}function O(I){return I>=56320&&I<=57343}function H(I){return O(I.charCodeAt(0))}function se(I){return T(I.charCodeAt(I.length-1))}function K(I){for(var X=[],$=0;$<I.length;$++)I[$][1].length>0&&X.push(I[$]);return X}function re(I,X,$,Q){return se(I)||H(Q)?null:K([[n,I],[s,X],[t,$],[n,Q]])}function W(I,X,$){var Q=typeof $=="number"?{index:$,length:0}:$.oldRange,ne=typeof $=="number"?null:$.newRange,F=I.length,C=X.length;if(Q.length===0&&(ne===null||ne.length===0)){var E=Q.index,G=I.slice(0,E),Y=I.slice(E),q=ne?ne.index:null;e:{var ee=E+C-F;if(q!==null&&q!==ee||ee<0||ee>C)break e;var xe=X.slice(0,ee),U=X.slice(ee);if(U!==Y)break e;var _=Math.min(E,ee),D=G.slice(0,_),oe=xe.slice(0,_);if(D!==oe)break e;var ue=G.slice(_),ke=xe.slice(_);return re(D,ue,ke,Y)}e:{if(q!==null&&q!==E)break e;var ye=E,xe=X.slice(0,ye),U=X.slice(ye);if(xe!==G)break e;var Ee=Math.min(F-ye,C-ye),De=Y.slice(Y.length-Ee),Ve=U.slice(U.length-Ee);if(De!==Ve)break e;var ue=Y.slice(0,Y.length-Ee),ke=U.slice(0,U.length-Ee);return re(G,ue,ke,De)}}if(Q.length>0&&ne&&ne.length===0)e:{var D=I.slice(0,Q.index),De=I.slice(Q.index+Q.length),_=D.length,Ee=De.length;if(C<_+Ee)break e;var oe=X.slice(0,_),Ve=X.slice(C-Ee);if(D!==oe||De!==Ve)break e;var ue=I.slice(_,F-Ee),ke=X.slice(_,C-Ee);return re(D,ue,ke,De)}return null}function me(I,X,$,Q){return a(I,X,$,Q,!0)}return me.INSERT=t,me.DELETE=s,me.EQUAL=n,Lf=me,Lf}var kc={exports:{}};kc.exports;var T1;function d4(){return T1||(T1=1,(function(s,t){var n=200,a="__lodash_hash_undefined__",o=9007199254740991,l="[object Arguments]",d="[object Array]",u="[object Boolean]",m="[object Date]",f="[object Error]",y="[object Function]",v="[object GeneratorFunction]",g="[object Map]",N="[object Number]",S="[object Object]",b="[object Promise]",k="[object RegExp]",P="[object Set]",R="[object String]",T="[object Symbol]",O="[object WeakMap]",H="[object ArrayBuffer]",se="[object DataView]",K="[object Float32Array]",re="[object Float64Array]",W="[object Int8Array]",me="[object Int16Array]",I="[object Int32Array]",X="[object Uint8Array]",$="[object Uint8ClampedArray]",Q="[object Uint16Array]",ne="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,C=/\w*$/,E=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,Y={};Y[l]=Y[d]=Y[H]=Y[se]=Y[u]=Y[m]=Y[K]=Y[re]=Y[W]=Y[me]=Y[I]=Y[g]=Y[N]=Y[S]=Y[k]=Y[P]=Y[R]=Y[T]=Y[X]=Y[$]=Y[Q]=Y[ne]=!0,Y[f]=Y[y]=Y[O]=!1;var q=typeof ui=="object"&&ui&&ui.Object===Object&&ui,ee=typeof self=="object"&&self&&self.Object===Object&&self,xe=q||ee||Function("return this")(),U=t&&!t.nodeType&&t,_=U&&!0&&s&&!s.nodeType&&s,D=_&&_.exports===U;function oe(j,L){return j.set(L[0],L[1]),j}function ue(j,L){return j.add(L),j}function ke(j,L){for(var V=-1,fe=j?j.length:0;++V<fe&&L(j[V],V,j)!==!1;);return j}function ye(j,L){for(var V=-1,fe=L.length,at=j.length;++V<fe;)j[at+V]=L[V];return j}function Ee(j,L,V,fe){for(var at=-1,We=j?j.length:0;++at<We;)V=L(V,j[at],at,j);return V}function De(j,L){for(var V=-1,fe=Array(j);++V<j;)fe[V]=L(V);return fe}function Ve(j,L){return j?.[L]}function Xe(j){var L=!1;if(j!=null&&typeof j.toString!="function")try{L=!!(j+"")}catch{}return L}function ut(j){var L=-1,V=Array(j.size);return j.forEach(function(fe,at){V[++L]=[at,fe]}),V}function is(j,L){return function(V){return j(L(V))}}function os(j){var L=-1,V=Array(j.size);return j.forEach(function(fe){V[++L]=fe}),V}var Ss=Array.prototype,Vs=Function.prototype,fs=Object.prototype,bs=xe["__core-js_shared__"],Pt=(function(){var j=/[^.]+$/.exec(bs&&bs.keys&&bs.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""})(),qt=Vs.toString,bt=fs.hasOwnProperty,le=fs.toString,_e=RegExp("^"+qt.call(bt).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=D?xe.Buffer:void 0,wt=xe.Symbol,ls=xe.Uint8Array,$t=is(Object.getPrototypeOf,Object),M=Object.create,pe=fs.propertyIsEnumerable,Ye=Ss.splice,vt=Object.getOwnPropertySymbols,nt=et?et.isBuffer:void 0,It=is(Object.keys,Object),Qs=ct(xe,"DataView"),rn=ct(xe,"Map"),$s=ct(xe,"Promise"),an=ct(xe,"Set"),Fs=ct(xe,"WeakMap"),Gs=ct(Object,"create"),bn=es(Qs),Zn=es(rn),Ur=es($s),zt=es(an),on=es(Fs),wn=wt?wt.prototype:void 0,Br=wn?wn.valueOf:void 0;function Cs(j){var L=-1,V=j?j.length:0;for(this.clear();++L<V;){var fe=j[L];this.set(fe[0],fe[1])}}function Hr(){this.__data__=Gs?Gs(null):{}}function Jn(j){return this.has(j)&&delete this.__data__[j]}function Ti(j){var L=this.__data__;if(Gs){var V=L[j];return V===a?void 0:V}return bt.call(L,j)?L[j]:void 0}function ps(j){var L=this.__data__;return Gs?L[j]!==void 0:bt.call(L,j)}function Is(j,L){var V=this.__data__;return V[j]=Gs&&L===void 0?a:L,this}Cs.prototype.clear=Hr,Cs.prototype.delete=Jn,Cs.prototype.get=Ti,Cs.prototype.has=ps,Cs.prototype.set=Is;function Vt(j){var L=-1,V=j?j.length:0;for(this.clear();++L<V;){var fe=j[L];this.set(fe[0],fe[1])}}function Wr(){this.__data__=[]}function ua(j){var L=this.__data__,V=er(L,j);if(V<0)return!1;var fe=L.length-1;return V==fe?L.pop():Ye.call(L,V,1),!0}function Da(j){var L=this.__data__,V=er(L,j);return V<0?void 0:L[V][1]}function ln(j){return er(this.__data__,j)>-1}function jn(j,L){var V=this.__data__,fe=er(V,j);return fe<0?V.push([j,L]):V[fe][1]=L,this}Vt.prototype.clear=Wr,Vt.prototype.delete=ua,Vt.prototype.get=Da,Vt.prototype.has=ln,Vt.prototype.set=jn;function cs(j){var L=-1,V=j?j.length:0;for(this.clear();++L<V;){var fe=j[L];this.set(fe[0],fe[1])}}function ha(){this.__data__={hash:new Cs,map:new(rn||Vt),string:new Cs}}function qa(j){return br(this,j).delete(j)}function $a(j){return br(this,j).get(j)}function Be(j){return br(this,j).has(j)}function J(j,L){return br(this,j).set(j,L),this}cs.prototype.clear=ha,cs.prototype.delete=qa,cs.prototype.get=$a,cs.prototype.has=Be,cs.prototype.set=J;function ve(j){this.__data__=new Vt(j)}function Me(){this.__data__=new Vt}function Mt(j){return this.__data__.delete(j)}function ot(j){return this.__data__.get(j)}function Bt(j){return this.__data__.has(j)}function ds(j,L){var V=this.__data__;if(V instanceof Vt){var fe=V.__data__;if(!rn||fe.length<n-1)return fe.push([j,L]),this;V=this.__data__=new cs(fe)}return V.set(j,L),this}ve.prototype.clear=Me,ve.prototype.delete=Mt,ve.prototype.get=ot,ve.prototype.has=Bt,ve.prototype.set=ds;function Es(j,L){var V=Nn(j)||rr(j)?De(j.length,String):[],fe=V.length,at=!!fe;for(var We in j)bt.call(j,We)&&!(at&&(We=="length"||ko(We,fe)))&&V.push(We);return V}function Ys(j,L,V){var fe=j[L];(!(bt.call(j,L)&&Qr(fe,V))||V===void 0&&!(L in j))&&(j[L]=V)}function er(j,L){for(var V=j.length;V--;)if(Qr(j[V][0],L))return V;return-1}function Rt(j,L){return j&&fa(L,Ii(L),j)}function Dn(j,L,V,fe,at,We,ft){var pt;if(fe&&(pt=We?fe(j,at,We,ft):fe(j)),pt!==void 0)return pt;if(!dn(j))return j;var Ft=Nn(j);if(Ft){if(pt=Pi(j),!L)return jo(j,pt)}else{var yt=nr(j),xs=yt==y||yt==v;if(Gr(j))return Fa(j,L);if(yt==S||yt==l||xs&&!We){if(Xe(j))return We?j:{};if(pt=qn(xs?{}:j),!L)return pa(j,Rt(pt,j))}else{if(!Y[yt])return We?j:{};pt=No(j,yt,Dn,L)}}ft||(ft=new ve);var Us=ft.get(j);if(Us)return Us;if(ft.set(j,pt),!Ft)var ts=V?$l(j):Ii(j);return ke(ts||j,function(gs,ws){ts&&(ws=gs,gs=j[ws]),Ys(pt,ws,Dn(gs,L,V,fe,ws,j,ft))}),pt}function zs(j){return dn(j)?M(j):{}}function Ll(j,L,V){var fe=L(j);return Nn(j)?fe:ye(fe,V(j))}function cn(j){return le.call(j)}function Il(j){if(!dn(j)||za(j))return!1;var L=_i(j)||Xe(j)?_e:E;return L.test(es(j))}function Ml(j){if(!$n(j))return It(j);var L=[];for(var V in Object(j))bt.call(j,V)&&V!="constructor"&&L.push(V);return L}function Fa(j,L){if(L)return j.slice();var V=new j.constructor(j.length);return j.copy(V),V}function Kr(j){var L=new j.constructor(j.byteLength);return new ls(L).set(new ls(j)),L}function tr(j,L){var V=L?Kr(j.buffer):j.buffer;return new j.constructor(V,j.byteOffset,j.byteLength)}function Vr(j,L,V){var fe=L?V(ut(j),!0):ut(j);return Ee(fe,oe,new j.constructor)}function ma(j){var L=new j.constructor(j.source,C.exec(j));return L.lastIndex=j.lastIndex,L}function Dl(j,L,V){var fe=L?V(os(j),!0):os(j);return Ee(fe,ue,new j.constructor)}function ql(j){return Br?Object(Br.call(j)):{}}function Ai(j,L){var V=L?Kr(j.buffer):j.buffer;return new j.constructor(V,j.byteOffset,j.length)}function jo(j,L){var V=-1,fe=j.length;for(L||(L=Array(fe));++V<fe;)L[V]=j[V];return L}function fa(j,L,V,fe){V||(V={});for(var at=-1,We=L.length;++at<We;){var ft=L[at],pt=void 0;Ys(V,ft,pt===void 0?j[ft]:pt)}return V}function pa(j,L){return fa(j,sr(j),L)}function $l(j){return Ll(j,Ii,sr)}function br(j,L){var V=j.__data__;return Ri(L)?V[typeof L=="string"?"string":"hash"]:V.map}function ct(j,L){var V=Ve(j,L);return Il(V)?V:void 0}var sr=vt?is(vt,Object):xa,nr=cn;(Qs&&nr(new Qs(new ArrayBuffer(1)))!=se||rn&&nr(new rn)!=g||$s&&nr($s.resolve())!=b||an&&nr(new an)!=P||Fs&&nr(new Fs)!=O)&&(nr=function(j){var L=le.call(j),V=L==S?j.constructor:void 0,fe=V?es(V):void 0;if(fe)switch(fe){case bn:return se;case Zn:return g;case Ur:return b;case zt:return P;case on:return O}return L});function Pi(j){var L=j.length,V=j.constructor(L);return L&&typeof j[0]=="string"&&bt.call(j,"index")&&(V.index=j.index,V.input=j.input),V}function qn(j){return typeof j.constructor=="function"&&!$n(j)?zs($t(j)):{}}function No(j,L,V,fe){var at=j.constructor;switch(L){case H:return Kr(j);case u:case m:return new at(+j);case se:return tr(j,fe);case K:case re:case W:case me:case I:case X:case $:case Q:case ne:return Ai(j,fe);case g:return Vr(j,fe,V);case N:case R:return new at(j);case k:return ma(j);case P:return Dl(j,fe,V);case T:return ql(j)}}function ko(j,L){return L=L??o,!!L&&(typeof j=="number"||G.test(j))&&j>-1&&j%1==0&&j<L}function Ri(j){var L=typeof j;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?j!=="__proto__":j===null}function za(j){return!!Pt&&Pt in j}function $n(j){var L=j&&j.constructor,V=typeof L=="function"&&L.prototype||fs;return j===V}function es(j){if(j!=null){try{return qt.call(j)}catch{}try{return j+""}catch{}}return""}function Fn(j){return Dn(j,!0,!0)}function Qr(j,L){return j===L||j!==j&&L!==L}function rr(j){return So(j)&&bt.call(j,"callee")&&(!pe.call(j,"callee")||le.call(j)==l)}var Nn=Array.isArray;function Ua(j){return j!=null&&Oi(j.length)&&!_i(j)}function So(j){return Li(j)&&Ua(j)}var Gr=nt||ga;function _i(j){var L=dn(j)?le.call(j):"";return L==y||L==v}function Oi(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=o}function dn(j){var L=typeof j;return!!j&&(L=="object"||L=="function")}function Li(j){return!!j&&typeof j=="object"}function Ii(j){return Ua(j)?Es(j):Ml(j)}function xa(){return[]}function ga(){return!1}s.exports=Fn})(kc,kc.exports)),kc.exports}var Sc={exports:{}};Sc.exports;var A1;function u4(){return A1||(A1=1,(function(s,t){var n=200,a="__lodash_hash_undefined__",o=1,l=2,d=9007199254740991,u="[object Arguments]",m="[object Array]",f="[object AsyncFunction]",y="[object Boolean]",v="[object Date]",g="[object Error]",N="[object Function]",S="[object GeneratorFunction]",b="[object Map]",k="[object Number]",P="[object Null]",R="[object Object]",T="[object Promise]",O="[object Proxy]",H="[object RegExp]",se="[object Set]",K="[object String]",re="[object Symbol]",W="[object Undefined]",me="[object WeakMap]",I="[object ArrayBuffer]",X="[object DataView]",$="[object Float32Array]",Q="[object Float64Array]",ne="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",G="[object Uint8ClampedArray]",Y="[object Uint16Array]",q="[object Uint32Array]",ee=/[\\^$.*+?()[\]{}|]/g,xe=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,_={};_[$]=_[Q]=_[ne]=_[F]=_[C]=_[E]=_[G]=_[Y]=_[q]=!0,_[u]=_[m]=_[I]=_[y]=_[X]=_[v]=_[g]=_[N]=_[b]=_[k]=_[R]=_[H]=_[se]=_[K]=_[me]=!1;var D=typeof ui=="object"&&ui&&ui.Object===Object&&ui,oe=typeof self=="object"&&self&&self.Object===Object&&self,ue=D||oe||Function("return this")(),ke=t&&!t.nodeType&&t,ye=ke&&!0&&s&&!s.nodeType&&s,Ee=ye&&ye.exports===ke,De=Ee&&D.process,Ve=(function(){try{return De&&De.binding&&De.binding("util")}catch{}})(),Xe=Ve&&Ve.isTypedArray;function ut(j,L){for(var V=-1,fe=j==null?0:j.length,at=0,We=[];++V<fe;){var ft=j[V];L(ft,V,j)&&(We[at++]=ft)}return We}function is(j,L){for(var V=-1,fe=L.length,at=j.length;++V<fe;)j[at+V]=L[V];return j}function os(j,L){for(var V=-1,fe=j==null?0:j.length;++V<fe;)if(L(j[V],V,j))return!0;return!1}function Ss(j,L){for(var V=-1,fe=Array(j);++V<j;)fe[V]=L(V);return fe}function Vs(j){return function(L){return j(L)}}function fs(j,L){return j.has(L)}function bs(j,L){return j?.[L]}function Pt(j){var L=-1,V=Array(j.size);return j.forEach(function(fe,at){V[++L]=[at,fe]}),V}function qt(j,L){return function(V){return j(L(V))}}function bt(j){var L=-1,V=Array(j.size);return j.forEach(function(fe){V[++L]=fe}),V}var le=Array.prototype,_e=Function.prototype,et=Object.prototype,wt=ue["__core-js_shared__"],ls=_e.toString,$t=et.hasOwnProperty,M=(function(){var j=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""})(),pe=et.toString,Ye=RegExp("^"+ls.call($t).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Ee?ue.Buffer:void 0,nt=ue.Symbol,It=ue.Uint8Array,Qs=et.propertyIsEnumerable,rn=le.splice,$s=nt?nt.toStringTag:void 0,an=Object.getOwnPropertySymbols,Fs=vt?vt.isBuffer:void 0,Gs=qt(Object.keys,Object),bn=sr(ue,"DataView"),Zn=sr(ue,"Map"),Ur=sr(ue,"Promise"),zt=sr(ue,"Set"),on=sr(ue,"WeakMap"),wn=sr(Object,"create"),Br=es(bn),Cs=es(Zn),Hr=es(Ur),Jn=es(zt),Ti=es(on),ps=nt?nt.prototype:void 0,Is=ps?ps.valueOf:void 0;function Vt(j){var L=-1,V=j==null?0:j.length;for(this.clear();++L<V;){var fe=j[L];this.set(fe[0],fe[1])}}function Wr(){this.__data__=wn?wn(null):{},this.size=0}function ua(j){var L=this.has(j)&&delete this.__data__[j];return this.size-=L?1:0,L}function Da(j){var L=this.__data__;if(wn){var V=L[j];return V===a?void 0:V}return $t.call(L,j)?L[j]:void 0}function ln(j){var L=this.__data__;return wn?L[j]!==void 0:$t.call(L,j)}function jn(j,L){var V=this.__data__;return this.size+=this.has(j)?0:1,V[j]=wn&&L===void 0?a:L,this}Vt.prototype.clear=Wr,Vt.prototype.delete=ua,Vt.prototype.get=Da,Vt.prototype.has=ln,Vt.prototype.set=jn;function cs(j){var L=-1,V=j==null?0:j.length;for(this.clear();++L<V;){var fe=j[L];this.set(fe[0],fe[1])}}function ha(){this.__data__=[],this.size=0}function qa(j){var L=this.__data__,V=Fa(L,j);if(V<0)return!1;var fe=L.length-1;return V==fe?L.pop():rn.call(L,V,1),--this.size,!0}function $a(j){var L=this.__data__,V=Fa(L,j);return V<0?void 0:L[V][1]}function Be(j){return Fa(this.__data__,j)>-1}function J(j,L){var V=this.__data__,fe=Fa(V,j);return fe<0?(++this.size,V.push([j,L])):V[fe][1]=L,this}cs.prototype.clear=ha,cs.prototype.delete=qa,cs.prototype.get=$a,cs.prototype.has=Be,cs.prototype.set=J;function ve(j){var L=-1,V=j==null?0:j.length;for(this.clear();++L<V;){var fe=j[L];this.set(fe[0],fe[1])}}function Me(){this.size=0,this.__data__={hash:new Vt,map:new(Zn||cs),string:new Vt}}function Mt(j){var L=ct(this,j).delete(j);return this.size-=L?1:0,L}function ot(j){return ct(this,j).get(j)}function Bt(j){return ct(this,j).has(j)}function ds(j,L){var V=ct(this,j),fe=V.size;return V.set(j,L),this.size+=V.size==fe?0:1,this}ve.prototype.clear=Me,ve.prototype.delete=Mt,ve.prototype.get=ot,ve.prototype.has=Bt,ve.prototype.set=ds;function Es(j){var L=-1,V=j==null?0:j.length;for(this.__data__=new ve;++L<V;)this.add(j[L])}function Ys(j){return this.__data__.set(j,a),this}function er(j){return this.__data__.has(j)}Es.prototype.add=Es.prototype.push=Ys,Es.prototype.has=er;function Rt(j){var L=this.__data__=new cs(j);this.size=L.size}function Dn(){this.__data__=new cs,this.size=0}function zs(j){var L=this.__data__,V=L.delete(j);return this.size=L.size,V}function Ll(j){return this.__data__.get(j)}function cn(j){return this.__data__.has(j)}function Il(j,L){var V=this.__data__;if(V instanceof cs){var fe=V.__data__;if(!Zn||fe.length<n-1)return fe.push([j,L]),this.size=++V.size,this;V=this.__data__=new ve(fe)}return V.set(j,L),this.size=V.size,this}Rt.prototype.clear=Dn,Rt.prototype.delete=zs,Rt.prototype.get=Ll,Rt.prototype.has=cn,Rt.prototype.set=Il;function Ml(j,L){var V=rr(j),fe=!V&&Qr(j),at=!V&&!fe&&Ua(j),We=!V&&!fe&&!at&&Li(j),ft=V||fe||at||We,pt=ft?Ss(j.length,String):[],Ft=pt.length;for(var yt in j)$t.call(j,yt)&&!(ft&&(yt=="length"||at&&(yt=="offset"||yt=="parent")||We&&(yt=="buffer"||yt=="byteLength"||yt=="byteOffset")||No(yt,Ft)))&&pt.push(yt);return pt}function Fa(j,L){for(var V=j.length;V--;)if(Fn(j[V][0],L))return V;return-1}function Kr(j,L,V){var fe=L(j);return rr(j)?fe:is(fe,V(j))}function tr(j){return j==null?j===void 0?W:P:$s&&$s in Object(j)?nr(j):$n(j)}function Vr(j){return dn(j)&&tr(j)==u}function ma(j,L,V,fe,at){return j===L?!0:j==null||L==null||!dn(j)&&!dn(L)?j!==j&&L!==L:Dl(j,L,V,fe,ma,at)}function Dl(j,L,V,fe,at,We){var ft=rr(j),pt=rr(L),Ft=ft?m:qn(j),yt=pt?m:qn(L);Ft=Ft==u?R:Ft,yt=yt==u?R:yt;var xs=Ft==R,Us=yt==R,ts=Ft==yt;if(ts&&Ua(j)){if(!Ua(L))return!1;ft=!0,xs=!1}if(ts&&!xs)return We||(We=new Rt),ft||Li(j)?fa(j,L,V,fe,at,We):pa(j,L,Ft,V,fe,at,We);if(!(V&o)){var gs=xs&&$t.call(j,"__wrapped__"),ws=Us&&$t.call(L,"__wrapped__");if(gs||ws){var us=gs?j.value():j,Xs=ws?L.value():L;return We||(We=new Rt),at(us,Xs,V,fe,We)}}return ts?(We||(We=new Rt),$l(j,L,V,fe,at,We)):!1}function ql(j){if(!Oi(j)||Ri(j))return!1;var L=Gr(j)?Ye:xe;return L.test(es(j))}function Ai(j){return dn(j)&&_i(j.length)&&!!_[tr(j)]}function jo(j){if(!za(j))return Gs(j);var L=[];for(var V in Object(j))$t.call(j,V)&&V!="constructor"&&L.push(V);return L}function fa(j,L,V,fe,at,We){var ft=V&o,pt=j.length,Ft=L.length;if(pt!=Ft&&!(ft&&Ft>pt))return!1;var yt=We.get(j);if(yt&&We.get(L))return yt==L;var xs=-1,Us=!0,ts=V&l?new Es:void 0;for(We.set(j,L),We.set(L,j);++xs<pt;){var gs=j[xs],ws=L[xs];if(fe)var us=ft?fe(ws,gs,xs,L,j,We):fe(gs,ws,xs,j,L,We);if(us!==void 0){if(us)continue;Us=!1;break}if(ts){if(!os(L,function(Xs,wr){if(!fs(ts,wr)&&(gs===Xs||at(gs,Xs,V,fe,We)))return ts.push(wr)})){Us=!1;break}}else if(!(gs===ws||at(gs,ws,V,fe,We))){Us=!1;break}}return We.delete(j),We.delete(L),Us}function pa(j,L,V,fe,at,We,ft){switch(V){case X:if(j.byteLength!=L.byteLength||j.byteOffset!=L.byteOffset)return!1;j=j.buffer,L=L.buffer;case I:return!(j.byteLength!=L.byteLength||!We(new It(j),new It(L)));case y:case v:case k:return Fn(+j,+L);case g:return j.name==L.name&&j.message==L.message;case H:case K:return j==L+"";case b:var pt=Pt;case se:var Ft=fe&o;if(pt||(pt=bt),j.size!=L.size&&!Ft)return!1;var yt=ft.get(j);if(yt)return yt==L;fe|=l,ft.set(j,L);var xs=fa(pt(j),pt(L),fe,at,We,ft);return ft.delete(j),xs;case re:if(Is)return Is.call(j)==Is.call(L)}return!1}function $l(j,L,V,fe,at,We){var ft=V&o,pt=br(j),Ft=pt.length,yt=br(L),xs=yt.length;if(Ft!=xs&&!ft)return!1;for(var Us=Ft;Us--;){var ts=pt[Us];if(!(ft?ts in L:$t.call(L,ts)))return!1}var gs=We.get(j);if(gs&&We.get(L))return gs==L;var ws=!0;We.set(j,L),We.set(L,j);for(var us=ft;++Us<Ft;){ts=pt[Us];var Xs=j[ts],wr=L[ts];if(fe)var Ba=ft?fe(wr,Xs,ts,L,j,We):fe(Xs,wr,ts,j,L,We);if(!(Ba===void 0?Xs===wr||at(Xs,wr,V,fe,We):Ba)){ws=!1;break}us||(us=ts=="constructor")}if(ws&&!us){var Co=j.constructor,Ha=L.constructor;Co!=Ha&&"constructor"in j&&"constructor"in L&&!(typeof Co=="function"&&Co instanceof Co&&typeof Ha=="function"&&Ha instanceof Ha)&&(ws=!1)}return We.delete(j),We.delete(L),ws}function br(j){return Kr(j,Ii,Pi)}function ct(j,L){var V=j.__data__;return ko(L)?V[typeof L=="string"?"string":"hash"]:V.map}function sr(j,L){var V=bs(j,L);return ql(V)?V:void 0}function nr(j){var L=$t.call(j,$s),V=j[$s];try{j[$s]=void 0;var fe=!0}catch{}var at=pe.call(j);return fe&&(L?j[$s]=V:delete j[$s]),at}var Pi=an?function(j){return j==null?[]:(j=Object(j),ut(an(j),function(L){return Qs.call(j,L)}))}:xa,qn=tr;(bn&&qn(new bn(new ArrayBuffer(1)))!=X||Zn&&qn(new Zn)!=b||Ur&&qn(Ur.resolve())!=T||zt&&qn(new zt)!=se||on&&qn(new on)!=me)&&(qn=function(j){var L=tr(j),V=L==R?j.constructor:void 0,fe=V?es(V):"";if(fe)switch(fe){case Br:return X;case Cs:return b;case Hr:return T;case Jn:return se;case Ti:return me}return L});function No(j,L){return L=L??d,!!L&&(typeof j=="number"||U.test(j))&&j>-1&&j%1==0&&j<L}function ko(j){var L=typeof j;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?j!=="__proto__":j===null}function Ri(j){return!!M&&M in j}function za(j){var L=j&&j.constructor,V=typeof L=="function"&&L.prototype||et;return j===V}function $n(j){return pe.call(j)}function es(j){if(j!=null){try{return ls.call(j)}catch{}try{return j+""}catch{}}return""}function Fn(j,L){return j===L||j!==j&&L!==L}var Qr=Vr((function(){return arguments})())?Vr:function(j){return dn(j)&&$t.call(j,"callee")&&!Qs.call(j,"callee")},rr=Array.isArray;function Nn(j){return j!=null&&_i(j.length)&&!Gr(j)}var Ua=Fs||ga;function So(j,L){return ma(j,L)}function Gr(j){if(!Oi(j))return!1;var L=tr(j);return L==N||L==S||L==f||L==O}function _i(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=d}function Oi(j){var L=typeof j;return j!=null&&(L=="object"||L=="function")}function dn(j){return j!=null&&typeof j=="object"}var Li=Xe?Vs(Xe):Ai;function Ii(j){return Nn(j)?Ml(j):jo(j)}function xa(){return[]}function ga(){return!1}s.exports=So})(Sc,Sc.exports)),Sc.exports}var du={},P1;function k8(){if(P1)return du;P1=1,Object.defineProperty(du,"__esModule",{value:!0});const s=d4(),t=u4();var n;return(function(a){function o(m={},f={},y=!1){typeof m!="object"&&(m={}),typeof f!="object"&&(f={});let v=s(f);y||(v=Object.keys(v).reduce((g,N)=>(v[N]!=null&&(g[N]=v[N]),g),{}));for(const g in m)m[g]!==void 0&&f[g]===void 0&&(v[g]=m[g]);return Object.keys(v).length>0?v:void 0}a.compose=o;function l(m={},f={}){typeof m!="object"&&(m={}),typeof f!="object"&&(f={});const y=Object.keys(m).concat(Object.keys(f)).reduce((v,g)=>(t(m[g],f[g])||(v[g]=f[g]===void 0?null:f[g]),v),{});return Object.keys(y).length>0?y:void 0}a.diff=l;function d(m={},f={}){m=m||{};const y=Object.keys(f).reduce((v,g)=>(f[g]!==m[g]&&m[g]!==void 0&&(v[g]=f[g]),v),{});return Object.keys(m).reduce((v,g)=>(m[g]!==f[g]&&f[g]===void 0&&(v[g]=null),v),y)}a.invert=d;function u(m,f,y=!1){if(typeof m!="object")return f;if(typeof f!="object")return;if(!y)return f;const v=Object.keys(f).reduce((g,N)=>(m[N]===void 0&&(g[N]=f[N]),g),{});return Object.keys(v).length>0?v:void 0}a.transform=u})(n||(n={})),du.default=n,du}var uu={},R1;function h4(){if(R1)return uu;R1=1,Object.defineProperty(uu,"__esModule",{value:!0});var s;return(function(t){function n(a){return typeof a.delete=="number"?a.delete:typeof a.retain=="number"?a.retain:typeof a.retain=="object"&&a.retain!==null?1:typeof a.insert=="string"?a.insert.length:1}t.length=n})(s||(s={})),uu.default=s,uu}var hu={},_1;function S8(){if(_1)return hu;_1=1,Object.defineProperty(hu,"__esModule",{value:!0});const s=h4();class t{constructor(a){this.ops=a,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(a){a||(a=1/0);const o=this.ops[this.index];if(o){const l=this.offset,d=s.default.length(o);if(a>=d-l?(a=d-l,this.index+=1,this.offset=0):this.offset+=a,typeof o.delete=="number")return{delete:a};{const u={};return o.attributes&&(u.attributes=o.attributes),typeof o.retain=="number"?u.retain=a:typeof o.retain=="object"&&o.retain!==null?u.retain=o.retain:typeof o.insert=="string"?u.insert=o.insert.substr(l,a):u.insert=o.insert,u}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?s.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const a=this.ops[this.index];return a?typeof a.delete=="number"?"delete":typeof a.retain=="number"||typeof a.retain=="object"&&a.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const a=this.offset,o=this.index,l=this.next(),d=this.ops.slice(this.index);return this.offset=a,this.index=o,[l].concat(d)}}else return[]}}return hu.default=t,hu}var O1;function C8(){return O1||(O1=1,(function(s,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=N8(),a=d4(),o=u4(),l=k8();t.AttributeMap=l.default;const d=h4();t.Op=d.default;const u=S8();t.OpIterator=u.default;const m="\0",f=(v,g)=>{if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);const N=Object.keys(v)[0];if(!N||N!==Object.keys(g)[0])throw new Error(`embed types not matched: ${N} != ${Object.keys(g)[0]}`);return[N,v[N],g[N]]};class y{constructor(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}static registerEmbed(g,N){this.handlers[g]=N}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const N=this.handlers[g];if(!N)throw new Error(`no handlers for embed type "${g}"`);return N}insert(g,N){const S={};return typeof g=="string"&&g.length===0?this:(S.insert=g,N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(S.attributes=N),this.push(S))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,N){if(typeof g=="number"&&g<=0)return this;const S={retain:g};return N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(S.attributes=N),this.push(S)}push(g){let N=this.ops.length,S=this.ops[N-1];if(g=a(g),typeof S=="object"){if(typeof g.delete=="number"&&typeof S.delete=="number")return this.ops[N-1]={delete:S.delete+g.delete},this;if(typeof S.delete=="number"&&g.insert!=null&&(N-=1,S=this.ops[N-1],typeof S!="object"))return this.ops.unshift(g),this;if(o(g.attributes,S.attributes)){if(typeof g.insert=="string"&&typeof S.insert=="string")return this.ops[N-1]={insert:S.insert+g.insert},typeof g.attributes=="object"&&(this.ops[N-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof S.retain=="number")return this.ops[N-1]={retain:S.retain+g.retain},typeof g.attributes=="object"&&(this.ops[N-1].attributes=g.attributes),this}}return N===this.ops.length?this.ops.push(g):this.ops.splice(N,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&typeof g.retain=="number"&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const N=[],S=[];return this.forEach(b=>{(g(b)?N:S).push(b)}),[N,S]}reduce(g,N){return this.ops.reduce(g,N)}changeLength(){return this.reduce((g,N)=>N.insert?g+d.default.length(N):N.delete?g-N.delete:g,0)}length(){return this.reduce((g,N)=>g+d.default.length(N),0)}slice(g=0,N=1/0){const S=[],b=new u.default(this.ops);let k=0;for(;k<N&&b.hasNext();){let P;k<g?P=b.next(g-k):(P=b.next(N-k),S.push(P)),k+=d.default.length(P)}return new y(S)}compose(g){const N=new u.default(this.ops),S=new u.default(g.ops),b=[],k=S.peek();if(k!=null&&typeof k.retain=="number"&&k.attributes==null){let R=k.retain;for(;N.peekType()==="insert"&&N.peekLength()<=R;)R-=N.peekLength(),b.push(N.next());k.retain-R>0&&S.next(k.retain-R)}const P=new y(b);for(;N.hasNext()||S.hasNext();)if(S.peekType()==="insert")P.push(S.next());else if(N.peekType()==="delete")P.push(N.next());else{const R=Math.min(N.peekLength(),S.peekLength()),T=N.next(R),O=S.next(R);if(O.retain){const H={};if(typeof T.retain=="number")H.retain=typeof O.retain=="number"?R:O.retain;else if(typeof O.retain=="number")T.retain==null?H.insert=T.insert:H.retain=T.retain;else{const K=T.retain==null?"insert":"retain",[re,W,me]=f(T[K],O.retain),I=y.getHandler(re);H[K]={[re]:I.compose(W,me,K==="retain")}}const se=l.default.compose(T.attributes,O.attributes,typeof T.retain=="number");if(se&&(H.attributes=se),P.push(H),!S.hasNext()&&o(P.ops[P.ops.length-1],H)){const K=new y(N.rest());return P.concat(K).chop()}}else typeof O.delete=="number"&&(typeof T.retain=="number"||typeof T.retain=="object"&&T.retain!==null)&&P.push(O)}return P.chop()}concat(g){const N=new y(this.ops.slice());return g.ops.length>0&&(N.push(g.ops[0]),N.ops=N.ops.concat(g.ops.slice(1))),N}diff(g,N){if(this.ops===g.ops)return new y;const S=[this,g].map(T=>T.map(O=>{if(O.insert!=null)return typeof O.insert=="string"?O.insert:m;const H=T===g?"on":"with";throw new Error("diff() called "+H+" non-document")}).join("")),b=new y,k=n(S[0],S[1],N,!0),P=new u.default(this.ops),R=new u.default(g.ops);return k.forEach(T=>{let O=T[1].length;for(;O>0;){let H=0;switch(T[0]){case n.INSERT:H=Math.min(R.peekLength(),O),b.push(R.next(H));break;case n.DELETE:H=Math.min(O,P.peekLength()),P.next(H),b.delete(H);break;case n.EQUAL:H=Math.min(P.peekLength(),R.peekLength(),O);const se=P.next(H),K=R.next(H);o(se.insert,K.insert)?b.retain(H,l.default.diff(se.attributes,K.attributes)):b.push(K).delete(H);break}O-=H}}),b.chop()}eachLine(g,N=`
`){const S=new u.default(this.ops);let b=new y,k=0;for(;S.hasNext();){if(S.peekType()!=="insert")return;const P=S.peek(),R=d.default.length(P)-S.peekLength(),T=typeof P.insert=="string"?P.insert.indexOf(N,R)-R:-1;if(T<0)b.push(S.next());else if(T>0)b.push(S.next(T));else{if(g(b,S.next(1).attributes||{},k)===!1)return;k+=1,b=new y}}b.length()>0&&g(b,{},k)}invert(g){const N=new y;return this.reduce((S,b)=>{if(b.insert)N.delete(d.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return N.retain(b.retain),S+b.retain;if(b.delete||typeof b.retain=="number"){const k=b.delete||b.retain;return g.slice(S,S+k).forEach(R=>{b.delete?N.push(R):b.retain&&b.attributes&&N.retain(d.default.length(R),l.default.invert(b.attributes,R.attributes))}),S+k}else if(typeof b.retain=="object"&&b.retain!==null){const k=g.slice(S,S+1),P=new u.default(k.ops).next(),[R,T,O]=f(b.retain,P.insert),H=y.getHandler(R);return N.retain({[R]:H.invert(T,O)},l.default.invert(b.attributes,P.attributes)),S+1}}return S},0),N.chop()}transform(g,N=!1){if(N=!!N,typeof g=="number")return this.transformPosition(g,N);const S=g,b=new u.default(this.ops),k=new u.default(S.ops),P=new y;for(;b.hasNext()||k.hasNext();)if(b.peekType()==="insert"&&(N||k.peekType()!=="insert"))P.retain(d.default.length(b.next()));else if(k.peekType()==="insert")P.push(k.next());else{const R=Math.min(b.peekLength(),k.peekLength()),T=b.next(R),O=k.next(R);if(T.delete)continue;if(O.delete)P.push(O);else{const H=T.retain,se=O.retain;let K=typeof se=="object"&&se!==null?se:R;if(typeof H=="object"&&H!==null&&typeof se=="object"&&se!==null){const re=Object.keys(H)[0];if(re===Object.keys(se)[0]){const W=y.getHandler(re);W&&(K={[re]:W.transform(H[re],se[re],N)})}}P.retain(K,l.default.transform(T.attributes,O.attributes,N))}}return P.chop()}transformPosition(g,N=!1){N=!!N;const S=new u.default(this.ops);let b=0;for(;S.hasNext()&&b<=g;){const k=S.peekLength(),P=S.peekType();if(S.next(),P==="delete"){g-=Math.min(k,g-b);continue}else P==="insert"&&(b<g||!N)&&(g+=k);b+=k}return g}}y.Op=d.default,y.OpIterator=u.default,y.AttributeMap=l.default,y.handlers={},t.default=y,s.exports=y,s.exports.default=y})(cu,cu.exports)),cu.exports}var gr=C8();const Ke=Kc(gr);class zr extends Xn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}zr.blotName="break";zr.tagName="BR";let qr=class extends Xu{};const E8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ph(s){return s.replace(/[&<>"']/g,t=>E8[t])}class pn extends Hx{static allowedChildren=[pn,zr,Xn,qr];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,n){const a=pn.order.indexOf(t),o=pn.order.indexOf(n);return a>=0||o>=0?a-o:t===n?0:t<n?-1:1}formatAt(t,n,a,o){if(pn.compare(this.statics.blotName,a)<0&&this.scroll.query(a,Ge.BLOT)){const l=this.isolate(t,n);o&&l.wrap(a,o)}else super.formatAt(t,n,a,o)}optimize(t){if(super.optimize(t),this.parent instanceof pn&&pn.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}const L1=1;class Ks extends Bc{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=m4(this)),this.cache.delta}deleteAt(t,n){super.deleteAt(t,n),this.cache={}}formatAt(t,n,a,o){n<=0||(this.scroll.query(a,Ge.BLOCK)?t+n===this.length()&&this.format(a,o):super.formatAt(t,Math.min(n,this.length()-t-1),a,o),this.cache={})}insertAt(t,n,a){if(a!=null){super.insertAt(t,n,a),this.cache={};return}if(n.length===0)return;const o=n.split(`
`),l=o.shift();l.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let d=this;o.reduce((u,m)=>(d=d.split(u,!0),d.insertAt(0,m),m.length),t+l.length)}insertBefore(t,n){const{head:a}=this.children;super.insertBefore(t,n),a instanceof zr&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+L1),this.cache.length}moveChildren(t,n){super.moveChildren(t,n),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(t===0||t>=this.length()-L1)){const o=this.clone();return t===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const a=super.split(t,n);return this.cache={},a}}Ks.blotName="block";Ks.tagName="P";Ks.defaultChild=zr;Ks.allowedChildren=[zr,pn,Xn,qr];class pr extends Xn{attach(){super.attach(),this.attributes=new Th(this.domNode)}delta(){return new Ke().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,n){const a=this.scroll.query(t,Ge.BLOCK_ATTRIBUTE);a!=null&&this.attributes.attribute(a,n)}formatAt(t,n,a,o){this.format(a,o)}insertAt(t,n,a){if(a!=null){super.insertAt(t,n,a);return}const o=n.split(`
`),l=o.pop(),d=o.map(m=>{const f=this.scroll.create(Ks.blotName);return f.insertAt(0,m),f}),u=this.split(t);d.forEach(m=>{this.parent.insertBefore(m,u)}),l&&this.parent.insertBefore(this.scroll.create("text",l),u)}}pr.scope=Ge.BLOCK_BLOT;function m4(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s.descendants(sn).reduce((n,a)=>a.length()===0?n:n.insert(a.value(),hr(a,{},t)),new Ke).insert(`
`,hr(s))}function hr(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return s==null||("formats"in s&&typeof s.formats=="function"&&(t={...t,...s.formats()},n&&delete t["code-token"]),s.parent==null||s.parent.statics.blotName==="scroll"||s.parent.statics.scope!==s.statics.scope)?t:hr(s.parent,t,n)}class Or extends Xn{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(t,n,a){super(t,n),this.selection=a,this.textNode=document.createTextNode(Or.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,n){if(this.savedLength!==0){super.format(t,n);return}let a=this,o=0;for(;a!=null&&a.statics.scope!==Ge.BLOCK_BLOT;)o+=a.offset(a.parent),a=a.parent;a!=null&&(this.savedLength=Or.CONTENTS.length,a.optimize(),a.formatAt(o,Or.CONTENTS.length,t,n),this.savedLength=0)}index(t,n){return t===this.textNode?0:super.index(t,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof qr?this.prev:null,a=n?n.length():0,o=this.next instanceof qr?this.next:null,l=o?o.text:"",{textNode:d}=this,u=d.data.split(Or.CONTENTS).join("");d.data=Or.CONTENTS;let m;if(n)m=n,(u||o)&&(n.insertAt(n.length(),u+l),o&&o.remove());else if(o)m=o,o.insertAt(0,u);else{const f=document.createTextNode(u);m=this.scroll.create(f),this.parent.insertBefore(m,this)}if(this.remove(),t){const f=(g,N)=>n&&g===n.domNode?N:g===d?a+N-1:o&&g===o.domNode?a+u.length+N:null,y=f(t.start.node,t.start.offset),v=f(t.end.node,t.end.offset);if(y!==null&&v!==null)return{startNode:m.domNode,startOffset:y,endNode:m.domNode,endOffset:v}}return null}update(t,n){if(t.some(a=>a.type==="characterData"&&a.target===this.textNode)){const a=this.restore();a&&(n.range=a)}}optimize(t){super.optimize(t);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=Or.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}}var If={exports:{}},I1;function T8(){return I1||(I1=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function o(m,f,y){this.fn=m,this.context=f,this.once=y||!1}function l(m,f,y,v,g){if(typeof y!="function")throw new TypeError("The listener must be a function");var N=new o(y,v||m,g),S=n?n+f:f;return m._events[S]?m._events[S].fn?m._events[S]=[m._events[S],N]:m._events[S].push(N):(m._events[S]=N,m._eventsCount++),m}function d(m,f){--m._eventsCount===0?m._events=new a:delete m._events[f]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],y,v;if(this._eventsCount===0)return f;for(v in y=this._events)t.call(y,v)&&f.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(y)):f},u.prototype.listeners=function(f){var y=n?n+f:f,v=this._events[y];if(!v)return[];if(v.fn)return[v.fn];for(var g=0,N=v.length,S=new Array(N);g<N;g++)S[g]=v[g].fn;return S},u.prototype.listenerCount=function(f){var y=n?n+f:f,v=this._events[y];return v?v.fn?1:v.length:0},u.prototype.emit=function(f,y,v,g,N,S){var b=n?n+f:f;if(!this._events[b])return!1;var k=this._events[b],P=arguments.length,R,T;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),P){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,y),!0;case 3:return k.fn.call(k.context,y,v),!0;case 4:return k.fn.call(k.context,y,v,g),!0;case 5:return k.fn.call(k.context,y,v,g,N),!0;case 6:return k.fn.call(k.context,y,v,g,N,S),!0}for(T=1,R=new Array(P-1);T<P;T++)R[T-1]=arguments[T];k.fn.apply(k.context,R)}else{var O=k.length,H;for(T=0;T<O;T++)switch(k[T].once&&this.removeListener(f,k[T].fn,void 0,!0),P){case 1:k[T].fn.call(k[T].context);break;case 2:k[T].fn.call(k[T].context,y);break;case 3:k[T].fn.call(k[T].context,y,v);break;case 4:k[T].fn.call(k[T].context,y,v,g);break;default:if(!R)for(H=1,R=new Array(P-1);H<P;H++)R[H-1]=arguments[H];k[T].fn.apply(k[T].context,R)}}return!0},u.prototype.on=function(f,y,v){return l(this,f,y,v,!1)},u.prototype.once=function(f,y,v){return l(this,f,y,v,!0)},u.prototype.removeListener=function(f,y,v,g){var N=n?n+f:f;if(!this._events[N])return this;if(!y)return d(this,N),this;var S=this._events[N];if(S.fn)S.fn===y&&(!g||S.once)&&(!v||S.context===v)&&d(this,N);else{for(var b=0,k=[],P=S.length;b<P;b++)(S[b].fn!==y||g&&!S[b].once||v&&S[b].context!==v)&&k.push(S[b]);k.length?this._events[N]=k.length===1?k[0]:k:d(this,N)}return this},u.prototype.removeAllListeners=function(f){var y;return f?(y=n?n+f:f,this._events[y]&&d(this,y)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,s.exports=u})(If)),If.exports}var A8=T8();const P8=Kc(A8),Up=new WeakMap,Bp=["error","warn","log","info"];let Hp="warn";function f4(s){if(Hp&&Bp.indexOf(s)<=Bp.indexOf(Hp)){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];console[s](...n)}}function Ma(s){return Bp.reduce((t,n)=>(t[n]=f4.bind(console,n,s),t),{})}Ma.level=s=>{Hp=s};f4.level=Ma.level;const Mf=Ma("quill:events"),R8=["selectionchange","mousedown","mouseup","click"];R8.forEach(s=>{document.addEventListener(s,function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];Array.from(document.querySelectorAll(".ql-container")).forEach(o=>{const l=Up.get(o);l&&l.emitter&&l.emitter.handleDOM(...n)})})});class Ue extends P8{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Mf.error)}emit(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Mf.log.call(Mf,...n),super.emit(...n)}handleDOM(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(this.domListeners[t.type]||[]).forEach(l=>{let{node:d,handler:u}=l;(t.target===d||d.contains(t.target))&&u(t,...a)})}listenDOM(t,n,a){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:n,handler:a})}}const Df=Ma("quill:selection");class uo{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=n}}class _8{constructor(t,n){this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new uo(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ue.sources.USER),1)}),this.emitter.on(Ue.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const a=this.getNativeRange();a!=null&&a.start.node!==this.cursor.textNode&&this.emitter.once(Ue.events.SCROLL_UPDATE,(o,l)=>{try{this.root.contains(a.start.node)&&this.root.contains(a.end.node)&&this.setNativeRange(a.start.node,a.start.offset,a.end.node,a.end.offset);const d=l.some(u=>u.type==="characterData"||u.type==="childList"||u.type==="attributes"&&u.target===this.root);this.update(d?Ue.sources.SILENT:o)}catch{}})}),this.emitter.on(Ue.events.SCROLL_OPTIMIZE,(a,o)=>{if(o.range){const{startNode:l,startOffset:d,endNode:u,endOffset:m}=o.range;this.setNativeRange(l,d,u,m),this.update(Ue.sources.SILENT)}}),this.update(Ue.sources.SILENT)}handleComposition(){this.emitter.on(Ue.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ue.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ue.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,n){this.scroll.update();const a=this.getNativeRange();if(!(a==null||!a.native.collapsed||this.scroll.query(t,Ge.BLOCK))){if(a.start.node!==this.cursor.textNode){const o=this.scroll.find(a.start.node,!1);if(o==null)return;if(o instanceof sn){const l=o.split(a.start.offset);o.parent.insertBefore(this.cursor,l)}else o.insertBefore(this.cursor,a.start.node);this.cursor.attach()}this.cursor.format(t,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const a=this.scroll.length();t=Math.min(t,a-1),n=Math.min(t+n,a-1)-t;let o,[l,d]=this.scroll.leaf(t);if(l==null)return null;if(n>0&&d===l.length()){const[y]=this.scroll.leaf(t+1);if(y){const[v]=this.scroll.line(t),[g]=this.scroll.line(t+1);v===g&&(l=y,d=0)}}[o,d]=l.position(d,!0);const u=document.createRange();if(n>0)return u.setStart(o,d),[l,d]=this.scroll.leaf(t+n),l==null?null:([o,d]=l.position(d,!0),u.setEnd(o,d),u.getBoundingClientRect());let m="left",f;if(o instanceof Text){if(!o.data.length)return null;d<o.data.length?(u.setStart(o,d),u.setEnd(o,d+1)):(u.setStart(o,d-1),u.setEnd(o,d),m="right"),f=u.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;f=l.domNode.getBoundingClientRect(),d>0&&(m="right")}return{bottom:f.top+f.height,height:f.height,left:f[m],right:f[m],top:f.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const n=t.getRangeAt(0);if(n==null)return null;const a=this.normalizeNative(n);return Df.info("getNativeRange",a),a}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&qf(this.root,document.activeElement)}normalizedToRange(t){const n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);const a=n.map(d=>{const[u,m]=d,f=this.scroll.find(u,!0),y=f.offset(this.scroll);return m===0?y:f instanceof sn?y+f.index(u,m):y+f.length()}),o=Math.min(Math.max(...a),this.scroll.length()-1),l=Math.min(o,...a);return new uo(l,o-l)}normalizeNative(t){if(!qf(this.root,t.startContainer)||!t.collapsed&&!qf(this.root,t.endContainer))return null;const n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach(a=>{let{node:o,offset:l}=a;for(;!(o instanceof Text)&&o.childNodes.length>0;)if(o.childNodes.length>l)o=o.childNodes[l],l=0;else if(o.childNodes.length===l)o=o.lastChild,o instanceof Text?l=o.data.length:o.childNodes.length>0?l=o.childNodes.length:l=o.childNodes.length+1;else break;a.node=o,a.offset=l}),n}rangeToNative(t){const n=this.scroll.length(),a=(o,l)=>{o=Math.min(n-1,o);const[d,u]=this.scroll.leaf(o);return d?d.position(u,l):[null,-1]};return[...a(t.index,!1),...a(t.index+t.length,!0)]}setNativeRange(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Df.info("setNativeRange",t,n,a,o),t!=null&&(this.root.parentNode==null||t.parentNode==null||a.parentNode==null))return;const d=document.getSelection();if(d!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:u}=this.getNativeRange()||{};if(u==null||l||t!==u.startContainer||n!==u.startOffset||a!==u.endContainer||o!==u.endOffset){t instanceof Element&&t.tagName==="BR"&&(n=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),a instanceof Element&&a.tagName==="BR"&&(o=Array.from(a.parentNode.childNodes).indexOf(a),a=a.parentNode);const m=document.createRange();m.setStart(t,n),m.setEnd(a,o),d.removeAllRanges(),d.addRange(m)}}else d.removeAllRanges(),this.root.blur()}setRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ue.sources.API;if(typeof n=="string"&&(a=n,n=!1),Df.info("setRange",t),t!=null){const o=this.rangeToNative(t);this.setNativeRange(...o,n)}else this.setNativeRange(null);this.update(a)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ue.sources.USER;const n=this.lastRange,[a,o]=this.getRange();if(this.lastRange=a,this.lastNative=o,this.lastRange!=null&&(this.savedRange=this.lastRange),!di(n,this.lastRange)){if(!this.composing&&o!=null&&o.native.collapsed&&o.start.node!==this.cursor.textNode){const d=this.cursor.restore();d&&this.setNativeRange(d.startNode,d.startOffset,d.endNode,d.endOffset)}const l=[Ue.events.SELECTION_CHANGE,dl(this.lastRange),dl(n),t];this.emitter.emit(Ue.events.EDITOR_CHANGE,...l),t!==Ue.sources.SILENT&&this.emitter.emit(...l)}}}function qf(s,t){try{t.parentNode}catch{return!1}return s.contains(t)}const O8=/^[ -~]*$/;class L8{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const a=M1(t),o=new Ke;return M8(a.ops.slice()).reduce((d,u)=>{const m=gr.Op.length(u);let f=u.attributes||{},y=!1,v=!1;if(u.insert!=null){if(o.retain(m),typeof u.insert=="string"){const S=u.insert;v=!S.endsWith(`
`)&&(n<=d||!!this.scroll.descendant(pr,d)[0]),this.scroll.insertAt(d,S);const[b,k]=this.scroll.line(d);let P=fi({},hr(b));if(b instanceof Ks){const[R]=b.descendant(sn,k);R&&(P=fi(P,hr(R)))}f=gr.AttributeMap.diff(P,f)||{}}else if(typeof u.insert=="object"){const S=Object.keys(u.insert)[0];if(S==null)return d;const b=this.scroll.query(S,Ge.INLINE)!=null;if(b)(n<=d||this.scroll.descendant(pr,d)[0])&&(v=!0);else if(d>0){const[k,P]=this.scroll.descendant(sn,d-1);k instanceof qr?k.value()[P]!==`
`&&(y=!0):k instanceof Xn&&k.statics.scope===Ge.INLINE_BLOT&&(y=!0)}if(this.scroll.insertAt(d,S,u.insert[S]),b){const[k]=this.scroll.descendant(sn,d);if(k){const P=fi({},hr(k));f=gr.AttributeMap.diff(P,f)||{}}}}n+=m}else if(o.push(u),u.retain!==null&&typeof u.retain=="object"){const S=Object.keys(u.retain)[0];if(S==null)return d;this.scroll.updateEmbedAt(d,S,u.retain[S])}Object.keys(f).forEach(S=>{this.scroll.formatAt(d,m,S,f[S])});const g=y?1:0,N=v?1:0;return n+=g+N,o.retain(g),o.delete(N),d+m+g+N},0),o.reduce((d,u)=>typeof u.delete=="number"?(this.scroll.deleteAt(d,u.delete),d):d+gr.Op.length(u),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(a)}deleteText(t,n){return this.scroll.deleteAt(t,n),this.update(new Ke().retain(t).delete(n))}formatLine(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(a).forEach(l=>{this.scroll.lines(t,Math.max(n,1)).forEach(d=>{d.format(l,a[l])})}),this.scroll.optimize();const o=new Ke().retain(t).retain(n,dl(a));return this.update(o)}formatText(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(a).forEach(l=>{this.scroll.formatAt(t,n,l,a[l])});const o=new Ke().retain(t).retain(n,dl(a));return this.update(o)}getContents(t,n){return this.delta.slice(t,t+n)}getDelta(){return this.scroll.lines().reduce((t,n)=>t.concat(n.delta()),new Ke)}getFormat(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[],o=[];n===0?this.scroll.path(t).forEach(u=>{const[m]=u;m instanceof Ks?a.push(m):m instanceof sn&&o.push(m)}):(a=this.scroll.lines(t,n),o=this.scroll.descendants(sn,t,n));const[l,d]=[a,o].map(u=>{const m=u.shift();if(m==null)return{};let f=hr(m);for(;Object.keys(f).length>0;){const y=u.shift();if(y==null)return f;f=I8(hr(y),f)}return f});return{...l,...d}}getHTML(t,n){const[a,o]=this.scroll.line(t);if(a){const l=a.length();return a.length()>=o+n&&!(o===0&&n===l)?Hc(a,o,n,!0):Hc(this.scroll,t,n,!0)}return""}getText(t,n){return this.getContents(t,n).filter(a=>typeof a.insert=="string").map(a=>a.insert).join("")}insertContents(t,n){const a=M1(n),o=new Ke().retain(t).concat(a);return this.scroll.insertContents(t,a),this.update(o)}insertEmbed(t,n,a){return this.scroll.insertAt(t,n,a),this.update(new Ke().retain(t).insert({[n]:a}))}insertText(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,n),Object.keys(a).forEach(o=>{this.scroll.formatAt(t,n.length,o,a[o])}),this.update(new Ke().retain(t).insert(n,dl(a)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if(t?.statics.blotName!==Ks.blotName)return!1;const n=t;return n.children.length>1?!1:n.children.head instanceof zr}removeFormat(t,n){const a=this.getText(t,n),[o,l]=this.scroll.line(t+n);let d=0,u=new Ke;o!=null&&(d=o.length()-l,u=o.delta().slice(l,l+d-1).insert(`
`));const f=this.getContents(t,n+d).diff(new Ke().insert(a).concat(u)),y=new Ke().retain(t).concat(f);return this.applyDelta(y)}update(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const o=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(O8)&&this.scroll.find(n[0].target)){const l=this.scroll.find(n[0].target),d=hr(l),u=l.offset(this.scroll),m=n[0].oldValue.replace(Or.CONTENTS,""),f=new Ke().insert(m),y=new Ke().insert(l.value()),v=a&&{oldRange:D1(a.oldRange,-u),newRange:D1(a.newRange,-u)};t=new Ke().retain(u).concat(f.diff(y,v)).reduce((N,S)=>S.insert?N.insert(S.insert,d):N.push(S),new Ke),this.delta=o.compose(t)}else this.delta=this.getDelta(),(!t||!di(o.compose(t),this.delta))&&(t=o.diff(this.delta,a));return t}}function el(s,t,n){if(s.length===0){const[N]=$f(n.pop());return t<=0?`</li></${N}>`:`</li></${N}>${el([],t-1,n)}`}const[{child:a,offset:o,length:l,indent:d,type:u},...m]=s,[f,y]=$f(u);if(d>t)return n.push(u),d===t+1?`<${f}><li${y}>${Hc(a,o,l)}${el(m,d,n)}`:`<${f}><li>${el(s,t+1,n)}`;const v=n[n.length-1];if(d===t&&u===v)return`</li><li${y}>${Hc(a,o,l)}${el(m,d,n)}`;const[g]=$f(n.pop());return`</li></${g}>${el(s,t-1,n)}`}function Hc(s,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in s&&typeof s.html=="function")return s.html(t,n);if(s instanceof qr)return Ph(s.value().slice(t,t+n)).replaceAll(" ","&nbsp;");if(s instanceof Ir){if(s.statics.blotName==="list-container"){const f=[];return s.children.forEachAt(t,n,(y,v,g)=>{const N="formats"in y&&typeof y.formats=="function"?y.formats():{};f.push({child:y,offset:v,length:g,indent:N.indent||0,type:N.list})}),el(f,-1,[])}const o=[];if(s.children.forEachAt(t,n,(f,y,v)=>{o.push(Hc(f,y,v))}),a||s.statics.blotName==="list")return o.join("");const{outerHTML:l,innerHTML:d}=s.domNode,[u,m]=l.split(`>${d}<`);return u==="<table"?`<table style="border: 1px solid #000;">${o.join("")}<${m}`:`${u}>${o.join("")}<${m}`}return s.domNode instanceof Element?s.domNode.outerHTML:""}function I8(s,t){return Object.keys(t).reduce((n,a)=>{if(s[a]==null)return n;const o=t[a];return o===s[a]?n[a]=o:Array.isArray(o)?o.indexOf(s[a])<0?n[a]=o.concat([s[a]]):n[a]=o:n[a]=[o,s[a]],n},{})}function $f(s){const t=s==="ordered"?"ol":"ul";switch(s){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function M1(s){return s.reduce((t,n)=>{if(typeof n.insert=="string"){const a=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(a,n.attributes)}return t.push(n)},new Ke)}function D1(s,t){let{index:n,length:a}=s;return new uo(n+t,a)}function M8(s){const t=[];return s.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((o,l)=>{l&&t.push({insert:`
`,attributes:n.attributes}),o&&t.push({insert:o,attributes:n.attributes})}):t.push(n)}),t}class da{static DEFAULTS={};constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=n}}const mu="\uFEFF";class Kx extends Xn{constructor(t,n){super(t,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(a=>{this.contentNode.appendChild(a)}),this.leftGuard=document.createTextNode(mu),this.rightGuard=document.createTextNode(mu),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,n)}restore(t){let n=null,a;const o=t.data.split(mu).join("");if(t===this.leftGuard)if(this.prev instanceof qr){const l=this.prev.length();this.prev.insertAt(l,o),n={startNode:this.prev.domNode,startOffset:l+o.length}}else a=document.createTextNode(o),this.parent.insertBefore(this.scroll.create(a),this),n={startNode:a,startOffset:o.length};else t===this.rightGuard&&(this.next instanceof qr?(this.next.insertAt(0,o),n={startNode:this.next.domNode,startOffset:o.length}):(a=document.createTextNode(o),this.parent.insertBefore(this.scroll.create(a),this.next),n={startNode:a,startOffset:o.length}));return t.data=mu,n}update(t,n){t.forEach(a=>{if(a.type==="characterData"&&(a.target===this.leftGuard||a.target===this.rightGuard)){const o=this.restore(a.target);o&&(n.range=o)}})}}class D8{isComposing=!1;constructor(t,n){this.scroll=t,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const n=t.target instanceof Node?this.scroll.find(t.target,!0):null;n&&!(n instanceof Kx)&&(this.emitter.emit(Ue.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Ue.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Ue.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Ue.events.COMPOSITION_END,t),this.isComposing=!1}}class Ol{static DEFAULTS={modules:{}};static themes={default:Ol};modules={};constructor(t,n){this.quill=t,this.options=n}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const n=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new n(this.quill,this.options.modules[t]||{}),this.modules[t]}}const q8=s=>s.parentElement||s.getRootNode().host||null,$8=s=>{const t=s.getBoundingClientRect(),n="offsetWidth"in s&&Math.abs(t.width)/s.offsetWidth||1,a="offsetHeight"in s&&Math.abs(t.height)/s.offsetHeight||1;return{top:t.top,right:t.left+s.clientWidth*n,bottom:t.top+s.clientHeight*a,left:t.left}},fu=s=>{const t=parseInt(s,10);return Number.isNaN(t)?0:t},q1=(s,t,n,a,o,l)=>s<n&&t>a?0:s<n?-(n-s+o):t>a?t-s>a-n?s+o-n:t-a+l:0,F8=(s,t)=>{const n=s.ownerDocument;let a=t,o=s;for(;o;){const l=o===n.body,d=l?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:$8(o),u=getComputedStyle(o),m=q1(a.left,a.right,d.left,d.right,fu(u.scrollPaddingLeft),fu(u.scrollPaddingRight)),f=q1(a.top,a.bottom,d.top,d.bottom,fu(u.scrollPaddingTop),fu(u.scrollPaddingBottom));if(m||f)if(l)n.defaultView?.scrollBy(m,f);else{const{scrollLeft:y,scrollTop:v}=o;f&&(o.scrollTop+=f),m&&(o.scrollLeft+=m);const g=o.scrollLeft-y,N=o.scrollTop-v;a={left:a.left-g,top:a.top-N,right:a.right-g,bottom:a.bottom-N}}o=l||u.position==="fixed"?null:q8(o)}},z8=100,U8=["block","break","cursor","inline","scroll","text"],B8=(s,t,n)=>{const a=new wl;return U8.forEach(o=>{const l=t.query(o);l&&a.register(l)}),s.forEach(o=>{let l=t.query(o);l||n.error(`Cannot register "${o}" specified in "formats" config. Are you sure it was registered?`);let d=0;for(;l;)if(a.register(l),l="blotName"in l?l.requiredContainer??null:null,d+=1,d>z8){n.error(`Cycle detected in registering blot requiredContainer: "${o}"`);break}}),a},hl=Ma("quill"),pu=new wl;Ir.uiClass="ql-ui";class ge{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:pu,theme:"default"};static events=Ue.events;static sources=Ue.sources;static version="2.0.3";static imports={delta:Ke,parchment:j8,"core/module":da,"core/theme":Ol};static debug(t){t===!0&&(t="log"),Ma.level(t)}static find(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Up.get(t)||pu.find(t,n)}static import(t){return this.imports[t]==null&&hl.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),a="attrName"in t?t.attrName:t.blotName;typeof a=="string"?this.register(`formats/${a}`,t,n):Object.keys(t).forEach(o=>{this.register(o,t[o],n)})}else{const t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],a=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!a&&hl.warn(`Overwriting ${t} with`,n),this.imports[t]=n,(t.startsWith("blots/")||t.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&pu.register(n),typeof n.register=="function"&&n.register(pu)}}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=H8(t,n),this.container=this.options.container,this.container==null){hl.error("Invalid Quill container",t);return}this.options.debug&&ge.debug(this.options.debug);const a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Up.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ue;const o=Wx.blotName,l=this.options.registry.query(o);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${o}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new L8(this.scroll),this.selection=new _8(this.scroll,this.emitter),this.composition=new D8(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ue.events.EDITOR_CHANGE,d=>{d===Ue.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ue.events.SCROLL_UPDATE,(d,u)=>{const m=this.selection.lastRange,[f]=this.selection.getRange(),y=m&&f?{oldRange:m,newRange:f}:void 0;Tr.call(this,()=>this.editor.update(null,u,y),d)}),this.emitter.on(Ue.events.SCROLL_EMBED_UPDATE,(d,u)=>{const m=this.selection.lastRange,[f]=this.selection.getRange(),y=m&&f?{oldRange:m,newRange:f}:void 0;Tr.call(this,()=>{const v=new Ke().retain(d.offset(this)).retain({[d.statics.blotName]:u});return this.editor.update(v,[],y)},ge.sources.USER)}),a){const d=this.clipboard.convert({html:`${a}<p><br></p>`,text:`
`});this.setContents(d)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const a=t;t=document.createElement("div"),t.classList.add(a)}return this.container.insertBefore(t,n),t}blur(){this.selection.setRange(null)}deleteText(t,n,a){return[t,n,,a]=Ea(t,n,a),Tr.call(this,()=>this.editor.deleteText(t,n),a,t,-1*n)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const n=t();return this.allowReadOnlyEdits=!1,n}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ue.sources.API;return Tr.call(this,()=>{const o=this.getSelection(!0);let l=new Ke;if(o==null)return l;if(this.scroll.query(t,Ge.BLOCK))l=this.editor.formatLine(o.index,o.length,{[t]:n});else{if(o.length===0)return this.selection.format(t,n),l;l=this.editor.formatText(o.index,o.length,{[t]:n})}return this.setSelection(o,Ue.sources.SILENT),l},a)}formatLine(t,n,a,o,l){let d;return[t,n,d,l]=Ea(t,n,a,o,l),Tr.call(this,()=>this.editor.formatLine(t,n,d),l,t,0)}formatText(t,n,a,o,l){let d;return[t,n,d,l]=Ea(t,n,a,o,l),Tr.call(this,()=>this.editor.formatText(t,n,d),l,t,0)}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=null;if(typeof t=="number"?a=this.selection.getBounds(t,n):a=this.selection.getBounds(t.index,t.length),!a)return null;const o=this.container.getBoundingClientRect();return{bottom:a.bottom-o.top,height:a.height,left:a.left-o.left,right:a.right-o.left,top:a.top-o.top,width:a.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,n]=Ea(t,n),this.editor.getContents(t,n)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,n):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,n)}getModule(t){return this.theme.modules[t]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Ea(t,n),this.editor.getHTML(t,n)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Ea(t,n),this.editor.getText(t,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,n,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ge.sources.API;return Tr.call(this,()=>this.editor.insertEmbed(t,n,a),o,t)}insertText(t,n,a,o,l){let d;return[t,,d,l]=Ea(t,0,a,o,l),Tr.call(this,()=>this.editor.insertText(t,n,d),l,t,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,n,a){return[t,n,,a]=Ea(t,n,a),Tr.call(this,()=>this.editor.removeFormat(t,n),a,t)}scrollRectIntoView(t){F8(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,n=t&&this.selection.getBounds(t.index,t.length);n&&this.scrollRectIntoView(n)}setContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ue.sources.API;return Tr.call(this,()=>{t=new Ke(t);const a=this.getLength(),o=this.editor.deleteText(0,a),l=this.editor.insertContents(0,t),d=this.editor.deleteText(this.getLength()-1,1);return o.compose(l).compose(d)},n)}setSelection(t,n,a){t==null?this.selection.setRange(null,n||ge.sources.API):([t,n,,a]=Ea(t,n,a),this.selection.setRange(new uo(Math.max(0,t),n),a),a!==Ue.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ue.sources.API;const a=new Ke().insert(t);return this.setContents(a,n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ue.sources.USER;const n=this.scroll.update(t);return this.selection.update(t),n}updateContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ue.sources.API;return Tr.call(this,()=>(t=new Ke(t),this.editor.applyDelta(t)),n,!0)}}function $1(s){return typeof s=="string"?document.querySelector(s):s}function Ff(s){return Object.entries(s??{}).reduce((t,n)=>{let[a,o]=n;return{...t,[a]:o===!0?{}:o}},{})}function F1(s){return Object.fromEntries(Object.entries(s).filter(t=>t[1]!==void 0))}function H8(s,t){const n=$1(s);if(!n)throw new Error("Invalid Quill container");const o=!t.theme||t.theme===ge.DEFAULTS.theme?Ol:ge.import(`themes/${t.theme}`);if(!o)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:l,...d}=ge.DEFAULTS,{modules:u,...m}=o.DEFAULTS;let f=Ff(t.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const y=fi({},Ff(l),Ff(u),f),v={...d,...F1(m),...F1(t)};let g=t.registry;return g?t.formats&&hl.warn('Ignoring "formats" option because "registry" is specified'):g=t.formats?B8(t.formats,v.registry,hl):v.registry,{...v,registry:g,container:n,theme:o,modules:Object.entries(y).reduce((N,S)=>{let[b,k]=S;if(!k)return N;const P=ge.import(`modules/${b}`);return P==null?(hl.error(`Cannot load ${b} module. Are you sure you registered it?`),N):{...N,[b]:fi({},P.DEFAULTS||{},k)}},{}),bounds:$1(v.bounds)}}function Tr(s,t,n,a){if(!this.isEnabled()&&t===Ue.sources.USER&&!this.allowReadOnlyEdits)return new Ke;let o=n==null?null:this.getSelection();const l=this.editor.delta,d=s();if(o!=null&&(n===!0&&(n=o.index),a==null?o=z1(o,d,t):a!==0&&(o=z1(o,n,a,t)),this.setSelection(o,Ue.sources.SILENT)),d.length()>0){const u=[Ue.events.TEXT_CHANGE,d,l,t];this.emitter.emit(Ue.events.EDITOR_CHANGE,...u),t!==Ue.sources.SILENT&&this.emitter.emit(...u)}return d}function Ea(s,t,n,a,o){let l={};return typeof s.index=="number"&&typeof s.length=="number"?typeof t!="number"?(o=a,a=n,n=t,t=s.length,s=s.index):(t=s.length,s=s.index):typeof t!="number"&&(o=a,a=n,n=t,t=0),typeof n=="object"?(l=n,o=a):typeof n=="string"&&(a!=null?l[n]=a:o=n),o=o||Ue.sources.API,[s,t,l,o]}function z1(s,t,n,a){const o=typeof n=="number"?n:0;if(s==null)return null;let l,d;return t&&typeof t.transformPosition=="function"?[l,d]=[s.index,s.index+s.length].map(u=>t.transformPosition(u,a!==Ue.sources.USER)):[l,d]=[s.index,s.index+s.length].map(u=>u<t||u===t&&a===Ue.sources.USER?u:o>=0?u+o:Math.max(t,u+o)),new uo(l,d-l)}class yo extends Ah{}function U1(s){return s instanceof Ks||s instanceof pr}function B1(s){return typeof s.updateContent=="function"}class W8 extends Wx{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Ks;static allowedChildren=[Ks,pr,yo];constructor(t,n,a){let{emitter:o}=a;super(t,n),this.emitter=o,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Ue.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Ue.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,n){this.emitter.emit(Ue.events.SCROLL_EMBED_UPDATE,t,n)}deleteAt(t,n){const[a,o]=this.line(t),[l]=this.line(t+n);if(super.deleteAt(t,n),l!=null&&a!==l&&o>0){if(a instanceof pr||l instanceof pr){this.optimize();return}const d=l.children.head instanceof zr?null:l.children.head;a.moveChildren(l,d),a.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,n,a,o){super.formatAt(t,n,a,o),this.optimize()}insertAt(t,n,a){if(t>=this.length())if(a==null||this.scroll.query(n,Ge.BLOCK)==null){const o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o),a==null&&n.endsWith(`
`)?o.insertAt(0,n.slice(0,-1),a):o.insertAt(0,n,a)}else{const o=this.scroll.create(n,a);this.appendChild(o)}else super.insertAt(t,n,a);this.optimize()}insertBefore(t,n){if(t.statics.scope===Ge.INLINE_BLOT){const a=this.scroll.create(this.statics.defaultChild.blotName);a.appendChild(t),super.insertBefore(a,n)}else super.insertBefore(t,n)}insertContents(t,n){const a=this.deltaToRenderBlocks(n.concat(new Ke().insert(`
`))),o=a.pop();if(o==null)return;this.batchStart();const l=a.shift();if(l){const m=l.type==="block"&&(l.delta.length()===0||!this.descendant(pr,t)[0]&&t<this.length()),f=l.type==="block"?l.delta:new Ke().insert({[l.key]:l.value});zf(this,t,f);const y=l.type==="block"?1:0,v=t+f.length()+y;m&&this.insertAt(v-1,`
`);const g=hr(this.line(t)[0]),N=gr.AttributeMap.diff(g,l.attributes)||{};Object.keys(N).forEach(S=>{this.formatAt(v-1,1,S,N[S])}),t=v}let[d,u]=this.children.find(t);if(a.length&&(d&&(d=d.split(u),u=0),a.forEach(m=>{if(m.type==="block"){const f=this.createBlock(m.attributes,d||void 0);zf(f,0,m.delta)}else{const f=this.create(m.key,m.value);this.insertBefore(f,d||void 0),Object.keys(m.attributes).forEach(y=>{f.format(y,m.attributes[y])})}})),o.type==="block"&&o.delta.length()){const m=d?d.offset(d.scroll)+u:this.length();zf(this,m,o.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const n=this.path(t).pop();if(!n)return[null,-1];const[a,o]=n;return a instanceof sn?[a,o]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(U1,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const a=(o,l,d)=>{let u=[],m=d;return o.children.forEachAt(l,d,(f,y,v)=>{U1(f)?u.push(f):f instanceof Ah&&(u=u.concat(a(f,y,m))),m-=v}),u};return a(this,t,n)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,n),t.length>0&&this.emitter.emit(Ue.events.SCROLL_OPTIMIZE,t,n))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let n=Ue.sources.USER;typeof t=="string"&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(a=>{let{target:o}=a;const l=this.find(o,!0);return l&&!B1(l)}),t.length>0&&this.emitter.emit(Ue.events.SCROLL_BEFORE_UPDATE,n,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Ue.events.SCROLL_UPDATE,n,t)}updateEmbedAt(t,n,a){const[o]=this.descendant(l=>l instanceof pr,t);o&&o.statics.blotName===n&&B1(o)&&o.updateContent(a)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const n=[];let a=new Ke;return t.forEach(o=>{const l=o?.insert;if(l)if(typeof l=="string"){const d=l.split(`
`);d.slice(0,-1).forEach(m=>{a.insert(m,o.attributes),n.push({type:"block",delta:a,attributes:o.attributes??{}}),a=new Ke});const u=d[d.length-1];u&&a.insert(u,o.attributes)}else{const d=Object.keys(l)[0];if(!d)return;this.query(d,Ge.INLINE)?a.push(o):(a.length()&&n.push({type:"block",delta:a,attributes:{}}),a=new Ke,n.push({type:"blockEmbed",key:d,value:l[d],attributes:o.attributes??{}}))}}),a.length()&&n.push({type:"block",delta:a,attributes:{}}),n}createBlock(t,n){let a;const o={};Object.entries(t).forEach(u=>{let[m,f]=u;this.query(m,Ge.BLOCK&Ge.BLOT)!=null?a=m:o[m]=f});const l=this.create(a||this.statics.defaultChild.blotName,a?t[a]:void 0);this.insertBefore(l,n||void 0);const d=l.length();return Object.entries(o).forEach(u=>{let[m,f]=u;l.formatAt(0,d,m,f)}),l}}function zf(s,t,n){n.reduce((a,o)=>{const l=gr.Op.length(o);let d=o.attributes||{};if(o.insert!=null){if(typeof o.insert=="string"){const u=o.insert;s.insertAt(a,u);const[m]=s.descendant(sn,a),f=hr(m);d=gr.AttributeMap.diff(f,d)||{}}else if(typeof o.insert=="object"){const u=Object.keys(o.insert)[0];if(u==null)return a;if(s.insertAt(a,u,o.insert[u]),s.scroll.query(u,Ge.INLINE)!=null){const[f]=s.descendant(sn,a),y=hr(f);d=gr.AttributeMap.diff(y,d)||{}}}}return Object.keys(d).forEach(u=>{s.formatAt(a,l,u,d[u])}),a+l},t)}const Vx={scope:Ge.BLOCK,whitelist:["right","center","justify"]},K8=new oa("align","align",Vx),p4=new Fr("align","ql-align",Vx),x4=new Ei("align","text-align",Vx);class g4 extends Ei{value(t){let n=super.value(t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(o=>`00${parseInt(o,10).toString(16)}`.slice(-2)).join("")}`):n}}const V8=new Fr("color","ql-color",{scope:Ge.INLINE}),Qx=new g4("color","color",{scope:Ge.INLINE}),Q8=new Fr("background","ql-bg",{scope:Ge.INLINE}),Gx=new g4("background","background-color",{scope:Ge.INLINE});class bo extends yo{static create(t){const n=super.create(t);return n.setAttribute("spellcheck","false"),n}code(t,n){return this.children.map(a=>a.length()<=1?"":a.domNode.innerText).join(`
`).slice(t,t+n)}html(t,n){return`<pre>
${Ph(this.code(t,n))}
</pre>`}}class gn extends Ks{static TAB="  ";static register(){ge.register(bo)}}class Yx extends pn{}Yx.blotName="code";Yx.tagName="CODE";gn.blotName="code-block";gn.className="ql-code-block";gn.tagName="DIV";bo.blotName="code-block-container";bo.className="ql-code-block-container";bo.tagName="DIV";bo.allowedChildren=[gn];gn.allowedChildren=[qr,zr,Or];gn.requiredContainer=bo;const Xx={scope:Ge.BLOCK,whitelist:["rtl"]},v4=new oa("direction","dir",Xx),y4=new Fr("direction","ql-direction",Xx),b4=new Ei("direction","direction",Xx),w4={scope:Ge.INLINE,whitelist:["serif","monospace"]},j4=new Fr("font","ql-font",w4);class G8 extends Ei{value(t){return super.value(t).replace(/["']/g,"")}}const N4=new G8("font","font-family",w4),k4=new Fr("size","ql-size",{scope:Ge.INLINE,whitelist:["small","large","huge"]}),S4=new Ei("size","font-size",{scope:Ge.INLINE,whitelist:["10px","18px","32px"]}),Y8=Ma("quill:keyboard"),X8=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Rh extends da{static match(t,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(a=>!!n[a]!==t[a]&&n[a]!==null)?!1:n.key===t.key||n.key===t.which}constructor(t,n){super(t,n),this.bindings={},Object.keys(this.options.bindings).forEach(a=>{this.options.bindings[a]&&this.addBinding(this.options.bindings[a])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=J8(t);if(o==null){Y8.warn("Attempted to add invalid keyboard binding",o);return}typeof n=="function"&&(n={handler:n}),typeof a=="function"&&(a={handler:a}),(Array.isArray(o.key)?o.key:[o.key]).forEach(d=>{const u={...o,key:d,...n,...a};this.bindings[u.key]=this.bindings[u.key]||[],this.bindings[u.key].push(u)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const o=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(P=>Rh.match(t,P));if(o.length===0)return;const l=ge.find(t.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const d=this.quill.getSelection();if(d==null||!this.quill.hasFocus())return;const[u,m]=this.quill.getLine(d.index),[f,y]=this.quill.getLeaf(d.index),[v,g]=d.length===0?[f,y]:this.quill.getLeaf(d.index+d.length),N=f instanceof Xu?f.value().slice(0,y):"",S=v instanceof Xu?v.value().slice(g):"",b={collapsed:d.length===0,empty:d.length===0&&u.length()<=1,format:this.quill.getFormat(d),line:u,offset:m,prefix:N,suffix:S,event:t};o.some(P=>{if(P.collapsed!=null&&P.collapsed!==b.collapsed||P.empty!=null&&P.empty!==b.empty||P.offset!=null&&P.offset!==b.offset)return!1;if(Array.isArray(P.format)){if(P.format.every(R=>b.format[R]==null))return!1}else if(typeof P.format=="object"&&!Object.keys(P.format).every(R=>P.format[R]===!0?b.format[R]!=null:P.format[R]===!1?b.format[R]==null:di(P.format[R],b.format[R])))return!1;return P.prefix!=null&&!P.prefix.test(b.prefix)||P.suffix!=null&&!P.suffix.test(b.suffix)?!1:P.handler.call(this,d,b,P)!==!0})&&t.preventDefault()})}handleBackspace(t,n){const a=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let o={};const[l]=this.quill.getLine(t.index);let d=new Ke().retain(t.index-a).delete(a);if(n.offset===0){const[u]=this.quill.getLine(t.index-1);if(u&&!(u.statics.blotName==="block"&&u.length()<=1)){const f=l.formats(),y=this.quill.getFormat(t.index-1,1);if(o=gr.AttributeMap.diff(f,y)||{},Object.keys(o).length>0){const v=new Ke().retain(t.index+l.length()-2).retain(1,o);d=d.compose(v)}}}this.quill.updateContents(d,ge.sources.USER),this.quill.focus()}handleDelete(t,n){const a=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(t.index>=this.quill.getLength()-a)return;let o={};const[l]=this.quill.getLine(t.index);let d=new Ke().retain(t.index).delete(a);if(n.offset>=l.length()-1){const[u]=this.quill.getLine(t.index+1);if(u){const m=l.formats(),f=this.quill.getFormat(t.index,1);o=gr.AttributeMap.diff(m,f)||{},Object.keys(o).length>0&&(d=d.retain(u.length()-1).retain(1,o))}}this.quill.updateContents(d,ge.sources.USER),this.quill.focus()}handleDeleteRange(t){Zx({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,n){const a=Object.keys(n.format).reduce((l,d)=>(this.quill.scroll.query(d,Ge.BLOCK)&&!Array.isArray(n.format[d])&&(l[d]=n.format[d]),l),{}),o=new Ke().retain(t.index).delete(t.length).insert(`
`,a);this.quill.updateContents(o,ge.sources.USER),this.quill.setSelection(t.index+1,ge.sources.SILENT),this.quill.focus()}}const Z8={bindings:{bold:Uf("bold"),italic:Uf("italic"),underline:Uf("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(s,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",ge.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(s,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",ge.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(s,t){t.format.indent!=null?this.quill.format("indent","-1",ge.sources.USER):t.format.list!=null&&this.quill.format("list",!1,ge.sources.USER)}},"indent code-block":H1(!0),"outdent code-block":H1(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(s){this.quill.deleteText(s.index-1,1,ge.sources.USER)}},tab:{key:"Tab",handler(s,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=new Ke().retain(s.index).delete(s.length).insert("	");return this.quill.updateContents(n,ge.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(s.index+1,ge.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ge.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(s,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(s.index,s.length,n,ge.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(s){const[t,n]=this.quill.getLine(s.index),a={...t.formats(),list:"checked"},o=new Ke().retain(s.index).insert(`
`,a).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,ge.sources.USER),this.quill.setSelection(s.index+1,ge.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(s,t){const[n,a]=this.quill.getLine(s.index),o=new Ke().retain(s.index).insert(`
`,t.format).retain(n.length()-a-1).retain(1,{header:null});this.quill.updateContents(o,ge.sources.USER),this.quill.setSelection(s.index+1,ge.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(s){const t=this.quill.getModule("table");if(t){const[n,a,o,l]=t.getTable(s),d=eM(n,a,o,l);if(d==null)return;let u=n.offset();if(d<0){const m=new Ke().retain(u).insert(`
`);this.quill.updateContents(m,ge.sources.USER),this.quill.setSelection(s.index+1,s.length,ge.sources.SILENT)}else if(d>0){u+=n.length();const m=new Ke().retain(u).insert(`
`);this.quill.updateContents(m,ge.sources.USER),this.quill.setSelection(u,ge.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(s,t){const{event:n,line:a}=t,o=a.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(o-1,ge.sources.USER):this.quill.setSelection(o+a.length(),ge.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(s,t){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=t.prefix,[a,o]=this.quill.getLine(s.index);if(o>n)return!0;let l;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(s.index," ",ge.sources.USER),this.quill.history.cutoff();const d=new Ke().retain(s.index-o).delete(n+1).retain(a.length()-2-o).retain(1,{list:l});return this.quill.updateContents(d,ge.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(s.index-n,ge.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(s){const[t,n]=this.quill.getLine(s.index);let a=2,o=t;for(;o!=null&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,a-=1,a<=0){const l=new Ke().retain(s.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,ge.sources.USER),this.quill.setSelection(s.index-1,ge.sources.SILENT),!1}return!0}},"embed left":xu("ArrowLeft",!1),"embed left shift":xu("ArrowLeft",!0),"embed right":xu("ArrowRight",!1),"embed right shift":xu("ArrowRight",!0),"table down":W1(!1),"table up":W1(!0)}};Rh.DEFAULTS=Z8;function H1(s){return{key:"Tab",shiftKey:!s,format:{"code-block":!0},handler(t,n){let{event:a}=n;const o=this.quill.scroll.query("code-block"),{TAB:l}=o;if(t.length===0&&!a.shiftKey){this.quill.insertText(t.index,l,ge.sources.USER),this.quill.setSelection(t.index+l.length,ge.sources.SILENT);return}const d=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:u,length:m}=t;d.forEach((f,y)=>{s?(f.insertAt(0,l),y===0?u+=l.length:m+=l.length):f.domNode.textContent.startsWith(l)&&(f.deleteAt(0,l.length),y===0?u-=l.length:m-=l.length)}),this.quill.update(ge.sources.USER),this.quill.setSelection(u,m,ge.sources.SILENT)}}}function xu(s,t){return{key:s,shiftKey:t,altKey:null,[s==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(a){let{index:o}=a;s==="ArrowRight"&&(o+=a.length+1);const[l]=this.quill.getLeaf(o);return l instanceof Xn?(s==="ArrowLeft"?t?this.quill.setSelection(a.index-1,a.length+1,ge.sources.USER):this.quill.setSelection(a.index-1,ge.sources.USER):t?this.quill.setSelection(a.index,a.length+1,ge.sources.USER):this.quill.setSelection(a.index+a.length+1,ge.sources.USER),!1):!0}}}function Uf(s){return{key:s[0],shortKey:!0,handler(t,n){this.quill.format(s,!n.format[s],ge.sources.USER)}}}function W1(s){return{key:s?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const a=s?"prev":"next",o=n.line,l=o.parent[a];if(l!=null){if(l.statics.blotName==="table-row"){let d=l.children.head,u=o;for(;u.prev!=null;)u=u.prev,d=d.next;const m=d.offset(this.quill.scroll)+Math.min(n.offset,d.length()-1);this.quill.setSelection(m,0,ge.sources.USER)}}else{const d=o.table()[a];d!=null&&(s?this.quill.setSelection(d.offset(this.quill.scroll)+d.length()-1,0,ge.sources.USER):this.quill.setSelection(d.offset(this.quill.scroll),0,ge.sources.USER))}return!1}}}function J8(s){if(typeof s=="string"||typeof s=="number")s={key:s};else if(typeof s=="object")s=dl(s);else return null;return s.shortKey&&(s[X8]=s.shortKey,delete s.shortKey),s}function Zx(s){let{quill:t,range:n}=s;const a=t.getLines(n);let o={};if(a.length>1){const l=a[0].formats(),d=a[a.length-1].formats();o=gr.AttributeMap.diff(d,l)||{}}t.deleteText(n,ge.sources.USER),Object.keys(o).length>0&&t.formatLine(n.index,1,o,ge.sources.USER),t.setSelection(n.index,ge.sources.SILENT)}function eM(s,t,n,a){return t.prev==null&&t.next==null?n.prev==null&&n.next==null?a===0?-1:1:n.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const tM=/font-weight:\s*normal/,sM=["P","OL","UL"],K1=s=>s&&sM.includes(s.tagName),nM=s=>{Array.from(s.querySelectorAll("br")).filter(t=>K1(t.previousElementSibling)&&K1(t.nextElementSibling)).forEach(t=>{t.parentNode?.removeChild(t)})},rM=s=>{Array.from(s.querySelectorAll('b[style*="font-weight"]')).filter(t=>t.getAttribute("style")?.match(tM)).forEach(t=>{const n=s.createDocumentFragment();n.append(...t.childNodes),t.parentNode?.replaceChild(n,t)})};function aM(s){s.querySelector('[id^="docs-internal-guid-"]')&&(rM(s),nM(s))}const iM=/\bmso-list:[^;]*ignore/i,oM=/\bmso-list:[^;]*\bl(\d+)/i,lM=/\bmso-list:[^;]*\blevel(\d+)/i,cM=(s,t)=>{const n=s.getAttribute("style"),a=n?.match(oM);if(!a)return null;const o=Number(a[1]),l=n?.match(lM),d=l?Number(l[1]):1,u=new RegExp(`@list l${o}:level${d}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),m=t.match(u),f=m&&m[1]==="bullet"?"bullet":"ordered";return{id:o,indent:d,type:f,element:s}},dM=s=>{const t=Array.from(s.querySelectorAll("[style*=mso-list]")),n=[],a=[];t.forEach(d=>{(d.getAttribute("style")||"").match(iM)?n.push(d):a.push(d)}),n.forEach(d=>d.parentNode?.removeChild(d));const o=s.documentElement.innerHTML,l=a.map(d=>cM(d,o)).filter(d=>d);for(;l.length;){const d=[];let u=l.shift();for(;u;)d.push(u),u=l.length&&l[0]?.element===u.element.nextElementSibling&&l[0].id===u.id?l.shift():null;const m=document.createElement("ul");d.forEach(v=>{const g=document.createElement("li");g.setAttribute("data-list",v.type),v.indent>1&&g.setAttribute("class",`ql-indent-${v.indent-1}`),g.innerHTML=v.element.innerHTML,m.appendChild(g)});const f=d[0]?.element,{parentNode:y}=f??{};f&&y?.replaceChild(m,f),d.slice(1).forEach(v=>{let{element:g}=v;y?.removeChild(g)})}};function uM(s){s.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&dM(s)}const hM=[uM,aM],mM=s=>{s.documentElement&&hM.forEach(t=>{t(s)})},fM=Ma("quill:clipboard"),pM=[[Node.TEXT_NODE,TM],[Node.TEXT_NODE,Q1],["br",wM],[Node.ELEMENT_NODE,Q1],[Node.ELEMENT_NODE,bM],[Node.ELEMENT_NODE,yM],[Node.ELEMENT_NODE,CM],["li",kM],["ol, ul",SM],["pre",jM],["tr",EM],["b",Bf("bold")],["i",Bf("italic")],["strike",Bf("strike")],["style",NM]],xM=[K8,v4].reduce((s,t)=>(s[t.keyName]=t,s),{}),V1=[x4,Gx,Qx,b4,N4,S4].reduce((s,t)=>(s[t.keyName]=t,s),{});class gM extends da{static DEFAULTS={matchers:[]};constructor(t,n){super(t,n),this.quill.root.addEventListener("copy",a=>this.onCaptureCopy(a,!1)),this.quill.root.addEventListener("cut",a=>this.onCaptureCopy(a,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],pM.concat(this.options.matchers??[]).forEach(a=>{let[o,l]=a;this.addMatcher(o,l)})}addMatcher(t,n){this.matchers.push([t,n])}convert(t){let{html:n,text:a}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o[gn.blotName])return new Ke().insert(a||"",{[gn.blotName]:o[gn.blotName]});if(!n)return new Ke().insert(a||"",o);const l=this.convertHTML(n);return Zc(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||o.table)?l.compose(new Ke().retain(l.length()-1).delete(1)):l}normalizeHTML(t){mM(t)}convertHTML(t){const n=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(n);const a=n.body,o=new WeakMap,[l,d]=this.prepareMatching(a,o);return Jx(this.quill.scroll,a,l,d,o)}dangerouslyPasteHTML(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ge.sources.API;if(typeof t=="string"){const o=this.convert({html:t,text:""});this.quill.setContents(o,n),this.quill.setSelection(0,ge.sources.SILENT)}else{const o=this.convert({html:n,text:""});this.quill.updateContents(new Ke().retain(t).concat(o),a),this.quill.setSelection(t+o.length(),ge.sources.SILENT)}}onCaptureCopy(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[a]=this.quill.selection.getRange();if(a==null)return;const{html:o,text:l}=this.onCopy(a,n);t.clipboardData?.setData("text/plain",l),t.clipboardData?.setData("text/html",o),n&&Zx({range:a,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const a=t.clipboardData?.getData("text/html");let o=t.clipboardData?.getData("text/plain");if(!a&&!o){const d=t.clipboardData?.getData("text/uri-list");d&&(o=this.normalizeURIList(d))}const l=Array.from(t.clipboardData?.files||[]);if(!a&&l.length>0){this.quill.uploader.upload(n,l);return}if(a&&l.length>0){const d=new DOMParser().parseFromString(a,"text/html");if(d.body.childElementCount===1&&d.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(n,l);return}}this.onPaste(n,{html:a,text:o})}onCopy(t){const n=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:n}}onPaste(t,n){let{text:a,html:o}=n;const l=this.quill.getFormat(t.index),d=this.convert({text:a,html:o},l);fM.log("onPaste",d,{text:a,html:o});const u=new Ke().retain(t.index).delete(t.length).concat(d);this.quill.updateContents(u,ge.sources.USER),this.quill.setSelection(u.length()-t.length,ge.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,n){const a=[],o=[];return this.matchers.forEach(l=>{const[d,u]=l;switch(d){case Node.TEXT_NODE:o.push(u);break;case Node.ELEMENT_NODE:a.push(u);break;default:Array.from(t.querySelectorAll(d)).forEach(m=>{n.has(m)?n.get(m)?.push(u):n.set(m,[u])});break}}),[a,o]}}function wo(s,t,n,a){return a.query(t)?s.reduce((o,l)=>{if(!l.insert)return o;if(l.attributes&&l.attributes[t])return o.push(l);const d=n?{[t]:n}:{};return o.insert(l.insert,{...d,...l.attributes})},new Ke):s}function Zc(s,t){let n="";for(let a=s.ops.length-1;a>=0&&n.length<t.length;--a){const o=s.ops[a];if(typeof o.insert!="string")break;n=o.insert+n}return n.slice(-1*t.length)===t}function hi(s,t){if(!(s instanceof Element))return!1;const n=t.query(s);return n&&n.prototype instanceof Xn?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(s.tagName.toLowerCase())}function vM(s,t){return s.previousElementSibling&&s.nextElementSibling&&!hi(s.previousElementSibling,t)&&!hi(s.nextElementSibling,t)}const gu=new WeakMap;function C4(s){return s==null?!1:(gu.has(s)||(s.tagName==="PRE"?gu.set(s,!0):gu.set(s,C4(s.parentNode))),gu.get(s))}function Jx(s,t,n,a,o){return t.nodeType===t.TEXT_NODE?a.reduce((l,d)=>d(t,l,s),new Ke):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((l,d)=>{let u=Jx(s,d,n,a,o);return d.nodeType===t.ELEMENT_NODE&&(u=n.reduce((m,f)=>f(d,m,s),u),u=(o.get(d)||[]).reduce((m,f)=>f(d,m,s),u)),l.concat(u)},new Ke):new Ke}function Bf(s){return(t,n,a)=>wo(n,s,!0,a)}function yM(s,t,n){const a=oa.keys(s),o=Fr.keys(s),l=Ei.keys(s),d={};return a.concat(o).concat(l).forEach(u=>{let m=n.query(u,Ge.ATTRIBUTE);m!=null&&(d[m.attrName]=m.value(s),d[m.attrName])||(m=xM[u],m!=null&&(m.attrName===u||m.keyName===u)&&(d[m.attrName]=m.value(s)||void 0),m=V1[u],m!=null&&(m.attrName===u||m.keyName===u)&&(m=V1[u],d[m.attrName]=m.value(s)||void 0))}),Object.entries(d).reduce((u,m)=>{let[f,y]=m;return wo(u,f,y,n)},t)}function bM(s,t,n){const a=n.query(s);if(a==null)return t;if(a.prototype instanceof Xn){const o={},l=a.value(s);if(l!=null)return o[a.blotName]=l,new Ke().insert(o,a.formats(s,n))}else if(a.prototype instanceof Bc&&!Zc(t,`
`)&&t.insert(`
`),"blotName"in a&&"formats"in a&&typeof a.formats=="function")return wo(t,a.blotName,a.formats(s,n),n);return t}function wM(s,t){return Zc(t,`
`)||t.insert(`
`),t}function jM(s,t,n){const a=n.query("code-block"),o=a&&"formats"in a&&typeof a.formats=="function"?a.formats(s,n):!0;return wo(t,"code-block",o,n)}function NM(){return new Ke}function kM(s,t,n){const a=n.query(s);if(a==null||a.blotName!=="list"||!Zc(t,`
`))return t;let o=-1,l=s.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(o+=1),l=l.parentNode;return o<=0?t:t.reduce((d,u)=>u.insert?u.attributes&&typeof u.attributes.indent=="number"?d.push(u):d.insert(u.insert,{indent:o,...u.attributes||{}}):d,new Ke)}function SM(s,t,n){const a=s;let o=a.tagName==="OL"?"ordered":"bullet";const l=a.getAttribute("data-checked");return l&&(o=l==="true"?"checked":"unchecked"),wo(t,"list",o,n)}function Q1(s,t,n){if(!Zc(t,`
`)){if(hi(s,n)&&(s.childNodes.length>0||s instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&s.nextSibling){let a=s.nextSibling;for(;a!=null;){if(hi(a,n))return t.insert(`
`);const o=n.query(a);if(o&&o.prototype instanceof pr)return t.insert(`
`);a=a.firstChild}}}return t}function CM(s,t,n){const a={},o=s.style||{};return o.fontStyle==="italic"&&(a.italic=!0),o.textDecoration==="underline"&&(a.underline=!0),o.textDecoration==="line-through"&&(a.strike=!0),(o.fontWeight?.startsWith("bold")||parseInt(o.fontWeight,10)>=700)&&(a.bold=!0),t=Object.entries(a).reduce((l,d)=>{let[u,m]=d;return wo(l,u,m,n)},t),parseFloat(o.textIndent||0)>0?new Ke().insert("	").concat(t):t}function EM(s,t,n){const a=s.parentElement?.tagName==="TABLE"?s.parentElement:s.parentElement?.parentElement;if(a!=null){const l=Array.from(a.querySelectorAll("tr")).indexOf(s)+1;return wo(t,"table",l,n)}return t}function TM(s,t,n){let a=s.data;if(s.parentElement?.tagName==="O:P")return t.insert(a.trim());if(!C4(s)){if(a.trim().length===0&&a.includes(`
`)&&!vM(s,n))return t;a=a.replace(/[^\S\u00a0]/g," "),a=a.replace(/ {2,}/g," "),(s.previousSibling==null&&s.parentElement!=null&&hi(s.parentElement,n)||s.previousSibling instanceof Element&&hi(s.previousSibling,n))&&(a=a.replace(/^ /,"")),(s.nextSibling==null&&s.parentElement!=null&&hi(s.parentElement,n)||s.nextSibling instanceof Element&&hi(s.nextSibling,n))&&(a=a.replace(/ $/,"")),a=a.replaceAll(""," ")}return t.insert(a)}class AM extends da{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(t,n){super(t,n),this.quill.on(ge.events.EDITOR_CHANGE,(a,o,l,d)=>{a===ge.events.SELECTION_CHANGE?o&&d!==ge.sources.SILENT&&(this.currentRange=o):a===ge.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||d===ge.sources.USER?this.record(o,l):this.transform(o)),this.currentRange=Wp(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(t,n){if(this.stack[t].length===0)return;const a=this.stack[t].pop();if(!a)return;const o=this.quill.getContents(),l=a.delta.invert(o);this.stack[n].push({delta:l,range:Wp(a.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,ge.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,n){if(t.ops.length===0)return;this.stack.redo=[];let a=t.invert(n),o=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const d=this.stack.undo.pop();d&&(a=a.compose(d.delta),o=d.range)}else this.lastRecorded=l;a.length()!==0&&(this.stack.undo.push({delta:a,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){G1(this.stack.undo,t),G1(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,ge.sources.USER);else{const n=RM(this.quill.scroll,t.delta);this.quill.setSelection(n,ge.sources.USER)}}}function G1(s,t){let n=t;for(let a=s.length-1;a>=0;a-=1){const o=s[a];s[a]={delta:n.transform(o.delta,!0),range:o.range&&Wp(o.range,n)},n=o.delta.transform(n),s[a].delta.length()===0&&s.splice(a,1)}}function PM(s,t){const n=t.ops[t.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(a=>s.query(a,Ge.BLOCK)!=null):!1}function RM(s,t){const n=t.reduce((o,l)=>o+(l.delete||0),0);let a=t.length()-n;return PM(s,t)&&(a-=1),a}function Wp(s,t){if(!s)return s;const n=t.transformPosition(s.index),a=t.transformPosition(s.index+s.length);return{index:n,length:a-n}}class E4 extends da{constructor(t,n){super(t,n),t.root.addEventListener("drop",a=>{a.preventDefault();let o=null;if(document.caretRangeFromPoint)o=document.caretRangeFromPoint(a.clientX,a.clientY);else if(document.caretPositionFromPoint){const d=document.caretPositionFromPoint(a.clientX,a.clientY);o=document.createRange(),o.setStart(d.offsetNode,d.offset),o.setEnd(d.offsetNode,d.offset)}const l=o&&t.selection.normalizeNative(o);if(l){const d=t.selection.normalizedToRange(l);a.dataTransfer?.files&&this.upload(d,a.dataTransfer.files)}})}upload(t,n){const a=[];Array.from(n).forEach(o=>{o&&this.options.mimetypes?.includes(o.type)&&a.push(o)}),a.length>0&&this.options.handler.call(this,t,a)}}E4.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(s,t){if(!this.quill.scroll.query("image"))return;const n=t.map(a=>new Promise(o=>{const l=new FileReader;l.onload=()=>{o(l.result)},l.readAsDataURL(a)}));Promise.all(n).then(a=>{const o=a.reduce((l,d)=>l.insert({image:d}),new Ke().retain(s.index).delete(s.length));this.quill.updateContents(o,Ue.sources.USER),this.quill.setSelection(s.index+a.length,Ue.sources.SILENT)})}};const _M=["insertText","insertReplacementText"];class OM extends da{constructor(t,n){super(t,n),t.root.addEventListener("beforeinput",a=>{this.handleBeforeInput(a)}),/Android/i.test(navigator.userAgent)||t.on(ge.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Zx({range:t,quill:this.quill})}replaceText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(n){const a=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Ke().retain(t.index).insert(n,a),ge.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+n.length,0,ge.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!_M.includes(t.inputType))return;const n=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const a=LM(t);if(a==null)return;const o=this.quill.selection.normalizeNative(n),l=o?this.quill.selection.normalizedToRange(o):null;l&&this.replaceText(l,a)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function LM(s){return typeof s.data=="string"?s.data:s.dataTransfer?.types.includes("text/plain")?s.dataTransfer.getData("text/plain"):null}const IM=/Mac/i.test(navigator.platform),MM=100,DM=s=>!!(s.key==="ArrowLeft"||s.key==="ArrowRight"||s.key==="ArrowUp"||s.key==="ArrowDown"||s.key==="Home"||IM&&s.key==="a"&&s.ctrlKey===!0);class qM extends da{isListening=!1;selectionChangeDeadline=0;constructor(t,n){super(t,n),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,n){let{line:a,event:o}=n;if(!(a instanceof Ir)||!a.uiNode)return!0;const l=getComputedStyle(a.domNode).direction==="rtl";return l&&o.key!=="ArrowRight"||!l&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(o.shiftKey?1:0),ge.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&DM(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+MM,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const n=t.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const a=this.quill.scroll.find(n.startContainer);if(!(a instanceof Ir)||!a.uiNode)return;const o=document.createRange();o.setStartAfter(a.uiNode),o.setEndAfter(a.uiNode),t.removeAllRanges(),t.addRange(o)}}ge.register({"blots/block":Ks,"blots/block/embed":pr,"blots/break":zr,"blots/container":yo,"blots/cursor":Or,"blots/embed":Kx,"blots/inline":pn,"blots/scroll":W8,"blots/text":qr,"modules/clipboard":gM,"modules/history":AM,"modules/keyboard":Rh,"modules/uploader":E4,"modules/input":OM,"modules/uiNode":qM});class $M extends Fr{add(t,n){let a=0;if(n==="+1"||n==="-1"){const o=this.value(t)||0;a=n==="+1"?o+1:o-1}else typeof n=="number"&&(a=n);return a===0?(this.remove(t),!0):super.add(t,a.toString())}canAdd(t,n){return super.canAdd(t,n)||super.canAdd(t,parseInt(n,10))}value(t){return parseInt(super.value(t),10)||void 0}}const FM=new $M("indent","ql-indent",{scope:Ge.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class zM extends Ks{static blotName="blockquote";static tagName="blockquote"}class UM extends Ks{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}}class Jc extends yo{}Jc.blotName="list-container";Jc.tagName="OL";class ed extends Ks{static create(t){const n=super.create();return n.setAttribute("data-list",t),n}static formats(t){return t.getAttribute("data-list")||void 0}static register(){ge.register(Jc)}constructor(t,n){super(t,n);const a=n.ownerDocument.createElement("span"),o=l=>{if(!t.isEnabled())return;const d=this.statics.formats(n,t);d==="checked"?(this.format("list","unchecked"),l.preventDefault()):d==="unchecked"&&(this.format("list","checked"),l.preventDefault())};a.addEventListener("mousedown",o),a.addEventListener("touchstart",o),this.attachUI(a)}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(t,n)}}ed.blotName="list";ed.tagName="LI";Jc.allowedChildren=[ed];ed.requiredContainer=Jc;class eg extends pn{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class BM extends eg{static blotName="italic";static tagName=["EM","I"]}class Zu extends pn{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const n=super.create(t);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(t){return t.getAttribute("href")}static sanitize(t){return T4(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,n){t!==this.statics.blotName||!n?super.format(t,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}function T4(s,t){const n=document.createElement("a");n.href=s;const a=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(a)>-1}class HM extends pn{static blotName="script";static tagName=["SUB","SUP"];static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}class WM extends eg{static blotName="strike";static tagName=["S","STRIKE"]}class KM extends pn{static blotName="underline";static tagName="U"}class VM extends Kx{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(t);return typeof t=="string"&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}const Y1=["alt","height","width"];class QM extends Xn{static blotName="image";static tagName="IMG";static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("src",this.sanitize(t)),n}static formats(t){return Y1.reduce((n,a)=>(t.hasAttribute(a)&&(n[a]=t.getAttribute(a)),n),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return T4(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,n){Y1.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}}const X1=["height","width"];class GM extends pr{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const n=super.create(t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(t)),n}static formats(t){return X1.reduce((n,a)=>(t.hasAttribute(a)&&(n[a]=t.getAttribute(a)),n),{})}static sanitize(t){return Zu.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,n){X1.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}const Cc=new Fr("code-token","hljs",{scope:Ge.INLINE});class Oa extends pn{static formats(t,n){for(;t!=null&&t!==n.domNode;){if(t.classList&&t.classList.contains(gn.className))return super.formats(t,n);t=t.parentNode}}constructor(t,n,a){super(t,n,a),Cc.add(this.domNode,a)}format(t,n){t!==Oa.blotName?super.format(t,n):n?Cc.add(this.domNode,n):(Cc.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Cc.value(this.domNode)||this.unwrap()}}Oa.blotName="code-token";Oa.className="ql-token";class mr extends gn{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("data-language",t),n}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(t,n)}replaceWith(t,n){return this.formatAt(0,this.length(),Oa.blotName,!1),super.replaceWith(t,n)}}class Oc extends bo{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,n){t===mr.blotName&&(this.forceNext=!0,this.children.forEach(a=>{a.format(t,n)}))}formatAt(t,n,a,o){a===mr.blotName&&(this.forceNext=!0),super.formatAt(t,n,a,o)}highlight(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const o=`${Array.from(this.domNode.childNodes).filter(d=>d!==this.uiNode).map(d=>d.textContent).join(`
`)}
`,l=mr.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==o){if(o.trim().length>0||this.cachedText==null){const d=this.children.reduce((m,f)=>m.concat(m4(f,!1)),new Ke),u=t(o,l);d.diff(u).reduce((m,f)=>{let{retain:y,attributes:v}=f;return y?(v&&Object.keys(v).forEach(g=>{[mr.blotName,Oa.blotName].includes(g)&&this.formatAt(m,y,g,v[g])}),m+y):m},0)}this.cachedText=o,this.forceNext=!1}}html(t,n){const[a]=this.children.find(t);return`<pre data-language="${a?mr.formats(a.domNode):"plain"}">
${Ph(this.code(t,n))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=mr.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Oc.allowedChildren=[mr];mr.requiredContainer=Oc;mr.allowedChildren=[Oa,Or,qr,zr];const YM=(s,t,n)=>{if(typeof s.versionString=="string"){const a=s.versionString.split(".")[0];if(parseInt(a,10)>=11)return s.highlight(n,{language:t}).value}return s.highlight(t,n).value};class A4 extends da{static register(){ge.register(Oa,!0),ge.register(mr,!0),ge.register(Oc,!0)}constructor(t,n){if(super(t,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((a,o)=>{let{key:l}=o;return a[l]=!0,a},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ge.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Oc))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(a=>{let{key:o,label:l}=a;const d=n.ownerDocument.createElement("option");d.textContent=l,d.setAttribute("value",o),n.appendChild(d)}),n.addEventListener("change",()=>{t.format(mr.blotName,n.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(n),t.children.head&&(n.value=mr.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(ge.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ge.sources.USER);const a=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Oc):[t]).forEach(l=>{l.highlight(this.highlightBlot,n)}),this.quill.update(ge.sources.SILENT),a!=null&&this.quill.setSelection(a,ge.sources.SILENT)}highlightBlot(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Ph(t).split(`
`).reduce((o,l,d)=>(d!==0&&o.insert(`
`,{[gn.blotName]:n}),o.insert(l)),new Ke);const a=this.quill.root.ownerDocument.createElement("div");return a.classList.add(gn.className),a.innerHTML=YM(this.options.hljs,n,t),Jx(this.quill.scroll,a,[(o,l)=>{const d=Cc.value(o);return d?l.compose(new Ke().retain(l.length(),{[Oa.blotName]:d})):l}],[(o,l)=>o.data.split(`
`).reduce((d,u,m)=>(m!==0&&d.insert(`
`,{[gn.blotName]:n}),d.insert(u)),l)],new WeakMap)}}A4.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Lr extends Ks{static blotName="table";static tagName="TD";static create(t){const n=super.create();return t?n.setAttribute("data-row",t):n.setAttribute("data-row",tg()),n}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,n){t===Lr.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(t,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class ho extends yo{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),n=this.children.tail.formats(),a=this.next.children.head.formats(),o=this.next.children.tail.formats();return t.table===n.table&&t.table===a.table&&t.table===o.table}return!1}optimize(t){super.optimize(t),this.children.forEach(n=>{if(n.next==null)return;const a=n.formats(),o=n.next.formats();if(a.table!==o.table){const l=this.splitAfter(n);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class pi extends yo{static blotName="table-body";static tagName="TBODY"}class Ju extends yo{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(ho),n=t.reduce((a,o)=>Math.max(o.children.length,a),0);t.forEach(a=>{new Array(n-a.children.length).fill(0).forEach(()=>{let o;a.children.head!=null&&(o=Lr.formats(a.children.head.domNode));const l=this.scroll.create(Lr.blotName,o);a.appendChild(l),l.optimize()})})}cells(t){return this.rows().map(n=>n.children.at(t))}deleteColumn(t){const[n]=this.descendant(pi);n==null||n.children.head==null||n.children.forEach(a=>{const o=a.children.at(t);o?.remove()})}insertColumn(t){const[n]=this.descendant(pi);n==null||n.children.head==null||n.children.forEach(a=>{const o=a.children.at(t),l=Lr.formats(a.children.head.domNode),d=this.scroll.create(Lr.blotName,l);a.insertBefore(d,o)})}insertRow(t){const[n]=this.descendant(pi);if(n==null||n.children.head==null)return;const a=tg(),o=this.scroll.create(ho.blotName);n.children.head.children.forEach(()=>{const d=this.scroll.create(Lr.blotName,a);o.appendChild(d)});const l=n.children.at(t);n.insertBefore(o,l)}rows(){const t=this.children.head;return t==null?[]:t.children.map(n=>n)}}Ju.allowedChildren=[pi];pi.requiredContainer=Ju;pi.allowedChildren=[ho];ho.requiredContainer=pi;ho.allowedChildren=[Lr];Lr.requiredContainer=ho;function tg(){return`row-${Math.random().toString(36).slice(2,6)}`}class XM extends da{static register(){ge.register(Lr),ge.register(ho),ge.register(pi),ge.register(Ju)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Ju).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,n]=this.getTable();n!=null&&(t.deleteColumn(n.cellOffset()),this.quill.update(ge.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(ge.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const n=t.offset();t.remove(),this.quill.update(ge.sources.USER),this.quill.setSelection(n,ge.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[n,a]=this.quill.getLine(t.index);if(n==null||n.statics.blotName!==Lr.blotName)return[null,null,null,-1];const o=n.parent;return[o.parent.parent,o,n,a]}insertColumn(t){const n=this.quill.getSelection();if(!n)return;const[a,o,l]=this.getTable(n);if(l==null)return;const d=l.cellOffset();a.insertColumn(d+t),this.quill.update(ge.sources.USER);let u=o.rowOffset();t===0&&(u+=1),this.quill.setSelection(n.index+u,n.length,ge.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const n=this.quill.getSelection();if(!n)return;const[a,o,l]=this.getTable(n);if(l==null)return;const d=o.rowOffset();a.insertRow(d+t),this.quill.update(ge.sources.USER),t>0?this.quill.setSelection(n,ge.sources.SILENT):this.quill.setSelection(n.index+o.children.length,n.length,ge.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,n){const a=this.quill.getSelection();if(a==null)return;const o=new Array(t).fill(0).reduce(l=>{const d=new Array(n).fill(`
`).join("");return l.insert(d,{table:tg()})},new Ke().retain(a.index));this.quill.updateContents(o,ge.sources.USER),this.quill.setSelection(a.index,ge.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ge.events.SCROLL_OPTIMIZE,t=>{t.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(ge.events.TEXT_CHANGE,(a,o,l)=>{l===ge.sources.USER&&this.balanceTables()}),!0):!1)})}}const Z1=Ma("quill:toolbar");class sg extends da{constructor(t,n){if(super(t,n),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),ZM(a,this.options.container),t.container?.parentNode?.insertBefore(a,t.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Z1.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{const o=this.options.handlers?.[a];o&&this.addHandler(a,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(ge.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(t,n){this.handlers[t]=n}attach(t){let n=Array.from(t.classList).find(o=>o.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){Z1.warn("ignoring attaching to nonexistent format",n,t);return}const a=t.tagName==="SELECT"?"change":"click";t.addEventListener(a,o=>{let l;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const u=t.options[t.selectedIndex];u.hasAttribute("selected")?l=!1:l=u.value||!1}else t.classList.contains("ql-active")?l=!1:l=t.value||!t.hasAttribute("value"),o.preventDefault();this.quill.focus();const[d]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,l);else if(this.quill.scroll.query(n).prototype instanceof Xn){if(l=prompt(`Enter ${n}`),!l)return;this.quill.updateContents(new Ke().retain(d.index).delete(d.length).insert({[n]:l}),ge.sources.USER)}else this.quill.format(n,l,ge.sources.USER);this.update(d)}),this.controls.push([n,t])}update(t){const n=t==null?{}:this.quill.getFormat(t);this.controls.forEach(a=>{const[o,l]=a;if(l.tagName==="SELECT"){let d=null;if(t==null)d=null;else if(n[o]==null)d=l.querySelector("option[selected]");else if(!Array.isArray(n[o])){let u=n[o];typeof u=="string"&&(u=u.replace(/"/g,'\\"')),d=l.querySelector(`option[value="${u}"]`)}d==null?(l.value="",l.selectedIndex=-1):d.selected=!0}else if(t==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const d=n[o],u=d===l.getAttribute("value")||d!=null&&d.toString()===l.getAttribute("value")||d==null&&!l.getAttribute("value");l.classList.toggle("ql-active",u),l.setAttribute("aria-pressed",u.toString())}else{const d=n[o]!=null;l.classList.toggle("ql-active",d),l.setAttribute("aria-pressed",d.toString())}})}}sg.DEFAULTS={};function J1(s,t,n){const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add(`ql-${t}`),a.setAttribute("aria-pressed","false"),n!=null?(a.value=n,a.setAttribute("aria-label",`${t}: ${n}`)):a.setAttribute("aria-label",t),s.appendChild(a)}function ZM(s,t){Array.isArray(t[0])||(t=[t]),t.forEach(n=>{const a=document.createElement("span");a.classList.add("ql-formats"),n.forEach(o=>{if(typeof o=="string")J1(a,o);else{const l=Object.keys(o)[0],d=o[l];Array.isArray(d)?JM(a,l,d):J1(a,l,d)}}),s.appendChild(a)})}function JM(s,t,n){const a=document.createElement("select");a.classList.add(`ql-${t}`),n.forEach(o=>{const l=document.createElement("option");o!==!1?l.setAttribute("value",String(o)):l.setAttribute("selected","selected"),a.appendChild(l)}),s.appendChild(a)}sg.DEFAULTS={container:null,handlers:{clean(){const s=this.quill.getSelection();if(s!=null)if(s.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(n=>{this.quill.scroll.query(n,Ge.INLINE)!=null&&this.quill.format(n,!1,ge.sources.USER)})}else this.quill.removeFormat(s.index,s.length,ge.sources.USER)},direction(s){const{align:t}=this.quill.getFormat();s==="rtl"&&t==null?this.quill.format("align","right",ge.sources.USER):!s&&t==="right"&&this.quill.format("align",!1,ge.sources.USER),this.quill.format("direction",s,ge.sources.USER)},indent(s){const t=this.quill.getSelection(),n=this.quill.getFormat(t),a=parseInt(n.indent||0,10);if(s==="+1"||s==="-1"){let o=s==="+1"?1:-1;n.direction==="rtl"&&(o*=-1),this.quill.format("indent",a+o,ge.sources.USER)}},link(s){s===!0&&(s=prompt("Enter link URL:")),this.quill.format("link",s,ge.sources.USER)},list(s){const t=this.quill.getSelection(),n=this.quill.getFormat(t);s==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,ge.sources.USER):this.quill.format("list","unchecked",ge.sources.USER):this.quill.format("list",s,ge.sources.USER)}}};const e7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',t7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',s7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',n7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',r7='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',a7='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',i7='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',o7='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',eb='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',l7='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',c7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',d7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',u7='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',h7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',m7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',f7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',p7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',x7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',g7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',v7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',y7='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',b7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',w7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',j7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',N7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',k7='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',S7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',C7='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',E7='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',T7='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',A7='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',P7='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',R7='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Wc={align:{"":e7,center:t7,right:s7,justify:n7},background:r7,blockquote:a7,bold:i7,clean:o7,code:eb,"code-block":eb,color:l7,direction:{"":c7,rtl:d7},formula:u7,header:{1:h7,2:m7,3:f7,4:p7,5:x7,6:g7},italic:v7,image:y7,indent:{"+1":b7,"-1":w7},link:j7,list:{bullet:N7,check:k7,ordered:S7},script:{sub:C7,super:E7},strike:T7,table:A7,underline:P7,video:R7},_7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let tb=0;function sb(s,t){s.setAttribute(t,`${s.getAttribute(t)!=="true"}`)}class _h{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),sb(this.label,"aria-expanded"),sb(this.options,"aria-hidden")}buildItem(t){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const a=t.getAttribute("value");return a&&n.setAttribute("data-value",a),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",o=>{switch(o.key){case"Enter":this.selectItem(n,!0),o.preventDefault();break;case"Escape":this.escape(),o.preventDefault();break}}),n}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=_7,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${tb}`,tb+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(n=>{const a=this.buildItem(n);t.appendChild(a),n.selected===!0&&this.selectItem(a)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const a=this.container.querySelector(".ql-selected");t!==a&&(a?.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const a=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(a)}else this.selectItem(null);const n=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class P4 extends _h{constructor(t,n){super(t),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(a=>{a.classList.add("ql-primary")})}buildItem(t){const n=super.buildItem(t);return n.style.backgroundColor=t.getAttribute("value")||"",n}selectItem(t,n){super.selectItem(t,n);const a=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";a&&(a.tagName==="line"?a.style.stroke=o:a.style.fill=o)}}class R4 extends _h{constructor(t,n){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(a=>{a.innerHTML=n[a.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,n){super.selectItem(t,n);const a=t||this.defaultItem;if(a!=null){if(this.label.innerHTML===a.innerHTML)return;this.label.innerHTML=a.innerHTML}}}const O7=s=>{const{overflowY:t}=getComputedStyle(s,null);return t!=="visible"&&t!=="clip"};class _4{constructor(t,n){this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,O7(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const n=t.left+t.width/2-this.root.offsetWidth/2,a=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${a}px`,this.root.classList.remove("ql-flip");const o=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let d=0;if(l.right>o.right&&(d=o.right-l.right,this.root.style.left=`${n+d}px`),l.left<o.left&&(d=o.left-l.left,this.root.style.left=`${n+d}px`),l.bottom>o.bottom){const u=l.bottom-l.top,m=t.bottom-t.top+u;this.root.style.top=`${a-m}px`,this.root.classList.add("ql-flip")}return d}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const L7=[!1,"center","right","justify"],I7=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M7=[!1,"serif","monospace"],D7=["1","2","3",!1],q7=["small",!1,"large","huge"];class td extends Ol{constructor(t,n){super(t,n);const a=o=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",a);return}this.tooltip!=null&&!this.tooltip.root.contains(o.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(o.target)||l.close()})};t.emitter.listenDOM("click",document.body,a)}addModule(t){const n=super.addModule(t);return t==="toolbar"&&this.extendToolbar(n),n}buildButtons(t,n){Array.from(t).forEach(a=>{(a.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),n[l]!=null))if(l==="direction")a.innerHTML=n[l][""]+n[l].rtl;else if(typeof n[l]=="string")a.innerHTML=n[l];else{const d=a.value||"";d!=null&&n[l][d]&&(a.innerHTML=n[l][d])}})})}buildPickers(t,n){this.pickers=Array.from(t).map(o=>{if(o.classList.contains("ql-align")&&(o.querySelector("option")==null&&gc(o,L7),typeof n.align=="object"))return new R4(o,n.align);if(o.classList.contains("ql-background")||o.classList.contains("ql-color")){const l=o.classList.contains("ql-background")?"background":"color";return o.querySelector("option")==null&&gc(o,I7,l==="background"?"#ffffff":"#000000"),new P4(o,n[l])}return o.querySelector("option")==null&&(o.classList.contains("ql-font")?gc(o,M7):o.classList.contains("ql-header")?gc(o,D7):o.classList.contains("ql-size")&&gc(o,q7)),new _h(o)});const a=()=>{this.pickers.forEach(o=>{o.update()})};this.quill.on(Ue.events.EDITOR_CHANGE,a)}}td.DEFAULTS=fi({},Ol.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let s=this.container.querySelector("input.ql-image[type=file]");s==null&&(s=document.createElement("input"),s.setAttribute("type","file"),s.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),s.classList.add("ql-image"),s.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,s.files),s.value=""}),this.container.appendChild(s)),s.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class O4 extends _4{constructor(t,n){super(t,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const a=this.quill.getBounds(this.quill.selection.savedRange);a!=null&&this.position(a),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Ue.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Ue.sources.USER)),this.quill.root.scrollTop=n;break}case"video":t=$7(t);case"formula":{if(!t)break;const n=this.quill.getSelection(!0);if(n!=null){const a=n.index+n.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),t,Ue.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(a+1," ",Ue.sources.USER),this.quill.setSelection(a+2,Ue.sources.USER)}break}}this.textbox.value="",this.hide()}}function $7(s){let t=s.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||s.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=s.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:s}function gc(s,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(a=>{const o=document.createElement("option");a===n?o.setAttribute("selected","selected"):o.setAttribute("value",String(a)),s.appendChild(o)})}const F7=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class z7 extends O4{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,n){super(t,n),this.quill.on(Ue.events.EDITOR_CHANGE,(a,o,l,d)=>{if(a===Ue.events.SELECTION_CHANGE)if(o!=null&&o.length>0&&d===Ue.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const u=this.quill.getLines(o.index,o.length);if(u.length===1){const m=this.quill.getBounds(o);m!=null&&this.position(m)}else{const m=u[u.length-1],f=this.quill.getIndex(m),y=Math.min(m.length()-1,o.index+o.length-f),v=this.quill.getBounds(new uo(f,y));v!=null&&this.position(v)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ue.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const n=this.quill.getBounds(t);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(t){const n=super.position(t),a=this.root.querySelector(".ql-tooltip-arrow");return a.style.marginLeft="",n!==0&&(a.style.marginLeft=`${-1*n-a.offsetWidth/2}px`),n}}class L4 extends td{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=F7),super(t,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new z7(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Wc),this.buildPickers(t.container.querySelectorAll("select"),Wc))}}L4.DEFAULTS=fi({},td.DEFAULTS,{modules:{toolbar:{handlers:{link(s){s?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ge.sources.USER)}}}}});const U7=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class B7 extends O4{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Ue.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Ue.events.SELECTION_CHANGE,(t,n,a)=>{if(t!=null){if(t.length===0&&a===Ue.sources.USER){const[o,l]=this.quill.scroll.descendant(Zu,t.index);if(o!=null){this.linkRange=new uo(t.index-l,o.length());const d=Zu.formats(o.domNode);this.preview.textContent=d,this.preview.setAttribute("href",d),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class I4 extends td{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=U7),super(t,n),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Wc),this.buildPickers(t.container.querySelectorAll("select"),Wc),this.tooltip=new B7(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,a)=>{t.handlers.link.call(t,!a.format.link)}))}}I4.DEFAULTS=fi({},td.DEFAULTS,{modules:{toolbar:{handlers:{link(s){if(s){const t=this.quill.getSelection();if(t==null||t.length===0)return;let n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:a}=this.quill.theme;a.edit("link",n)}else this.quill.format("link",!1,ge.sources.USER)}}}}});ge.register({"attributors/attribute/direction":v4,"attributors/class/align":p4,"attributors/class/background":Q8,"attributors/class/color":V8,"attributors/class/direction":y4,"attributors/class/font":j4,"attributors/class/size":k4,"attributors/style/align":x4,"attributors/style/background":Gx,"attributors/style/color":Qx,"attributors/style/direction":b4,"attributors/style/font":N4,"attributors/style/size":S4},!0);ge.register({"formats/align":p4,"formats/direction":y4,"formats/indent":FM,"formats/background":Gx,"formats/color":Qx,"formats/font":j4,"formats/size":k4,"formats/blockquote":zM,"formats/code-block":gn,"formats/header":UM,"formats/list":ed,"formats/bold":eg,"formats/code":Yx,"formats/italic":BM,"formats/link":Zu,"formats/script":HM,"formats/strike":WM,"formats/underline":KM,"formats/formula":VM,"formats/image":QM,"formats/video":GM,"modules/syntax":A4,"modules/table":XM,"modules/toolbar":sg,"themes/bubble":L4,"themes/snow":I4,"ui/icons":Wc,"ui/picker":_h,"ui/icon-picker":R4,"ui/color-picker":P4,"ui/tooltip":_4},!0);var Oh=class extends rt.Component{constructor(s){super(s),this.editingAreaRef=x.createRef(),this.containerRef=x.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp","useSemanticHTML"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,a,o,l)=>{n==="text-change"?this.onEditorChangeText?.(this.props.useSemanticHTML!==!1?this.editor.getSemanticHTML():this.editor.root.innerHTML,a,l,this.unprivilegedEditor):n==="selection-change"&&this.onEditorChangeSelection?.(a,l,this.unprivilegedEditor)};const t=this.isControlled()?s.value:s.defaultValue;this.value=t??""}validateProps(s){if(rt.Children.count(s.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(rt.Children.count(s.children)&&rt.Children.only(s.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&s.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(s,t){if(this.validateProps(s),!this.editor||this.state.generation!==t.generation)return!0;if("value"in s){const n=this.getEditorContents(),a=s.value??"";this.isEqualValue(a,n)||this.setEditorContents(this.editor,a)}return s.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,s.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!di(s[n],this.props[n]))}shouldComponentRegenerate(s){return this.dirtyProps.some(t=>!di(s[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(s,t){if(this.editor&&this.shouldComponentRegenerate(s)){const n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.editor&&s.placeholder!==this.props.placeholder&&(this.editor.root.dataset.placeholder=this.props.placeholder||""),this.state.generation!==t.generation){const{delta:n,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const o=this.editor;o.setContents(n),nb(()=>this.setEditorSelection(o,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const s=this.props.modules?.toolbar;if(!(typeof s=="object"&&s&&"container"in s&&typeof s.container=="string"||typeof s=="string")){const n=this.containerRef.current?.querySelector(".ql-toolbar");n&&n.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(s,t){const n=new ge(s,t);return t.tabIndex!=null&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n}hookEditor(s){this.unprivilegedEditor=this.makeUnprivilegedEditor(s),s.on("editor-change",this.onEditorChange)}unhookEditor(s){s.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(s){return s&&s.ops}isEqualValue(s,t){return this.isDelta(s)&&this.isDelta(t)?di(s.ops,t.ops):di(s,t)}setEditorContents(s,t){this.value=t;const n=this.getEditorSelection();typeof t=="string"?s.setContents(s.clipboard.convert({html:t})):s.setContents(t),nb(()=>this.setEditorSelection(s,n))}setEditorSelection(s,t){if(this.selection=t,t){const n=s.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),s.setSelection(t)}}setEditorTabIndex(s,t){s?.scroll?.domNode&&(s.scroll.domNode.tabIndex=t)}setEditorReadOnly(s,t){t?s.disable():s.enable()}makeUnprivilegedEditor(s){const t=s;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const s=this.editingAreaRef.current;if(!s)throw new Error("Cannot find element for editing area");if(s.nodeType===3)throw new Error("Editing area cannot be a text node");return s}renderEditingArea(){const{children:s,preserveWhitespace:t}=this.props,{generation:n}=this.state;return rt.Children.count(s)?rt.cloneElement(rt.Children.only(s),{key:n,ref:this.editingAreaRef}):t?e.jsx("pre",{ref:this.editingAreaRef},n):e.jsx("div",{ref:this.editingAreaRef},n)}render(){return e.jsx("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,children:this.renderEditingArea()},this.state.generation)}onEditorChangeText(s,t,n,a){if(!this.editor)return;const o=this.isDelta(this.value)?a.getContents():this.props.useSemanticHTML!==!1?a.getSemanticHTML():a.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,this.props.onChange?.(s,t,n,a))}onEditorChangeSelection(s,t,n){if(!this.editor)return;const a=this.getEditorSelection(),o=!a&&s,l=a&&!s;di(s,a)||(this.selection=s,this.props.onChangeSelection?.(s,t,n),o?this.props.onFocus?.(s,t,n):l&&this.props.onBlur?.(a,t,n))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}};Oh.displayName="React Quill";Oh.Quill=ge;Oh.defaultProps={theme:"snow",modules:{},readOnly:!1};function nb(s){Promise.resolve().then(s)}var M4=Oh;const{entries:D4,setPrototypeOf:rb,isFrozen:H7,getPrototypeOf:W7,getOwnPropertyDescriptor:K7}=Object;let{freeze:vn,seal:yr,create:Kp}=Object,{apply:Vp,construct:Qp}=typeof Reflect<"u"&&Reflect;vn||(vn=function(t){return t});yr||(yr=function(t){return t});Vp||(Vp=function(t,n){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];return t.apply(n,o)});Qp||(Qp=function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return new t(...a)});const vu=yn(Array.prototype.forEach),V7=yn(Array.prototype.lastIndexOf),ab=yn(Array.prototype.pop),vc=yn(Array.prototype.push),Q7=yn(Array.prototype.splice),Au=yn(String.prototype.toLowerCase),Hf=yn(String.prototype.toString),Wf=yn(String.prototype.match),yc=yn(String.prototype.replace),G7=yn(String.prototype.indexOf),Y7=yn(String.prototype.trim),Pr=yn(Object.prototype.hasOwnProperty),fn=yn(RegExp.prototype.test),bc=X7(TypeError);function yn(s){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return Vp(s,t,a)}}function X7(s){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qp(s,n)}}function mt(s,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Au;rb&&rb(s,null);let a=t.length;for(;a--;){let o=t[a];if(typeof o=="string"){const l=n(o);l!==o&&(H7(t)||(t[a]=l),o=l)}s[o]=!0}return s}function Z7(s){for(let t=0;t<s.length;t++)Pr(s,t)||(s[t]=null);return s}function ea(s){const t=Kp(null);for(const[n,a]of D4(s))Pr(s,n)&&(Array.isArray(a)?t[n]=Z7(a):a&&typeof a=="object"&&a.constructor===Object?t[n]=ea(a):t[n]=a);return t}function wc(s,t){for(;s!==null;){const a=K7(s,t);if(a){if(a.get)return yn(a.get);if(typeof a.value=="function")return yn(a.value)}s=W7(s)}function n(){return null}return n}const ib=vn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kf=vn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vf=vn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),J7=vn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qf=vn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),e9=vn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ob=vn(["#text"]),lb=vn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Gf=vn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),cb=vn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yu=vn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),t9=yr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),s9=yr(/<%[\w\W]*|[\w\W]*%>/gm),n9=yr(/\$\{[\w\W]*/gm),r9=yr(/^data-[\-\w.\u00B7-\uFFFF]+$/),a9=yr(/^aria-[\-\w]+$/),q4=yr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),i9=yr(/^(?:\w+script|data):/i),o9=yr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$4=yr(/^html$/i),l9=yr(/^[a-z][.\w]*(-[.\w]+)+$/i);var db=Object.freeze({__proto__:null,ARIA_ATTR:a9,ATTR_WHITESPACE:o9,CUSTOM_ELEMENT:l9,DATA_ATTR:r9,DOCTYPE_NAME:$4,ERB_EXPR:s9,IS_ALLOWED_URI:q4,IS_SCRIPT_OR_DATA:i9,MUSTACHE_EXPR:t9,TMPLIT_EXPR:n9});const jc={element:1,text:3,progressingInstruction:7,comment:8,document:9},c9=function(){return typeof window>"u"?null:window},d9=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(a=n.getAttribute(o));const l="dompurify"+(a?"#"+a:"");try{return t.createPolicy(l,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},ub=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function F4(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c9();const t=Be=>F4(Be);if(t.version="3.3.1",t.removed=[],!s||!s.document||s.document.nodeType!==jc.document||!s.Element)return t.isSupported=!1,t;let{document:n}=s;const a=n,o=a.currentScript,{DocumentFragment:l,HTMLTemplateElement:d,Node:u,Element:m,NodeFilter:f,NamedNodeMap:y=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:v,DOMParser:g,trustedTypes:N}=s,S=m.prototype,b=wc(S,"cloneNode"),k=wc(S,"remove"),P=wc(S,"nextSibling"),R=wc(S,"childNodes"),T=wc(S,"parentNode");if(typeof d=="function"){const Be=n.createElement("template");Be.content&&Be.content.ownerDocument&&(n=Be.content.ownerDocument)}let O,H="";const{implementation:se,createNodeIterator:K,createDocumentFragment:re,getElementsByTagName:W}=n,{importNode:me}=a;let I=ub();t.isSupported=typeof D4=="function"&&typeof T=="function"&&se&&se.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:X,ERB_EXPR:$,TMPLIT_EXPR:Q,DATA_ATTR:ne,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:C,ATTR_WHITESPACE:E,CUSTOM_ELEMENT:G}=db;let{IS_ALLOWED_URI:Y}=db,q=null;const ee=mt({},[...ib,...Kf,...Vf,...Qf,...ob]);let xe=null;const U=mt({},[...lb,...Gf,...cb,...yu]);let _=Object.seal(Kp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),D=null,oe=null;const ue=Object.seal(Kp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ke=!0,ye=!0,Ee=!1,De=!0,Ve=!1,Xe=!0,ut=!1,is=!1,os=!1,Ss=!1,Vs=!1,fs=!1,bs=!0,Pt=!1;const qt="user-content-";let bt=!0,le=!1,_e={},et=null;const wt=mt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ls=null;const $t=mt({},["audio","video","img","source","image","track"]);let M=null;const pe=mt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let It=nt,Qs=!1,rn=null;const $s=mt({},[Ye,vt,nt],Hf);let an=mt({},["mi","mo","mn","ms","mtext"]),Fs=mt({},["annotation-xml"]);const Gs=mt({},["title","style","font","a","script"]);let bn=null;const Zn=["application/xhtml+xml","text/html"],Ur="text/html";let zt=null,on=null;const wn=n.createElement("form"),Br=function(J){return J instanceof RegExp||J instanceof Function},Cs=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(on&&on===J)){if((!J||typeof J!="object")&&(J={}),J=ea(J),bn=Zn.indexOf(J.PARSER_MEDIA_TYPE)===-1?Ur:J.PARSER_MEDIA_TYPE,zt=bn==="application/xhtml+xml"?Hf:Au,q=Pr(J,"ALLOWED_TAGS")?mt({},J.ALLOWED_TAGS,zt):ee,xe=Pr(J,"ALLOWED_ATTR")?mt({},J.ALLOWED_ATTR,zt):U,rn=Pr(J,"ALLOWED_NAMESPACES")?mt({},J.ALLOWED_NAMESPACES,Hf):$s,M=Pr(J,"ADD_URI_SAFE_ATTR")?mt(ea(pe),J.ADD_URI_SAFE_ATTR,zt):pe,ls=Pr(J,"ADD_DATA_URI_TAGS")?mt(ea($t),J.ADD_DATA_URI_TAGS,zt):$t,et=Pr(J,"FORBID_CONTENTS")?mt({},J.FORBID_CONTENTS,zt):wt,D=Pr(J,"FORBID_TAGS")?mt({},J.FORBID_TAGS,zt):ea({}),oe=Pr(J,"FORBID_ATTR")?mt({},J.FORBID_ATTR,zt):ea({}),_e=Pr(J,"USE_PROFILES")?J.USE_PROFILES:!1,ke=J.ALLOW_ARIA_ATTR!==!1,ye=J.ALLOW_DATA_ATTR!==!1,Ee=J.ALLOW_UNKNOWN_PROTOCOLS||!1,De=J.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ve=J.SAFE_FOR_TEMPLATES||!1,Xe=J.SAFE_FOR_XML!==!1,ut=J.WHOLE_DOCUMENT||!1,Ss=J.RETURN_DOM||!1,Vs=J.RETURN_DOM_FRAGMENT||!1,fs=J.RETURN_TRUSTED_TYPE||!1,os=J.FORCE_BODY||!1,bs=J.SANITIZE_DOM!==!1,Pt=J.SANITIZE_NAMED_PROPS||!1,bt=J.KEEP_CONTENT!==!1,le=J.IN_PLACE||!1,Y=J.ALLOWED_URI_REGEXP||q4,It=J.NAMESPACE||nt,an=J.MATHML_TEXT_INTEGRATION_POINTS||an,Fs=J.HTML_INTEGRATION_POINTS||Fs,_=J.CUSTOM_ELEMENT_HANDLING||{},J.CUSTOM_ELEMENT_HANDLING&&Br(J.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_.tagNameCheck=J.CUSTOM_ELEMENT_HANDLING.tagNameCheck),J.CUSTOM_ELEMENT_HANDLING&&Br(J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_.attributeNameCheck=J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),J.CUSTOM_ELEMENT_HANDLING&&typeof J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_.allowCustomizedBuiltInElements=J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ve&&(ye=!1),Vs&&(Ss=!0),_e&&(q=mt({},ob),xe=[],_e.html===!0&&(mt(q,ib),mt(xe,lb)),_e.svg===!0&&(mt(q,Kf),mt(xe,Gf),mt(xe,yu)),_e.svgFilters===!0&&(mt(q,Vf),mt(xe,Gf),mt(xe,yu)),_e.mathMl===!0&&(mt(q,Qf),mt(xe,cb),mt(xe,yu))),J.ADD_TAGS&&(typeof J.ADD_TAGS=="function"?ue.tagCheck=J.ADD_TAGS:(q===ee&&(q=ea(q)),mt(q,J.ADD_TAGS,zt))),J.ADD_ATTR&&(typeof J.ADD_ATTR=="function"?ue.attributeCheck=J.ADD_ATTR:(xe===U&&(xe=ea(xe)),mt(xe,J.ADD_ATTR,zt))),J.ADD_URI_SAFE_ATTR&&mt(M,J.ADD_URI_SAFE_ATTR,zt),J.FORBID_CONTENTS&&(et===wt&&(et=ea(et)),mt(et,J.FORBID_CONTENTS,zt)),J.ADD_FORBID_CONTENTS&&(et===wt&&(et=ea(et)),mt(et,J.ADD_FORBID_CONTENTS,zt)),bt&&(q["#text"]=!0),ut&&mt(q,["html","head","body"]),q.table&&(mt(q,["tbody"]),delete D.tbody),J.TRUSTED_TYPES_POLICY){if(typeof J.TRUSTED_TYPES_POLICY.createHTML!="function")throw bc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof J.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw bc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=J.TRUSTED_TYPES_POLICY,H=O.createHTML("")}else O===void 0&&(O=d9(N,o)),O!==null&&typeof H=="string"&&(H=O.createHTML(""));vn&&vn(J),on=J}},Hr=mt({},[...Kf,...Vf,...J7]),Jn=mt({},[...Qf,...e9]),Ti=function(J){let ve=T(J);(!ve||!ve.tagName)&&(ve={namespaceURI:It,tagName:"template"});const Me=Au(J.tagName),Mt=Au(ve.tagName);return rn[J.namespaceURI]?J.namespaceURI===vt?ve.namespaceURI===nt?Me==="svg":ve.namespaceURI===Ye?Me==="svg"&&(Mt==="annotation-xml"||an[Mt]):!!Hr[Me]:J.namespaceURI===Ye?ve.namespaceURI===nt?Me==="math":ve.namespaceURI===vt?Me==="math"&&Fs[Mt]:!!Jn[Me]:J.namespaceURI===nt?ve.namespaceURI===vt&&!Fs[Mt]||ve.namespaceURI===Ye&&!an[Mt]?!1:!Jn[Me]&&(Gs[Me]||!Hr[Me]):!!(bn==="application/xhtml+xml"&&rn[J.namespaceURI]):!1},ps=function(J){vc(t.removed,{element:J});try{T(J).removeChild(J)}catch{k(J)}},Is=function(J,ve){try{vc(t.removed,{attribute:ve.getAttributeNode(J),from:ve})}catch{vc(t.removed,{attribute:null,from:ve})}if(ve.removeAttribute(J),J==="is")if(Ss||Vs)try{ps(ve)}catch{}else try{ve.setAttribute(J,"")}catch{}},Vt=function(J){let ve=null,Me=null;if(os)J="<remove></remove>"+J;else{const Bt=Wf(J,/^[\r\n\t ]+/);Me=Bt&&Bt[0]}bn==="application/xhtml+xml"&&It===nt&&(J='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+J+"</body></html>");const Mt=O?O.createHTML(J):J;if(It===nt)try{ve=new g().parseFromString(Mt,bn)}catch{}if(!ve||!ve.documentElement){ve=se.createDocument(It,"template",null);try{ve.documentElement.innerHTML=Qs?H:Mt}catch{}}const ot=ve.body||ve.documentElement;return J&&Me&&ot.insertBefore(n.createTextNode(Me),ot.childNodes[0]||null),It===nt?W.call(ve,ut?"html":"body")[0]:ut?ve.documentElement:ot},Wr=function(J){return K.call(J.ownerDocument||J,J,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},ua=function(J){return J instanceof v&&(typeof J.nodeName!="string"||typeof J.textContent!="string"||typeof J.removeChild!="function"||!(J.attributes instanceof y)||typeof J.removeAttribute!="function"||typeof J.setAttribute!="function"||typeof J.namespaceURI!="string"||typeof J.insertBefore!="function"||typeof J.hasChildNodes!="function")},Da=function(J){return typeof u=="function"&&J instanceof u};function ln(Be,J,ve){vu(Be,Me=>{Me.call(t,J,ve,on)})}const jn=function(J){let ve=null;if(ln(I.beforeSanitizeElements,J,null),ua(J))return ps(J),!0;const Me=zt(J.nodeName);if(ln(I.uponSanitizeElement,J,{tagName:Me,allowedTags:q}),Xe&&J.hasChildNodes()&&!Da(J.firstElementChild)&&fn(/<[/\w!]/g,J.innerHTML)&&fn(/<[/\w!]/g,J.textContent)||J.nodeType===jc.progressingInstruction||Xe&&J.nodeType===jc.comment&&fn(/<[/\w]/g,J.data))return ps(J),!0;if(!(ue.tagCheck instanceof Function&&ue.tagCheck(Me))&&(!q[Me]||D[Me])){if(!D[Me]&&ha(Me)&&(_.tagNameCheck instanceof RegExp&&fn(_.tagNameCheck,Me)||_.tagNameCheck instanceof Function&&_.tagNameCheck(Me)))return!1;if(bt&&!et[Me]){const Mt=T(J)||J.parentNode,ot=R(J)||J.childNodes;if(ot&&Mt){const Bt=ot.length;for(let ds=Bt-1;ds>=0;--ds){const Es=b(ot[ds],!0);Es.__removalCount=(J.__removalCount||0)+1,Mt.insertBefore(Es,P(J))}}}return ps(J),!0}return J instanceof m&&!Ti(J)||(Me==="noscript"||Me==="noembed"||Me==="noframes")&&fn(/<\/no(script|embed|frames)/i,J.innerHTML)?(ps(J),!0):(Ve&&J.nodeType===jc.text&&(ve=J.textContent,vu([X,$,Q],Mt=>{ve=yc(ve,Mt," ")}),J.textContent!==ve&&(vc(t.removed,{element:J.cloneNode()}),J.textContent=ve)),ln(I.afterSanitizeElements,J,null),!1)},cs=function(J,ve,Me){if(bs&&(ve==="id"||ve==="name")&&(Me in n||Me in wn))return!1;if(!(ye&&!oe[ve]&&fn(ne,ve))){if(!(ke&&fn(F,ve))){if(!(ue.attributeCheck instanceof Function&&ue.attributeCheck(ve,J))){if(!xe[ve]||oe[ve]){if(!(ha(J)&&(_.tagNameCheck instanceof RegExp&&fn(_.tagNameCheck,J)||_.tagNameCheck instanceof Function&&_.tagNameCheck(J))&&(_.attributeNameCheck instanceof RegExp&&fn(_.attributeNameCheck,ve)||_.attributeNameCheck instanceof Function&&_.attributeNameCheck(ve,J))||ve==="is"&&_.allowCustomizedBuiltInElements&&(_.tagNameCheck instanceof RegExp&&fn(_.tagNameCheck,Me)||_.tagNameCheck instanceof Function&&_.tagNameCheck(Me))))return!1}else if(!M[ve]){if(!fn(Y,yc(Me,E,""))){if(!((ve==="src"||ve==="xlink:href"||ve==="href")&&J!=="script"&&G7(Me,"data:")===0&&ls[J])){if(!(Ee&&!fn(C,yc(Me,E,"")))){if(Me)return!1}}}}}}}return!0},ha=function(J){return J!=="annotation-xml"&&Wf(J,G)},qa=function(J){ln(I.beforeSanitizeAttributes,J,null);const{attributes:ve}=J;if(!ve||ua(J))return;const Me={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe,forceKeepAttr:void 0};let Mt=ve.length;for(;Mt--;){const ot=ve[Mt],{name:Bt,namespaceURI:ds,value:Es}=ot,Ys=zt(Bt),er=Es;let Rt=Bt==="value"?er:Y7(er);if(Me.attrName=Ys,Me.attrValue=Rt,Me.keepAttr=!0,Me.forceKeepAttr=void 0,ln(I.uponSanitizeAttribute,J,Me),Rt=Me.attrValue,Pt&&(Ys==="id"||Ys==="name")&&(Is(Bt,J),Rt=qt+Rt),Xe&&fn(/((--!?|])>)|<\/(style|title|textarea)/i,Rt)){Is(Bt,J);continue}if(Ys==="attributename"&&Wf(Rt,"href")){Is(Bt,J);continue}if(Me.forceKeepAttr)continue;if(!Me.keepAttr){Is(Bt,J);continue}if(!De&&fn(/\/>/i,Rt)){Is(Bt,J);continue}Ve&&vu([X,$,Q],zs=>{Rt=yc(Rt,zs," ")});const Dn=zt(J.nodeName);if(!cs(Dn,Ys,Rt)){Is(Bt,J);continue}if(O&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!ds)switch(N.getAttributeType(Dn,Ys)){case"TrustedHTML":{Rt=O.createHTML(Rt);break}case"TrustedScriptURL":{Rt=O.createScriptURL(Rt);break}}if(Rt!==er)try{ds?J.setAttributeNS(ds,Bt,Rt):J.setAttribute(Bt,Rt),ua(J)?ps(J):ab(t.removed)}catch{Is(Bt,J)}}ln(I.afterSanitizeAttributes,J,null)},$a=function Be(J){let ve=null;const Me=Wr(J);for(ln(I.beforeSanitizeShadowDOM,J,null);ve=Me.nextNode();)ln(I.uponSanitizeShadowNode,ve,null),jn(ve),qa(ve),ve.content instanceof l&&Be(ve.content);ln(I.afterSanitizeShadowDOM,J,null)};return t.sanitize=function(Be){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=null,Me=null,Mt=null,ot=null;if(Qs=!Be,Qs&&(Be="<!-->"),typeof Be!="string"&&!Da(Be))if(typeof Be.toString=="function"){if(Be=Be.toString(),typeof Be!="string")throw bc("dirty is not a string, aborting")}else throw bc("toString is not a function");if(!t.isSupported)return Be;if(is||Cs(J),t.removed=[],typeof Be=="string"&&(le=!1),le){if(Be.nodeName){const Es=zt(Be.nodeName);if(!q[Es]||D[Es])throw bc("root node is forbidden and cannot be sanitized in-place")}}else if(Be instanceof u)ve=Vt("<!---->"),Me=ve.ownerDocument.importNode(Be,!0),Me.nodeType===jc.element&&Me.nodeName==="BODY"||Me.nodeName==="HTML"?ve=Me:ve.appendChild(Me);else{if(!Ss&&!Ve&&!ut&&Be.indexOf("<")===-1)return O&&fs?O.createHTML(Be):Be;if(ve=Vt(Be),!ve)return Ss?null:fs?H:""}ve&&os&&ps(ve.firstChild);const Bt=Wr(le?Be:ve);for(;Mt=Bt.nextNode();)jn(Mt),qa(Mt),Mt.content instanceof l&&$a(Mt.content);if(le)return Be;if(Ss){if(Vs)for(ot=re.call(ve.ownerDocument);ve.firstChild;)ot.appendChild(ve.firstChild);else ot=ve;return(xe.shadowroot||xe.shadowrootmode)&&(ot=me.call(a,ot,!0)),ot}let ds=ut?ve.outerHTML:ve.innerHTML;return ut&&q["!doctype"]&&ve.ownerDocument&&ve.ownerDocument.doctype&&ve.ownerDocument.doctype.name&&fn($4,ve.ownerDocument.doctype.name)&&(ds="<!DOCTYPE "+ve.ownerDocument.doctype.name+`>
`+ds),Ve&&vu([X,$,Q],Es=>{ds=yc(ds,Es," ")}),O&&fs?O.createHTML(ds):ds},t.setConfig=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Cs(Be),is=!0},t.clearConfig=function(){on=null,is=!1},t.isValidAttribute=function(Be,J,ve){on||Cs({});const Me=zt(Be),Mt=zt(J);return cs(Me,Mt,ve)},t.addHook=function(Be,J){typeof J=="function"&&vc(I[Be],J)},t.removeHook=function(Be,J){if(J!==void 0){const ve=V7(I[Be],J);return ve===-1?void 0:Q7(I[Be],ve,1)[0]}return ab(I[Be])},t.removeHooks=function(Be){I[Be]=[]},t.removeAllHooks=function(){I=ub()},t}var u9=F4();function h9({value:s,onChange:t,placeholder:n,className:a}){const o=x.useRef(null),l=x.useMemo(()=>({toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link"],["clean"]]}),[]),d=["header","bold","italic","underline","strike","color","background","blockquote","code-block","list","indent","link"];return e.jsx("div",{className:`quill-wrapper ${a||""}`,"data-testid":"quill-editor",children:e.jsx(M4,{ref:o,theme:"snow",value:s,onChange:t,modules:l,formats:d,placeholder:n||"Start typing..."})})}function z4(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}function m9({question:s,onClose:t}){const{toast:n}=gt(),[a,o]=x.useState(s.answer||""),[l,d]=x.useState(s.isPublic??!0),u=Re({mutationFn:f=>Ae("PATCH",`/api/qa/questions/${s.id}`,f),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/qa/questions"]}),n({title:"Answer saved"}),t()},onError:()=>n({title:"Failed to save answer",variant:"destructive"})});function m(){const f=a.trim()?"answered":"unanswered";u.mutate({answer:a.trim(),status:f,isPublic:l})}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx(z,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-back-questions",children:e.jsx(Ta,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-lg font-semibold","data-testid":"text-answer-editor-title",children:"Answer Question"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2 flex-wrap",children:[e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>d(!l),"data-testid":"button-toggle-visibility",children:[l?e.jsx(El,{className:"w-4 h-4 mr-1.5"}):e.jsx(hx,{className:"w-4 h-4 mr-1.5"}),l?"Public":"Hidden"]}),e.jsxs(z,{onClick:m,disabled:u.isPending,"data-testid":"button-save-answer",children:[u.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(mx,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-2",children:"Save"})]})]})]}),e.jsxs(de,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:s.authorName}),e.jsx("span",{children:""}),e.jsx("span",{children:s.authorEmail}),e.jsx("span",{children:""}),e.jsx(Jt,{className:"w-3 h-3"}),e.jsx("span",{children:z4(s.createdAt)})]}),e.jsx("p",{className:"text-foreground whitespace-pre-wrap","data-testid":"text-question-content",children:s.question})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Your Answer"}),e.jsx(h9,{value:a,onChange:o,placeholder:"Write your answer here... Use the toolbar to format text, add headings, code blocks, callouts (blockquotes), and more."})]})]})}function f9(){Yn("Q&A");const{toast:s}=gt(),[t,n]=x.useState(""),[a,o]=x.useState("all"),[l,d]=x.useState(null),[u,m]=x.useState(null),{data:f,isLoading:y}=Ie({queryKey:["/api/qa/questions"]}),v=Re({mutationFn:b=>Ae("DELETE",`/api/qa/questions/${b}`),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/qa/questions"]}),s({title:"Question deleted"}),m(null)},onError:()=>s({title:"Failed to delete question",variant:"destructive"})});if(l)return e.jsx("div",{className:"p-4 sm:p-6 max-w-4xl mx-auto",children:e.jsx(m9,{question:l,onClose:()=>d(null)})});const g=(f||[]).filter(b=>{const k=!t||b.question.toLowerCase().includes(t.toLowerCase())||b.authorName.toLowerCase().includes(t.toLowerCase()),P=a==="all"||b.status===a;return k&&P}),N=(f||[]).filter(b=>b.status==="unanswered").length,S=(f||[]).filter(b=>b.status==="answered").length;return e.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(kt,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold","data-testid":"text-page-title",children:"Q&A"}),e.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-question-count",children:[N," unanswered, ",S," answered"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{value:t,onChange:b=>n(b.target.value),placeholder:"Search questions...",className:"pl-9","data-testid":"input-search-questions"})]}),e.jsxs(_t,{value:a,onValueChange:o,children:[e.jsx(St,{className:"w-[160px]","data-testid":"select-filter-status",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"all",children:"All Questions"}),e.jsx(Pe,{value:"unanswered",children:"Unanswered"}),e.jsx(Pe,{value:"answered",children:"Answered"})]})]})]}),y?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(b=>e.jsxs(de,{className:"p-4",children:[e.jsx(Ne,{className:"h-5 w-2/3 mb-2"}),e.jsx(Ne,{className:"h-4 w-full mb-1"}),e.jsx(Ne,{className:"h-4 w-1/3"})]},b))}):g.length===0?e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(kt,{className:"w-10 h-10 mx-auto mb-3 text-muted-foreground/50"}),e.jsx("p",{className:"text-muted-foreground font-medium","data-testid":"text-empty-state",children:t||a!=="all"?"No questions match your filters":"No questions yet"}),e.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Questions submitted by visitors will appear here for you to answer."})]}):e.jsx("div",{className:"space-y-3",children:g.map(b=>e.jsx(de,{className:"p-4 hover-elevate cursor-pointer",onClick:()=>d(b),"data-testid":`card-question-${b.id}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx(Ce,{variant:b.status==="answered"?"default":"secondary",className:"text-xs no-default-active-elevate","data-testid":`badge-status-${b.id}`,children:b.status==="answered"?e.jsxs(e.Fragment,{children:[e.jsx(ys,{className:"w-3 h-3 mr-1"})," Answered"]}):e.jsxs(e.Fragment,{children:[e.jsx(xi,{className:"w-3 h-3 mr-1"})," Unanswered"]})}),!b.isPublic&&e.jsxs(Ce,{variant:"outline",className:"text-xs no-default-active-elevate",children:[e.jsx(hx,{className:"w-3 h-3 mr-1"})," Hidden"]})]}),e.jsx("p",{className:"text-foreground line-clamp-2 mb-1","data-testid":`text-question-${b.id}`,children:b.question}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground/70 flex-wrap",children:[e.jsx("span",{children:b.authorName}),e.jsx("span",{children:""}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"w-3 h-3"}),z4(b.createdAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",onClick:k=>k.stopPropagation(),children:[e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>d(b),"data-testid":`button-answer-${b.id}`,children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>m(b.id),"data-testid":`button-delete-${b.id}`,children:e.jsx(ks,{className:"w-4 h-4"})})]})]})},b.id))}),e.jsx(Lt,{open:!!u,onOpenChange:()=>m(null),children:e.jsxs(Et,{children:[e.jsxs(Tt,{children:[e.jsx(At,{children:"Delete Question"}),e.jsx($c,{children:"Are you sure you want to delete this question? This action cannot be undone."})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(z,{variant:"outline",onClick:()=>m(null),"data-testid":"button-cancel-delete",children:"Cancel"}),e.jsxs(z,{variant:"destructive",onClick:()=>u&&v.mutate(u),disabled:v.isPending,"data-testid":"button-confirm-delete",children:[v.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin mr-2"}):null,"Delete"]})]})]})})]})}function hb(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}function p9({question:s}){const[t,n]=x.useState(!1),a=s.status==="answered"&&s.answer;return e.jsxs("div",{className:"border border-white/5 rounded-md bg-white/[0.02] overflow-hidden","data-testid":`qa-item-${s.id}`,children:[e.jsxs("button",{onClick:()=>n(!t),className:"w-full text-left p-4 sm:p-5 flex items-start gap-3","data-testid":`button-toggle-${s.id}`,children:[e.jsx("div",{className:"mt-0.5 flex-shrink-0",children:a?e.jsx(ys,{className:"w-5 h-5 text-emerald-400"}):e.jsx(xi,{className:"w-5 h-5 text-white/30"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium text-sm sm:text-base leading-relaxed","data-testid":`text-question-${s.id}`,children:s.question}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-white/30 flex-wrap",children:[e.jsx("span",{children:s.authorName}),e.jsx("span",{children:""}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"w-3 h-3"}),hb(s.createdAt)]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("span",{className:"text-emerald-400/70",children:"Answered"})]})]})]}),e.jsx("div",{className:"flex-shrink-0 mt-1",children:t?e.jsx(Cl,{className:"w-5 h-5 text-white/30"}):e.jsx(La,{className:"w-5 h-5 text-white/30"})})]}),t&&e.jsx("div",{className:"border-t border-white/5 p-4 sm:p-5 bg-white/[0.01]",children:a?e.jsxs("div",{"data-testid":`text-answer-${s.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs text-white/30",children:[e.jsx(ys,{className:"w-3.5 h-3.5 text-emerald-400"}),e.jsxs("span",{children:["Answered ",s.answeredAt?hb(s.answeredAt):""]})]}),e.jsx("div",{className:"rich-content rich-content-dark text-white/70 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:u9.sanitize(s.answer||"",{ALLOWED_TAGS:["h1","h2","h3","p","br","strong","em","u","s","a","ul","ol","li","blockquote","pre","code","span"],ALLOWED_ATTR:["href","target","rel","class","style"]})}})]}):e.jsx("p",{className:"text-white/40 text-sm italic","data-testid":`text-pending-${s.id}`,children:"This question hasn't been answered yet. Check back soon!"})})]})}function x9(){const{toast:s}=gt(),[t,n]=x.useState(!1),[a,o]=x.useState(""),[l,d]=x.useState("all"),[u,m]=x.useState(""),[f,y]=x.useState(""),[v,g]=x.useState(""),{data:N,isLoading:S}=Ie({queryKey:["/api/public/qa/questions"]}),b=Re({mutationFn:async O=>(await Ae("POST","/api/public/qa/questions",O)).json(),onSuccess:()=>{s({title:"Question submitted!",description:"We'll answer your question soon."}),n(!1),m(""),y(""),g(""),be.invalidateQueries({queryKey:["/api/public/qa/questions"]})},onError:()=>{s({title:"Something went wrong",description:"Please try again.",variant:"destructive"})}});function k(){if(!u.trim()||!f.trim()||!v.trim()){s({title:"All fields are required",variant:"destructive"});return}b.mutate({authorName:u.trim(),authorEmail:f.trim(),question:v.trim()})}const P=(N||[]).filter(O=>{const H=!a||O.question.toLowerCase().includes(a.toLowerCase())||O.answer&&O.answer.toLowerCase().includes(a.toLowerCase()),se=l==="all"||l==="answered"&&O.status==="answered"||l==="unanswered"&&O.status==="unanswered";return H&&se}),R=(N||[]).filter(O=>O.status==="answered").length,T=(N||[]).length;return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.12) 1px, transparent 1px)",backgroundSize:"24px 24px"},children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-white/5",style:{backdropFilter:"blur(20px)",backgroundColor:"rgba(10,10,15,0.8)"},children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 h-14 flex items-center justify-between gap-3",children:[e.jsx(Pn,{href:"/",children:e.jsxs("div",{className:"flex items-center gap-2.5 cursor-pointer",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-gradient-to-br from-blue-500 to-violet-600",children:e.jsx(xr,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-base font-semibold tracking-tight","data-testid":"text-brand-name",children:"AI Powered Sites"})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(z,{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white font-medium","data-testid":"button-ask-question",children:[e.jsx(ms,{className:"w-4 h-4 mr-1.5"}),"Ask a Question"]})})]})}),e.jsxs("div",{className:"pt-14",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-12 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-14",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-4 sm:mb-6",children:[e.jsx(kt,{className:"w-4 h-4 text-violet-400"}),e.jsx("span",{className:"text-sm text-white/70",children:"Community Q&A"})]}),e.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight mb-3 sm:mb-4","data-testid":"text-qa-title",children:["Questions &"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Answers"})]}),e.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto",children:"Got a question? Browse existing answers or ask your own. We're here to help."}),T>0&&e.jsxs("p",{className:"text-white/30 text-sm mt-3","data-testid":"text-qa-stats",children:[T," question",T!==1?"s":"","  ",R," answered"]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-6",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"}),e.jsx("input",{value:a,onChange:O=>o(O.target.value),placeholder:"Search questions...",className:"w-full pl-9 pr-4 py-2.5 rounded-md bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-white/20","data-testid":"input-search-qa"})]}),e.jsx("div",{className:"flex items-center gap-1.5",children:["all","answered","unanswered"].map(O=>e.jsx("button",{onClick:()=>d(O),className:`px-3 py-2 rounded-md text-xs font-medium transition-colors ${l===O?"bg-white/10 text-white":"text-white/40 hover:text-white/60"}`,"data-testid":`button-filter-${O}`,children:O==="all"?"All":O==="answered"?"Answered":"Unanswered"},O))})]}),S?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(O=>e.jsxs("div",{className:"border border-white/5 rounded-md p-5 bg-white/[0.02]",children:[e.jsx("div",{className:"h-5 w-3/4 bg-white/5 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-1/3 bg-white/5 rounded animate-pulse"})]},O))}):P.length===0?e.jsxs("div",{className:"text-center py-16 border border-white/5 rounded-md bg-white/[0.02]",children:[e.jsx(kt,{className:"w-10 h-10 mx-auto mb-3 text-white/10"}),e.jsx("p",{className:"text-white/40 font-medium","data-testid":"text-empty-state",children:a||l!=="all"?"No questions match your search":"No questions yet"}),e.jsx("p",{className:"text-white/20 text-sm mt-1 mb-4",children:"Be the first to ask a question!"}),e.jsxs(z,{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white","data-testid":"button-ask-first",children:[e.jsx(ms,{className:"w-4 h-4 mr-1.5"}),"Ask a Question"]})]}):e.jsx("div",{className:"space-y-3",children:P.map(O=>e.jsx(p9,{question:O},O.id))})]}),e.jsx("footer",{className:"border-t border-white/5 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx(Pn,{href:"/",children:e.jsxs("span",{className:"text-sm text-white/30 hover:text-white/50 transition-colors cursor-pointer","data-testid":"link-back-home",children:[e.jsx(Ta,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Back to AI Powered Sites"]})}),e.jsxs("p",{className:"text-xs text-white/20",children:[" ",new Date().getFullYear()," AI Powered Sites"]})]})})]}),e.jsx(Lt,{open:t,onOpenChange:n,children:e.jsxs(Et,{className:"bg-[#12121a] border-white/10 text-white max-w-lg",children:[e.jsxs(Tt,{children:[e.jsxs(At,{className:"text-white flex items-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5 text-violet-400"}),"Ask a Question"]}),e.jsx($c,{className:"text-white/50",children:"Your question will be visible to everyone once submitted."})]}),e.jsxs("div",{className:"space-y-4 mt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Your Name"}),e.jsx("input",{value:u,onChange:O=>m(O.target.value),placeholder:"John Doe",className:"w-full px-3 py-2.5 rounded-md bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-white/20","data-testid":"input-qa-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Email"}),e.jsx("input",{value:f,onChange:O=>y(O.target.value),placeholder:"john@example.com",type:"email",className:"w-full px-3 py-2.5 rounded-md bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-white/20","data-testid":"input-qa-email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Your Question"}),e.jsx("textarea",{value:v,onChange:O=>g(O.target.value),placeholder:"What would you like to know?",rows:4,className:"w-full px-3 py-2.5 rounded-md bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-white/20 resize-none","data-testid":"input-qa-question"})]}),e.jsxs(z,{onClick:k,disabled:b.isPending,className:"w-full bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white font-medium","data-testid":"button-submit-question",children:[b.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(ms,{className:"w-4 h-4 mr-2"}),"Submit Question"]})]})]})})]})}const mb={milestone:{icon:BC,label:"Milestone",color:"text-amber-500"},update:{icon:pl,label:"Update",color:"text-blue-500"},launch:{icon:xr,label:"Launch",color:"text-green-500"},deliverable:{icon:Zt,label:"Deliverable",color:"text-purple-500"}},fb={completed:{icon:ys,label:"Completed",color:"text-green-500"},in_progress:{icon:Jt,label:"In Progress",color:"text-amber-500"},upcoming:{icon:yw,label:"Upcoming",color:"text-muted-foreground"}};function g9(){return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12",children:[e.jsx(Ne,{className:"h-10 w-64 mb-2"}),e.jsx(Ne,{className:"h-5 w-48 mb-8"}),e.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((s,t)=>e.jsx(Ne,{className:"h-24 w-full"},t))})]})})}function v9(){const s=th(),{data:t,isLoading:n,error:a}=Ie({queryKey:["/api/public/progress",s.projectId],queryFn:async()=>{const f=await fetch(`/api/public/progress/${s.projectId}`);if(!f.ok)throw new Error("Project not found");return f.json()},refetchInterval:3e4});if(n)return e.jsx(g9,{});if(a||!t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs(de,{className:"p-8 text-center max-w-md",children:[e.jsx(yw,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Project Not Found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This progress link may be invalid or the project may have been removed."})]})});const{project:o,customerName:l,updates:d,completedWork:u}=t,m=o.status==="completed"?"Completed":o.status==="active"?"In Progress":o.status;return e.jsxs("div",{className:"min-h-screen bg-background","data-testid":"progress-page",children:[e.jsx("header",{className:"border-b sticky top-0 z-50 bg-background",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-primary flex items-center justify-center shrink-0",children:e.jsx(pl,{className:"w-4 h-4 text-primary-foreground"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate","data-testid":"text-project-name",children:o.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Project Progress"})]})]}),e.jsx(lN,{})]})}),e.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap mb-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-progress-heading",children:o.name}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Prepared for ",l]})]}),e.jsx(Ce,{variant:"secondary","data-testid":"badge-project-status",children:m})]}),o.description&&e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:o.description})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8",children:[e.jsxs(de,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-semibold","data-testid":"text-update-count",children:d.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Updates"})]}),e.jsxs(de,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-semibold","data-testid":"text-deliverable-count",children:u}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deliverables"})]}),e.jsxs(de,{className:"p-4 text-center col-span-2 sm:col-span-1",children:[e.jsx("p",{className:"text-2xl font-semibold","data-testid":"text-started-date",children:o.createdAt?Ps(o.createdAt):"N/A"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Started"})]})]}),o.previewUrl&&e.jsx(de,{className:"p-4 mb-8",children:e.jsxs("a",{href:o.previewUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between gap-3","data-testid":"link-preview-site",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(Ws,{className:"w-5 h-5 text-muted-foreground shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"View Live Preview"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o.previewUrl})]})]}),e.jsx(cx,{className:"w-4 h-4 text-muted-foreground shrink-0"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Timeline"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Real-time updates on your project"})]}),d.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[19px] top-6 bottom-6 w-px bg-border"}),e.jsx("div",{className:"space-y-0",children:d.map((f,y)=>{const v=mb[f.type]||mb.update,g=fb[f.status]||fb.completed,N=g.icon;return e.jsxs("div",{className:"relative flex gap-4 pb-6","data-testid":`update-item-${f.id}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full border-2 border-background bg-muted flex items-center justify-center shrink-0 z-10 ${g.color}`,children:e.jsx(N,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 pt-1.5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap mb-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium","data-testid":`text-update-title-${f.id}`,children:f.title}),f.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:f.description})]}),e.jsx(Ce,{variant:"outline",className:"text-xs shrink-0",children:v.label})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:f.createdAt?Ps(f.createdAt):""})]})]},f.id)})})]}):e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(Jt,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No updates yet. Check back soon for progress on your project."})]}),e.jsx("div",{className:"mt-12 pt-6 border-t text-center",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"This page refreshes automatically every 30 seconds."})})]})]})}const pb=[{name:"Simple Landing Page",description:"Single page website with contact form",icon:Lu,lines:[{rateCode:"page_design",suggestedQty:1,note:"1 page layout"},{rateCode:"image_asset",suggestedQty:3,note:"Hero + 2 section images"},{rateCode:"revision",suggestedQty:2,note:"2 rounds of changes"}]},{name:"Business Website",description:"Multi-page site (Home, About, Services, Contact)",icon:CC,lines:[{rateCode:"page_design",suggestedQty:5,note:"Home, About, Services, Contact, FAQ"},{rateCode:"image_asset",suggestedQty:10,note:"Hero images + section graphics"},{rateCode:"revision",suggestedQty:3,note:"3 rounds of changes"}]},{name:"E-Commerce Store",description:"Online store with product pages and checkout",icon:ZC,lines:[{rateCode:"page_design",suggestedQty:8,note:"Home, Shop, Product, Cart, Checkout, About, Contact, FAQ"},{rateCode:"image_asset",suggestedQty:15,note:"Product photos + banners"},{rateCode:"revision",suggestedQty:4,note:"4 rounds of changes"}]},{name:"Portfolio / Creative",description:"Showcase work with gallery and case studies",icon:Sw,lines:[{rateCode:"page_design",suggestedQty:4,note:"Home, Portfolio, About, Contact"},{rateCode:"image_asset",suggestedQty:8,note:"Gallery images + hero"},{rateCode:"revision",suggestedQty:2,note:"2 rounds of changes"}]}];let xb=0;function y9(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Ne,{className:"h-8 w-48 mb-1"}),e.jsx(Ne,{className:"h-4 w-72"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:Array.from({length:4}).map((s,t)=>e.jsxs(de,{className:"p-4",children:[e.jsx(Ne,{className:"h-6 w-32 mb-2"}),e.jsx(Ne,{className:"h-4 w-48"})]},t))}),e.jsxs(de,{className:"p-6",children:[e.jsx(Ne,{className:"h-6 w-40 mb-4"}),Array.from({length:3}).map((s,t)=>e.jsx(Ne,{className:"h-12 w-full mb-3"},t))]})]})}function b9(){Yn("Quote Builder");const{toast:s}=gt(),[t,n]=x.useState([]),[a,o]=x.useState([]),[l,d]=x.useState(""),[u,m]=x.useState(""),[f,y]=x.useState(""),[v,g]=x.useState(!1),[N,S]=x.useState(null),[b,k]=x.useState(null),[P,R]=x.useState(!1),{data:T,isLoading:O}=Ie({queryKey:["/api/billing-rates"]}),H=Re({mutationFn:async()=>{const U=[...t.filter(D=>D.quantity>0).map(D=>{const oe=re(D.rateId);return{description:oe?.name||"Unknown",quantity:D.quantity,unitPriceCents:oe?.rateCents||0}}),...a.filter(D=>D.name&&D.quantity>0&&D.price>0).map(D=>({description:D.name,quantity:D.quantity,unitPriceCents:D.price}))];return(await Ae("POST","/api/quotes",{customerName:l,customerEmail:u,lineItems:U,notes:f||null})).json()},onSuccess:U=>{S(U.id),k(U.viewToken),be.invalidateQueries({queryKey:["/api/quotes"]}),s({title:"Quote saved",description:`${U.quoteNumber} is ready to send.`})},onError:()=>{s({title:"Failed to save quote",variant:"destructive"})}}),se=Re({mutationFn:async()=>(await Ae("POST",`/api/quotes/${N}/send`,{})).json(),onSuccess:()=>{R(!0),be.invalidateQueries({queryKey:["/api/quotes"]}),s({title:"Quote sent",description:`Email sent to ${u}`})},onError:()=>{s({title:"Failed to send quote",description:"Check your email configuration.",variant:"destructive"})}}),K=x.useMemo(()=>T?.filter(U=>U.isActive)||[],[T]),re=U=>K.find(_=>_.id===U),W=U=>K.find(_=>_.code===U),me=(U,_)=>{_<=0?n(D=>D.filter(oe=>oe.rateId!==U)):n(D=>D.find(ue=>ue.rateId===U)?D.map(ue=>ue.rateId===U?{...ue,quantity:_}:ue):[...D,{rateId:U,quantity:_}])},I=U=>t.find(_=>_.rateId===U)?.quantity||0,X=U=>{const _=re(U),D=I(U);return _?_.rateCents*D:0},$=()=>{xb++,o(U=>[...U,{id:`custom-${xb}`,name:"",price:0,quantity:1}])},Q=(U,_,D)=>{o(oe=>oe.map(ue=>ue.id===U?{...ue,[_]:D}:ue))},ne=U=>{o(_=>_.filter(D=>D.id!==U))},F=x.useMemo(()=>a.reduce((U,_)=>U+_.price*_.quantity,0),[a]),E=x.useMemo(()=>t.reduce((U,_)=>{const D=re(_.rateId);return U+(D?D.rateCents*_.quantity:0)},0),[t,K])+F,G=t.length>0||a.some(U=>U.name&&U.quantity>0),Y=U=>{const _=[];U.lines.forEach(D=>{const oe=W(D.rateCode);oe&&_.push({rateId:oe.id,quantity:D.suggestedQty})}),n(_),s({title:`"${U.name}" template applied`,description:"Adjust quantities as needed."})},q=()=>{n([]),o([]),d(""),m(""),y(""),S(null),k(null),R(!1)},ee=()=>{const U=l?`Quote for: ${l}
`:`Quote Estimate
`,_=t.filter(ye=>ye.quantity>0).map(ye=>{const Ee=re(ye.rateId);return Ee?`${Ee.name}: ${ye.quantity} ${Ee.unitLabel}${ye.quantity>1?"s":""} x ${Le(Ee.rateCents)} = ${Le(Ee.rateCents*ye.quantity)}`:""}).filter(Boolean),D=a.filter(ye=>ye.name&&ye.quantity>0).map(ye=>`${ye.name}: ${ye.quantity} x ${Le(ye.price)} = ${Le(ye.price*ye.quantity)}`),oe=[..._,...D].join(`
`),ue=`
Total: ${Le(E)}`,ke=U+`---
`+oe+`
---`+ue;navigator.clipboard.writeText(ke),g(!0),setTimeout(()=>g(!1),2e3),s({title:"Quote copied to clipboard"})};if(O)return e.jsx(y9,{});if(K.length===0)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"text-page-title",children:"Quote Builder"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Set up your billing rates first to start building quotes."})]}),e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(ju,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You need billing rates before you can build quotes."}),e.jsx("a",{href:"/admin/billing-rates",children:e.jsx(z,{"data-testid":"button-go-to-rates",children:"Set Up Billing Rates"})})]})]});const xe=pb.some(U=>U.lines.some(_=>W(_.rateCode)));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"text-page-title",children:"Quote Builder"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Quickly estimate project costs using your billing rates"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(z,{variant:"outline",onClick:q,"data-testid":"button-reset-quote",children:[e.jsx(oh,{className:"w-4 h-4 mr-1.5"}),"Reset"]}),G&&e.jsxs(z,{onClick:ee,"data-testid":"button-copy-quote",children:[v?e.jsx(Ns,{className:"w-4 h-4 mr-1.5"}):e.jsx(xn,{className:"w-4 h-4 mr-1.5"}),v?"Copied":"Copy Quote"]})]})]}),xe&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(vi,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Quick Start Templates"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:pb.map(U=>{if(U.lines.filter(oe=>W(oe.rateCode)).length===0)return null;const D=U.lines.reduce((oe,ue)=>{const ke=W(ue.rateCode);return oe+(ke?ke.rateCents*ue.suggestedQty:0)},0);return e.jsx(de,{className:"p-4 cursor-pointer hover-elevate",onClick:()=>Y(U),"data-testid":`template-${U.name.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-md bg-primary/10 shrink-0",children:e.jsx(U.icon,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-semibold leading-tight",children:U.name}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:U.description}),e.jsxs("p",{className:"text-sm font-semibold text-primary mt-2","data-testid":`text-template-estimate-${U.name.toLowerCase().replace(/\s+/g,"-")}`,children:["~",Le(D)]})]})]})},U.name)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(de,{className:"p-5 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(_w,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Customer Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx($e,{htmlFor:"customer-name",className:"text-xs text-muted-foreground mb-1.5 block",children:"Customer Name *"}),e.jsx(Fe,{id:"customer-name",value:l,onChange:U=>d(U.target.value),placeholder:"e.g. John's Bakery","data-testid":"input-customer-name",disabled:!!N})]}),e.jsxs("div",{children:[e.jsx($e,{htmlFor:"customer-email",className:"text-xs text-muted-foreground mb-1.5 block",children:"Customer Email *"}),e.jsx(Fe,{id:"customer-email",type:"email",value:u,onChange:U=>m(U.target.value),placeholder:"e.g. john@bakery.com","data-testid":"input-customer-email",disabled:!!N})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx($e,{htmlFor:"quote-notes",className:"text-xs text-muted-foreground mb-1.5 block",children:"Notes (optional)"}),e.jsx(Os,{id:"quote-notes",value:f,onChange:U=>y(U.target.value),placeholder:"Any additional details, timelines, or special terms...",rows:2,"data-testid":"textarea-quote-notes",disabled:!!N})]})]}),e.jsxs(de,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Zt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Line Items"})]}),e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-3",children:"Your Services"}),e.jsx("div",{className:"space-y-3",children:K.map(U=>{const _=I(U.id),D=X(U.id);return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border transition-colors ${_>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,"data-testid":`quote-line-${U.id}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("p",{className:"text-sm font-medium",children:U.name}),e.jsxs(Ce,{variant:"secondary",className:"text-[10px]",children:[Le(U.rateCents)," / ",U.unitLabel]})]}),U.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:U.description})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsx(z,{size:"icon",variant:"outline",onClick:()=>me(U.id,_-1),disabled:_===0,"data-testid":`button-decrease-${U.id}`,children:e.jsx(ny,{className:"w-3.5 h-3.5"})}),e.jsx(Fe,{type:"number",min:"0",value:_,onChange:oe=>me(U.id,parseInt(oe.target.value)||0),className:"w-16 text-center","data-testid":`input-quantity-${U.id}`}),e.jsx(z,{size:"icon",variant:"outline",onClick:()=>me(U.id,_+1),"data-testid":`button-increase-${U.id}`,children:e.jsx(as,{className:"w-3.5 h-3.5"})})]}),e.jsx("div",{className:"w-24 text-right shrink-0",children:e.jsx("p",{className:`text-sm font-semibold ${_>0?"":"text-muted-foreground"}`,"data-testid":`text-line-total-${U.id}`,children:_>0?Le(D):"-"})})]},U.id)})}),e.jsx(zu,{className:"my-5"}),e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Custom Items"}),e.jsxs(z,{variant:"outline",size:"sm",onClick:$,"data-testid":"button-add-custom-item",children:[e.jsx(TC,{className:"w-3.5 h-3.5 mr-1.5"}),"Add Item"]})]}),a.length===0?e.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:`Add one-off items that aren't in your standard rates (e.g. "Domain Registration", "Premium Plugin")`}):e.jsx("div",{className:"space-y-3",children:a.map(U=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border transition-colors ${U.name&&U.quantity>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,"data-testid":`custom-line-${U.id}`,children:[e.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 flex-wrap",children:[e.jsx(Fe,{placeholder:"Item name",value:U.name,onChange:_=>Q(U.id,"name",_.target.value),className:"flex-1 min-w-[120px]","data-testid":`input-custom-name-${U.id}`}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"$"}),e.jsx(Fe,{type:"number",min:"0",step:"0.01",placeholder:"Price",value:U.price>0?(U.price/100).toFixed(2):"",onChange:_=>Q(U.id,"price",Math.round(parseFloat(_.target.value||"0")*100)),className:"w-24","data-testid":`input-custom-price-${U.id}`})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsx(z,{size:"icon",variant:"outline",onClick:()=>Q(U.id,"quantity",Math.max(0,U.quantity-1)),disabled:U.quantity===0,"data-testid":`button-custom-decrease-${U.id}`,children:e.jsx(ny,{className:"w-3.5 h-3.5"})}),e.jsx(Fe,{type:"number",min:"0",value:U.quantity,onChange:_=>Q(U.id,"quantity",parseInt(_.target.value)||0),className:"w-16 text-center","data-testid":`input-custom-quantity-${U.id}`}),e.jsx(z,{size:"icon",variant:"outline",onClick:()=>Q(U.id,"quantity",U.quantity+1),"data-testid":`button-custom-increase-${U.id}`,children:e.jsx(as,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("div",{className:"w-24 text-right",children:e.jsx("p",{className:`text-sm font-semibold ${U.price>0&&U.quantity>0?"":"text-muted-foreground"}`,"data-testid":`text-custom-total-${U.id}`,children:U.price>0&&U.quantity>0?Le(U.price*U.quantity):"-"})}),e.jsx(z,{size:"icon",variant:"ghost",onClick:()=>ne(U.id),"data-testid":`button-remove-custom-${U.id}`,children:e.jsx(ks,{className:"w-3.5 h-3.5"})})]})]},U.id))})]})]}),e.jsxs("div",{children:[e.jsxs(de,{className:"p-5 sticky top-20 z-[999]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ju,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Quote Summary"})]}),l&&e.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["For: ",e.jsx("span",{className:"font-medium text-foreground",children:l})]}),G?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[t.filter(U=>U.quantity>0).map(U=>{const _=re(U.rateId);return _?e.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs","data-testid":`summary-line-${U.rateId}`,children:[e.jsxs("span",{className:"text-muted-foreground truncate",children:[_.name," x ",U.quantity]}),e.jsx("span",{className:"font-medium shrink-0",children:Le(_.rateCents*U.quantity)})]},U.rateId):null}),a.filter(U=>U.name&&U.quantity>0&&U.price>0).map(U=>e.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs","data-testid":`summary-custom-${U.id}`,children:[e.jsxs("span",{className:"text-muted-foreground truncate",children:[U.name," x ",U.quantity]}),e.jsx("span",{className:"font-medium shrink-0",children:Le(U.price*U.quantity)})]},U.id))]}),e.jsx(zu,{className:"mb-3"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Total"}),e.jsx("span",{className:"text-lg font-bold text-primary","data-testid":"text-grand-total",children:Le(E)})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[N?P?e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Quote Sent"})]}),e.jsxs(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open(`/quote/${b}`,"_blank"),"data-testid":"button-view-quote",children:[e.jsx(Ws,{className:"w-4 h-4 mr-1.5"}),"Preview Quote Page"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(z,{className:"w-full",onClick:()=>se.mutate(),disabled:se.isPending,"data-testid":"button-send-quote",children:[se.isPending?e.jsx(Je,{className:"w-4 h-4 mr-1.5 animate-spin"}):e.jsx(_s,{className:"w-4 h-4 mr-1.5"}),se.isPending?"Sending...":"Send Quote to Customer"]}),e.jsxs(z,{variant:"outline",className:"w-full",onClick:()=>{const U=`${window.location.origin}/quote/${b}`;navigator.clipboard.writeText(U),s({title:"Quote link copied"})},"data-testid":"button-copy-quote-link",children:[e.jsx(Ws,{className:"w-4 h-4 mr-1.5"}),"Copy Quote Link"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(z,{className:"w-full",onClick:()=>H.mutate(),disabled:!l||!u||H.isPending,"data-testid":"button-save-quote",children:[H.isPending?e.jsx(Je,{className:"w-4 h-4 mr-1.5 animate-spin"}):e.jsx(mx,{className:"w-4 h-4 mr-1.5"}),H.isPending?"Saving...":"Save & Prepare Quote"]}),(!l||!u)&&e.jsx("p",{className:"text-[10px] text-muted-foreground text-center",children:"Enter customer name & email to save"})]}),e.jsxs(z,{variant:"outline",className:"w-full",onClick:ee,"data-testid":"button-copy-summary",children:[v?e.jsx(Ns,{className:"w-4 h-4 mr-1.5"}):e.jsx(xn,{className:"w-4 h-4 mr-1.5"}),v?"Copied":"Copy as Text"]})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(ju,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add items or pick a template to get started"})]})]}),e.jsxs(de,{className:"p-5 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(vi,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Estimation Tips"})]}),e.jsxs("div",{className:"space-y-3 text-xs text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground mb-0.5",children:"Pages"}),e.jsx("p",{children:"Count each unique layout. Home, About, Contact, Services = 4 pages. Blog listing + blog post = 2 more."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground mb-0.5",children:"Images / Assets"}),e.jsx("p",{children:"Each hero banner, custom graphic, or edited photo counts as 1. Stock photos that need editing count too."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground mb-0.5",children:"Revisions"}),e.jsx("p",{children:"Include 2-3 rounds for most clients. Larger or pickier projects may need 4-5."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground mb-0.5",children:"E-Commerce"}),e.jsx("p",{children:"Product page, cart, checkout, account pages = ~4 extra pages minimum. Add more for complex catalogs."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground mb-0.5",children:"Custom Items"}),e.jsx("p",{children:'Use "Add Item" for one-off costs like domain registration ($15), premium plugins ($50-200), or third-party subscriptions.'})]})]})]})]})]})]})}function w9(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsx(Ne,{className:"h-10 w-48"}),e.jsxs(de,{className:"p-8",children:[e.jsx(Ne,{className:"h-8 w-64 mb-4"}),e.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((s,t)=>e.jsx(Ne,{className:"h-12 w-full"},t))})]})]})})}function j9(s){const n={draft:{label:"Draft",variant:"secondary"},sent:{label:"Awaiting Response",variant:"outline"},approved:{label:"Approved",variant:"default"},declined:{label:"Declined",variant:"destructive"}}[s]||{label:s,variant:"secondary"};return e.jsx(Ce,{variant:n.variant,"data-testid":"badge-quote-status",children:n.label})}function N9(){const[,s]=W5("/quote/:token"),t=s?.token,{toast:n}=gt(),[a,o]=x.useState(""),[l,d]=x.useState(""),[u,m]=x.useState(!1),[f,y]=x.useState(""),{data:v,isLoading:g,error:N}=Ie({queryKey:["/api/public/quotes",t],queryFn:()=>fetch(`/api/public/quotes/${t}`).then(T=>{if(!T.ok)throw new Error("Quote not found");return T.json()}),enabled:!!t}),S=Re({mutationFn:async({action:T,comment:O})=>(await Ae("POST",`/api/public/quotes/${t}/respond`,{action:T,comment:O})).json(),onSuccess:(T,O)=>{be.invalidateQueries({queryKey:["/api/public/quotes",t]}),n({title:O.action==="approve"?"Quote Approved":"Quote Declined",description:O.action==="approve"?"Thank you! We'll get started on your project soon.":"We've noted your response. Feel free to leave any feedback below."}),m(!1),d("")},onError:()=>{n({title:"Something went wrong",description:"Please try again.",variant:"destructive"})}}),b=Re({mutationFn:async T=>(await Ae("POST",`/api/public/quotes/${t}/comments`,{message:T})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/public/quotes",t]}),o(""),n({title:"Comment sent",description:"We'll review your message and get back to you."})},onError:()=>{n({title:"Failed to send comment",variant:"destructive"})}}),k=Re({mutationFn:async T=>(await Ae("POST",`/api/public/quotes/${t}/requirements`,{requirements:T})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/public/quotes",t]}),y(""),n({title:"Requirements submitted",description:"We've received your project details and will be in touch soon."})},onError:()=>{n({title:"Failed to submit requirements",variant:"destructive"})}});if(g)return e.jsx(w9,{});if(N||!v)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 flex items-center justify-center p-4",children:e.jsxs(de,{className:"p-8 text-center max-w-md",children:[e.jsx(Pc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Quote Not Found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This quote link may have expired or doesn't exist."})]})});const P=v.status==="sent",R=v.status==="approved"||v.status==="declined";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 sm:py-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-emerald-500/10",children:e.jsx(Zt,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold tracking-tight","data-testid":"text-quote-title",children:"Project Quote"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v.quoteNumber})]})]}),e.jsxs(de,{className:"mt-6 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-700 px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-semibold",children:"AI Powered Sites"}),e.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"hello@aipoweredsites.com"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-emerald-400 text-lg font-extrabold tracking-tight","data-testid":"text-quote-number",children:v.quoteNumber}),j9(v.status)]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:"Prepared For"}),e.jsx("p",{className:"text-sm font-semibold mt-1","data-testid":"text-customer-name",children:v.customerName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v.customerEmail})]}),v.createdAt&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:"Date"}),e.jsx("p",{className:"text-sm font-medium mt-1",children:new Date(v.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),e.jsxs("div",{className:"rounded-md border overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-12 bg-muted/50 px-4 py-2.5 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:[e.jsx("div",{className:"col-span-6",children:"Description"}),e.jsx("div",{className:"col-span-2 text-center",children:"Qty"}),e.jsx("div",{className:"col-span-2 text-right",children:"Rate"}),e.jsx("div",{className:"col-span-2 text-right",children:"Amount"})]}),v.lineItems.map((T,O)=>e.jsxs("div",{className:`grid grid-cols-12 px-4 py-3 text-sm items-center ${O%2===0?"":"bg-muted/20"}`,"data-testid":`quote-line-item-${O}`,children:[e.jsx("div",{className:"col-span-6 font-medium",children:T.description}),e.jsx("div",{className:"col-span-2 text-center text-muted-foreground",children:T.quantity}),e.jsx("div",{className:"col-span-2 text-right text-muted-foreground",children:Le(T.unitPriceCents)}),e.jsx("div",{className:"col-span-2 text-right font-semibold",children:Le(T.totalCents)})]},T.id))]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("div",{className:"bg-slate-900 dark:bg-slate-800 text-white rounded-md px-6 py-4 min-w-[200px]",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total"}),e.jsx("span",{className:"text-xl font-extrabold tracking-tight","data-testid":"text-quote-total",children:Le(v.totalAmountCents)})]})})}),v.notes&&e.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-md",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium mb-1.5",children:"Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:v.notes})]})]})]}),P&&!u&&e.jsxs(de,{className:"mt-6 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(vi,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Your Response"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-5",children:"Review the quote above and let us know how you'd like to proceed. You can also leave comments below."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(z,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>S.mutate({action:"approve"}),disabled:S.isPending,"data-testid":"button-approve-quote",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Approve Quote"]}),e.jsxs(z,{variant:"outline",className:"flex-1",onClick:()=>m(!0),disabled:S.isPending,"data-testid":"button-decline-quote",children:[e.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Request Changes"]})]})]}),P&&u&&e.jsxs(de,{className:"mt-6 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(kt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Let Us Know What to Change"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Tell us what you'd like adjusted - pricing, scope, timeline, or anything else."}),e.jsx(Os,{value:l,onChange:T=>d(T.target.value),placeholder:"e.g. Can we work on pricing for the image assets? Also wondering if we could add an extra revision round...",className:"mb-4",rows:4,"data-testid":"textarea-decline-comment"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(z,{variant:"outline",onClick:()=>{m(!1),d("")},"data-testid":"button-cancel-decline",children:"Cancel"}),e.jsxs(z,{variant:"destructive",onClick:()=>S.mutate({action:"deny",comment:l}),disabled:S.isPending,"data-testid":"button-submit-decline",children:[e.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Submit Feedback"]})]})]}),R&&e.jsx(de,{className:"mt-6 p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[v.status==="approved"?e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-emerald-500/10",children:e.jsx(ys,{className:"w-5 h-5 text-emerald-600"})}):e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-red-500/10",children:e.jsx(Xi,{className:"w-5 h-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:v.status==="approved"?"Quote Approved":"Changes Requested"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v.status==="approved"?"Thank you! Please share your project requirements below so we can get started.":"We've received your feedback and will follow up shortly."})]})]})}),v.status==="approved"&&e.jsxs(de,{className:"mt-6 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(AC,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Project Requirements"})]}),v.projectRequirements?e.jsxs("div",{children:[e.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/20 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ys,{className:"w-3.5 h-3.5 text-emerald-600"}),e.jsx("span",{className:"text-xs font-medium text-emerald-600",children:"Requirements Submitted"})]}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap","data-testid":"text-requirements",children:v.projectRequirements})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Need to add more details? Use the comments section below to share additional information."})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Help us understand your vision. Tell us about your project goals, brand preferences, content you'll provide, and any specific features or pages you need."}),e.jsx(Os,{value:f,onChange:T=>y(T.target.value),placeholder:`Share your project details here...

- What is the purpose of your website?
- Who is your target audience?
- Do you have brand colors, logos, or style preferences?
- What pages or features do you need?
- Do you have content ready (text, images)?
- Any websites you like for inspiration?
- What's your ideal timeline?`,className:"mb-4",rows:8,"data-testid":"textarea-requirements"}),e.jsxs(z,{className:"w-full",onClick:()=>f.trim()&&k.mutate(f.trim()),disabled:!f.trim()||k.isPending,"data-testid":"button-submit-requirements",children:[k.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ms,{className:"w-4 h-4 mr-2"}),k.isPending?"Submitting...":"Submit Project Requirements"]})]})]}),e.jsxs(de,{className:"mt-6 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(kt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-semibold",children:"Comments & Discussion"})]}),v.comments.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No comments yet. Have a question about this quote? Start the conversation below."}),v.comments.length>0&&e.jsx("div",{className:"space-y-4 mb-6",children:v.comments.map(T=>e.jsxs("div",{className:`flex gap-3 ${T.senderType==="admin"?"":"flex-row-reverse"}`,"data-testid":`comment-${T.id}`,children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full shrink-0 text-xs font-bold ${T.senderType==="admin"?"bg-primary/10 text-primary":"bg-emerald-500/10 text-emerald-600"}`,children:T.senderName.charAt(0).toUpperCase()}),e.jsxs("div",{className:`max-w-[80%] ${T.senderType==="admin"?"":"text-right"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("span",{className:"text-xs font-semibold",children:T.senderName}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:T.createdAt&&new Date(T.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),e.jsx("div",{className:`rounded-md p-3 text-sm ${T.senderType==="admin"?"bg-muted/50":"bg-emerald-500/5 border border-emerald-500/20"}`,children:T.message})]})]},T.id))}),e.jsx(zu,{className:"mb-4"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Os,{value:a,onChange:T=>o(T.target.value),placeholder:"Ask a question or leave a comment...",className:"flex-1",rows:2,"data-testid":"textarea-comment"}),e.jsx(z,{size:"icon",onClick:()=>a.trim()&&b.mutate(a.trim()),disabled:!a.trim()||b.isPending,"data-testid":"button-send-comment",children:e.jsx(ms,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"text-center mt-8 pb-8",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"AI Powered Sites"}),"  hello@aipoweredsites.com"]})})]})})}function k9(){const{token:s}=th(),{toast:t}=gt(),[n,a]=x.useState(""),[o,l]=x.useState([]),[d,u]=x.useState(!1),[m,f]=x.useState(!1),[y,v]=x.useState(""),g=x.useRef(null),N=x.useRef(null),{data:S,isLoading:b}=Ie({queryKey:["/api/public/conversations",s],queryFn:async()=>{const re=await fetch(`/api/public/conversations/${s}`);if(!re.ok)throw new Error("Failed to load conversation");return re.json()},refetchInterval:1e4}),k=Re({mutationFn:async({message:re,attachments:W})=>{const me=await fetch(`/api/public/conversations/${s}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:re,attachments:W.length>0?JSON.stringify(W):null})});if(!me.ok)throw new Error("Failed to send message");return me.json()},onSuccess:()=>{a(""),l([]),be.invalidateQueries({queryKey:["/api/public/conversations",s]})},onError:()=>{t({title:"Failed to send message",variant:"destructive"})}});x.useEffect(()=>{N.current?.scrollIntoView({behavior:"smooth"})},[S?.messages?.length]);const P=()=>{const re=n.trim();!re&&o.length===0||k.mutate({message:re||(o.length>0?"Shared attachments":""),attachments:o})},R=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),P())},T=async re=>{const W=re.target.files;if(!(!W||W.length===0)){u(!0);try{for(const me of Array.from(W)){const I=me.type.startsWith("image/"),X=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:me.name,size:me.size,contentType:me.type})});if(!X.ok)throw new Error("Failed to get upload URL");const{uploadURL:$,objectPath:Q}=await X.json();await fetch($,{method:"PUT",headers:{"Content-Type":me.type},body:me});const ne=`/objects${Q}`;l(F=>[...F,{name:me.name,url:ne,type:I?"image":"file",contentType:me.type}])}t({title:"Files uploaded",description:`${W.length} file${W.length>1?"s":""} ready to send`})}catch{t({title:"Upload failed",description:"Please try again.",variant:"destructive"})}finally{u(!1),g.current&&(g.current.value="")}}},O=()=>{const re=y.trim();if(!re)return;let W=re;!W.startsWith("http://")&&!W.startsWith("https://")&&(W="https://"+W),l(me=>[...me,{name:W,url:W,type:"url"}]),v(""),f(!1)},H=re=>{l(W=>W.filter((me,I)=>I!==re))};if(b)return e.jsx("div",{className:"min-h-screen bg-[#0a0a14] flex items-center justify-center",children:e.jsx(Je,{className:"w-6 h-6 animate-spin text-violet-400"})});if(!S)return e.jsx("div",{className:"min-h-screen bg-[#0a0a14] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xi,{className:"w-10 h-10 text-red-400 mx-auto mb-3"}),e.jsx("h2",{className:"text-lg font-semibold text-white mb-1",children:"Conversation Not Found"}),e.jsx("p",{className:"text-white/50 text-sm mb-4",children:"This link may be invalid or expired."}),e.jsx(Pn,{href:"/",children:e.jsxs(z,{variant:"outline",className:"border-white/10 text-white","data-testid":"button-back-home",children:[e.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]})});const se=re=>{const W=new Date(re),I=new Date().getTime()-W.getTime(),X=Math.floor(I/6e4);if(X<1)return"Just now";if(X<60)return`${X}m ago`;const $=Math.floor(X/60);return $<24?`${$}h ago`:W.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},K=re=>{if(!re)return null;try{const W=JSON.parse(re);if(!Array.isArray(W)||W.length===0)return null;const me=W.filter($=>$.type==="image"),I=W.filter($=>$.type==="file"),X=W.filter($=>$.type==="url");return e.jsxs("div",{className:"mt-3 space-y-2",children:[me.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:me.map(($,Q)=>e.jsx("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"block rounded-md overflow-hidden border border-white/10 hover:border-violet-500/40 transition-colors","data-testid":`link-image-attachment-${Q}`,children:e.jsx("img",{src:$.url,alt:$.name,className:"max-w-[240px] max-h-[180px] object-cover",loading:"lazy"})},Q))}),I.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(($,Q)=>e.jsxs("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-md bg-white/5 border border-white/10 text-xs text-blue-400 hover:text-blue-300 transition-colors","data-testid":`link-file-attachment-${Q}`,children:[e.jsx(Zt,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"max-w-[160px] truncate",children:$.name}),e.jsx(Ws,{className:"w-3 h-3 shrink-0"})]},Q))}),X.length>0&&e.jsx("div",{className:"flex flex-col gap-1.5",children:X.map(($,Q)=>e.jsxs("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-blue-400 hover:text-blue-300 transition-colors break-all","data-testid":`link-url-attachment-${Q}`,children:[e.jsx(il,{className:"w-3.5 h-3.5 shrink-0"}),$.url]},Q))})]})}catch{return null}};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a14] text-white",style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("header",{className:"sticky top-0 z-50 border-b border-white/5 bg-[#0a0a14]/95 backdrop-blur-sm",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(Pn,{href:"/",children:e.jsx(z,{variant:"ghost",size:"icon",className:"text-white/60 shrink-0","data-testid":"button-back",children:e.jsx(Ta,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm font-semibold truncate","data-testid":"text-conversation-subject",children:S.subject}),e.jsx("p",{className:"text-xs text-white/40",children:"Secure conversation with AI Powered Sites"})]})]}),e.jsx(Ce,{variant:S.status==="active"?"default":"secondary",className:S.status==="active"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"","data-testid":"badge-conversation-status",children:S.status==="active"?"Active":"Closed"})]})}),e.jsx("main",{className:"max-w-3xl mx-auto px-4 py-6 pb-40",children:e.jsxs("div",{className:"flex flex-col gap-4","data-testid":"messages-list",children:[S.messages.map(re=>{const W=re.senderType==="visitor";return e.jsx("div",{className:`flex ${W?"justify-end":"justify-start"}`,"data-testid":`message-${re.id}`,children:e.jsxs("div",{className:`max-w-[85%] sm:max-w-[75%] ${W?"order-1":""}`,children:[e.jsxs("div",{className:`rounded-md p-3 sm:p-4 ${W?"bg-violet-500/20 border border-violet-500/20":"bg-white/[0.04] border border-white/5"}`,children:[re.message&&e.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap","data-testid":`text-message-content-${re.id}`,children:re.message}),K(re.attachments)]}),e.jsxs("div",{className:`flex items-center gap-2 mt-1 ${W?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-[10px] text-white/30",children:re.senderName}),e.jsx("span",{className:"text-[10px] text-white/20",children:se(re.createdAt)})]})]})},re.id)}),e.jsx("div",{ref:N})]})}),S.status==="active"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 border-t border-white/5 bg-[#0a0a14]/95 backdrop-blur-sm",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3",children:[o.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2 pb-2 border-b border-white/5",children:o.map((re,W)=>e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-white/5 border border-white/10 text-xs","data-testid":`pending-attachment-${W}`,children:[re.type==="image"?e.jsx(po,{className:"w-3.5 h-3.5 text-emerald-400"}):re.type==="url"?e.jsx(il,{className:"w-3.5 h-3.5 text-blue-400"}):e.jsx(Zt,{className:"w-3.5 h-3.5 text-orange-400"}),e.jsx("span",{className:"max-w-[120px] truncate text-white/70",children:re.name}),e.jsx("button",{onClick:()=>H(W),className:"text-white/30 hover:text-white/60 transition-colors","data-testid":`button-remove-attachment-${W}`,children:e.jsx(vr,{className:"w-3 h-3"})})]},W))}),m&&e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(Fe,{value:y,onChange:re=>v(re.target.value),onKeyDown:re=>{re.key==="Enter"&&(re.preventDefault(),O())},placeholder:"Paste a URL (website, design inspiration, etc.)",className:"flex-1 bg-white/[0.04] border-white/10 text-white text-sm placeholder:text-white/30",autoFocus:!0,"data-testid":"input-url"}),e.jsxs(z,{onClick:O,disabled:!y.trim(),size:"sm",className:"bg-blue-500/20 text-blue-400 border border-blue-500/30","data-testid":"button-add-url",children:[e.jsx(as,{className:"w-3.5 h-3.5 mr-1"}),"Add"]}),e.jsx(z,{onClick:()=>{f(!1),v("")},size:"sm",variant:"ghost",className:"text-white/40","data-testid":"button-cancel-url",children:e.jsx(vr,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex gap-1 shrink-0",children:[e.jsx("input",{ref:g,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt,.zip,.psd,.ai,.fig,.sketch,.xd",onChange:T,className:"hidden","data-testid":"input-file-upload"}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>g.current?.click(),disabled:d,className:"text-white/40 hover:text-white/70",title:"Attach files or images","data-testid":"button-attach-file",children:d?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(Cw,{className:"w-4 h-4"})}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>f(!m),className:"text-white/40 hover:text-white/70",title:"Add a URL","data-testid":"button-add-link",children:e.jsx(il,{className:"w-4 h-4"})})]}),e.jsx(Os,{value:n,onChange:re=>a(re.target.value),onKeyDown:R,placeholder:"Type your message...",className:"flex-1 min-h-[44px] max-h-32 bg-white/[0.04] border-white/10 text-white placeholder:text-white/30 resize-none text-sm","data-testid":"input-message"}),e.jsx(z,{onClick:P,disabled:!n.trim()&&o.length===0||k.isPending,className:"bg-gradient-to-r from-blue-500 to-violet-600 border-0 text-white shrink-0","data-testid":"button-send-message",children:k.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(ms,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-[10px] text-white/20 mt-1.5 text-center",children:"Attach files, images, or URLs. Press Enter to send, Shift+Enter for new line."})]})})]})}function S9(){const{toast:s}=gt(),[t,n]=x.useState(""),[a,o]=x.useState(null),[l,d]=x.useState(""),[u,m]=x.useState(null),[f,y]=x.useState([]),[v,g]=x.useState(!1),[N,S]=x.useState(!1),[b,k]=x.useState(""),P=x.useRef(null),{data:R=[],isLoading:T}=Ie({queryKey:["/api/conversations"]}),{data:O,isLoading:H}=Ie({queryKey:["/api/conversations",a],enabled:!!a}),se=Re({mutationFn:async({id:F,message:C,attachments:E})=>Ae("POST",`/api/conversations/${F}/messages`,{message:C,attachments:E.length>0?JSON.stringify(E):null}),onSuccess:()=>{d(""),y([]),be.invalidateQueries({queryKey:["/api/conversations",a]}),be.invalidateQueries({queryKey:["/api/conversations"]}),s({title:"Reply sent",description:"The visitor will receive an email notification."})},onError:()=>{s({title:"Failed to send reply",variant:"destructive"})}}),K=Re({mutationFn:async({id:F,status:C})=>Ae("PATCH",`/api/conversations/${F}`,{status:C}),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/conversations"]}),be.invalidateQueries({queryKey:["/api/conversations",a]})}}),re=R.filter(F=>!t||F.visitorName.toLowerCase().includes(t.toLowerCase())||F.visitorEmail.toLowerCase().includes(t.toLowerCase())||F.subject.toLowerCase().includes(t.toLowerCase())),W=F=>{if(!F)return"";const C=new Date(F),G=new Date().getTime()-C.getTime(),Y=Math.floor(G/6e4);if(Y<1)return"Just now";if(Y<60)return`${Y}m ago`;const q=Math.floor(Y/60);if(q<24)return`${q}h ago`;const ee=Math.floor(q/24);return ee<7?`${ee}d ago`:C.toLocaleDateString("en-US",{month:"short",day:"numeric"})},me=()=>{const F=l.trim();!F&&f.length===0||!a||se.mutate({id:a,message:F||(f.length>0?"Shared attachments":""),attachments:f})},I=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),me())},X=async F=>{const C=F.target.files;if(!(!C||C.length===0)){g(!0);try{for(const E of Array.from(C)){const G=E.type.startsWith("image/"),Y=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E.name,size:E.size,contentType:E.type})});if(!Y.ok)throw new Error("Failed to get upload URL");const{uploadURL:q,objectPath:ee}=await Y.json();await fetch(q,{method:"PUT",headers:{"Content-Type":E.type},body:E}),y(xe=>[...xe,{name:E.name,url:`/objects${ee}`,type:G?"image":"file",contentType:E.type}])}}catch{s({title:"Upload failed",variant:"destructive"})}finally{g(!1),P.current&&(P.current.value="")}}},$=()=>{const F=b.trim();if(!F)return;let C=F;!C.startsWith("http://")&&!C.startsWith("https://")&&(C="https://"+C),y(E=>[...E,{name:C,url:C,type:"url"}]),k(""),S(!1)},Q=F=>{if(!F)return null;try{const C=JSON.parse(F);if(!Array.isArray(C)||C.length===0)return null;const E=C.filter(q=>q.type==="image"),G=C.filter(q=>q.type==="file"),Y=C.filter(q=>q.type==="url");return e.jsxs("div",{className:"mt-2 space-y-1.5",children:[E.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:E.map((q,ee)=>e.jsx("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"block rounded-md overflow-hidden border border-border hover:border-primary/40 transition-colors",children:e.jsx("img",{src:q.url,alt:q.name,className:"max-w-[200px] max-h-[140px] object-cover",loading:"lazy"})},ee))}),G.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:G.map((q,ee)=>e.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-muted text-xs hover:underline",children:[e.jsx(Zt,{className:"w-3 h-3"}),e.jsx("span",{className:"max-w-[120px] truncate",children:q.name}),e.jsx(Ws,{className:"w-3 h-3"})]},ee))}),Y.length>0&&e.jsx("div",{className:"flex flex-col gap-1",children:Y.map((q,ee)=>e.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-blue-500 hover:underline break-all",children:[e.jsx(il,{className:"w-3 h-3 shrink-0"}),q.url]},ee))})]})}catch{return null}},ne=F=>{if(!F)return;const C=window.location.origin;navigator.clipboard.writeText(`${C}/conversation/${F}`),m(F),setTimeout(()=>m(null),2e3),s({title:"Link copied",description:"Conversation link copied to clipboard."})};return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"text-page-title",children:"Conversations"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage client onboarding conversations"})]}),e.jsxs(Ce,{variant:"secondary","data-testid":"badge-conversation-count",children:[R.length," total"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search by name, email, or subject...",value:t,onChange:F=>n(F.target.value),className:"pl-9","data-testid":"input-search-conversations"})]}),T?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(Je,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):re.length===0?e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(kt,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),e.jsx("h3",{className:"font-medium mb-1","data-testid":"text-empty-state",children:"No conversations yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When visitors start conversations from your landing page, they'll appear here."})]}):e.jsx("div",{className:"grid gap-3","data-testid":"conversations-list",children:re.map(F=>{const C=F.lastMessage?.createdAt||F.updatedAt,E=F.lastMessage?.senderType==="visitor"&&F.status==="active";return e.jsx(de,{className:`p-4 cursor-pointer transition-colors hover-elevate ${E?"border-violet-500/30":""}`,onClick:()=>o(F.id),"data-testid":`card-conversation-${F.id}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx("span",{className:"font-medium text-sm","data-testid":`text-visitor-name-${F.id}`,children:F.visitorName}),E&&e.jsx(Ce,{className:"bg-violet-500/20 text-violet-400 border-violet-500/30","data-testid":`badge-needs-reply-${F.id}`,children:"Needs Reply"}),e.jsx(Ce,{variant:F.status==="active"?"default":"secondary",className:F.status==="active"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"",children:F.status})]}),e.jsx("p",{className:"text-sm font-medium truncate","data-testid":`text-subject-${F.id}`,children:F.subject}),F.lastMessage&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:[e.jsxs("span",{className:"font-medium",children:[F.lastMessage.senderName,":"]})," ",F.lastMessage.message]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-3 h-3"}),F.visitorEmail]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"w-3 h-3"}),F.messageCount," messages"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"w-3 h-3"}),W(C)]})]})]}),e.jsx(z,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),ne(F.accessToken)},"data-testid":`button-copy-link-${F.id}`,children:u===F.accessToken?e.jsx(Ns,{className:"w-4 h-4 text-emerald-400"}):e.jsx(xn,{className:"w-4 h-4"})})]})},F.id)})}),e.jsx(Lt,{open:!!a,onOpenChange:F=>{F||o(null)},children:e.jsxs(Et,{className:"max-w-2xl max-h-[85vh] flex flex-col",children:[e.jsx(Tt,{children:e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx(At,{className:"text-base truncate","data-testid":"text-dialog-subject",children:O?.subject||"Loading..."}),O&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[O.visitorName," (",O.visitorEmail,")"]})]}),O&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>ne(O.accessToken),"data-testid":"button-copy-conversation-link",children:u===O.accessToken?e.jsx(Ns,{className:"w-4 h-4 text-emerald-400"}):e.jsx(xn,{className:"w-4 h-4"})}),O.status==="active"?e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>K.mutate({id:O.id,status:"closed"}),"data-testid":"button-close-conversation",children:[e.jsx(NC,{className:"w-3.5 h-3.5 mr-1.5"}),"Close"]}):e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>K.mutate({id:O.id,status:"active"}),"data-testid":"button-reopen-conversation",children:[e.jsx(oh,{className:"w-3.5 h-3.5 mr-1.5"}),"Reopen"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto min-h-0 py-4 space-y-3","data-testid":"dialog-messages-list",children:H?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Je,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):O?.messages?.map(F=>{const C=F.senderType==="admin";return e.jsx("div",{className:`flex ${C?"justify-end":"justify-start"}`,"data-testid":`dialog-message-${F.id}`,children:e.jsxs("div",{className:"max-w-[80%]",children:[e.jsxs(de,{className:`p-3 ${C?"bg-primary/10 border-primary/20":""}`,children:[F.message&&e.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:F.message}),Q(F.attachments)]}),e.jsxs("div",{className:`flex items-center gap-2 mt-1 ${C?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-[10px] text-muted-foreground",children:F.senderName}),e.jsx("span",{className:"text-[10px] text-muted-foreground/50",children:W(F.createdAt)})]})]})},F.id)})}),O?.status==="active"&&e.jsxs("div",{className:"border-t pt-3 space-y-2",children:[f.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:f.map((F,C)=>e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-muted text-xs","data-testid":`admin-pending-attachment-${C}`,children:[F.type==="image"?e.jsx(po,{className:"w-3 h-3 text-emerald-500"}):F.type==="url"?e.jsx(il,{className:"w-3 h-3 text-blue-500"}):e.jsx(Zt,{className:"w-3 h-3 text-orange-500"}),e.jsx("span",{className:"max-w-[100px] truncate",children:F.name}),e.jsx("button",{onClick:()=>y(E=>E.filter((G,Y)=>Y!==C)),className:"text-muted-foreground hover:text-foreground","data-testid":`button-remove-admin-attachment-${C}`,children:e.jsx(vr,{className:"w-3 h-3"})})]},C))}),N&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Fe,{value:b,onChange:F=>k(F.target.value),onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),$())},placeholder:"Paste a URL...",className:"flex-1 text-sm",autoFocus:!0,"data-testid":"input-admin-url"}),e.jsxs(z,{onClick:$,disabled:!b.trim(),size:"sm","data-testid":"button-admin-add-url",children:[e.jsx(as,{className:"w-3.5 h-3.5 mr-1"}),"Add"]}),e.jsx(z,{onClick:()=>{S(!1),k("")},size:"sm",variant:"ghost","data-testid":"button-admin-cancel-url",children:e.jsx(vr,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:P,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt,.zip,.psd,.ai,.fig",onChange:X,className:"hidden","data-testid":"input-admin-file-upload"}),e.jsxs("div",{className:"flex gap-1 shrink-0",children:[e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>P.current?.click(),disabled:v,title:"Attach files","data-testid":"button-admin-attach-file",children:v?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(Cw,{className:"w-4 h-4"})}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>S(!N),title:"Add URL","data-testid":"button-admin-add-link",children:e.jsx(il,{className:"w-4 h-4"})})]}),e.jsx(Os,{value:l,onChange:F=>d(F.target.value),onKeyDown:I,placeholder:"Type your reply...",className:"flex-1 min-h-[44px] max-h-28 resize-none text-sm","data-testid":"input-admin-reply"}),e.jsx(z,{onClick:me,disabled:!l.trim()&&f.length===0||se.isPending,"data-testid":"button-send-admin-reply",children:se.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(ms,{className:"w-4 h-4"})})]})]})]})})]})}function C9(){Yn("API Keys");const{toast:s}=gt(),[t,n]=x.useState(!1),[a,o]=x.useState(""),[l,d]=x.useState("read"),[u,m]=x.useState(""),[f,y]=x.useState(null),[v,g]=x.useState(null),{data:N,isLoading:S}=Ie({queryKey:["/api/api-keys"]}),{data:b}=Ie({queryKey:["/api/customers"]}),k=Re({mutationFn:async T=>(await Ae("POST","/api/api-keys",T)).json(),onSuccess:T=>{be.invalidateQueries({queryKey:["/api/api-keys"]}),g(T.key),n(!1),o(""),d("read"),m(""),s({title:"API key created",description:"Copy the key now - you won't be able to see it again."})}}),P=Re({mutationFn:async({id:T,isActive:O})=>{await Ae("PATCH",`/api/api-keys/${T}`,{isActive:O})},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/api-keys"]})}}),R=Re({mutationFn:async T=>{await Ae("DELETE",`/api/api-keys/${T}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/api-keys"]}),s({title:"API key deleted"})}});return S?e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ne,{className:"h-8 w-32"}),e.jsx("div",{className:"grid gap-4",children:[1,2,3].map(T=>e.jsx(de,{className:"p-5",children:e.jsx(Ne,{className:"h-20 w-full"})},T))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[e.jsx(xl,{className:"w-6 h-6 text-primary"}),"API Keys"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage API keys for programmatic access to your data"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{variant:"outline",asChild:!0,"data-testid":"link-api-docs",children:e.jsxs("a",{href:"/api/docs",target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Ws,{className:"w-4 h-4 mr-1"}),"API Docs"]})}),e.jsxs(z,{onClick:()=>n(!0),"data-testid":"button-create-key",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"Create API Key"]})]})]}),v&&e.jsx(de,{className:"p-4 border-yellow-500/50 bg-yellow-500/5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ta,{className:"w-5 h-5 text-yellow-500 mt-0.5 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm",children:"New API Key Created"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Copy this key now. You won't be able to see the full key again."}),e.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[e.jsx("code",{className:"text-xs font-mono break-all flex-1","data-testid":"text-new-key",children:v}),e.jsx(z,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(v),s({title:"Copied!"})},"data-testid":"button-copy-new-key",children:e.jsx(xn,{className:"w-4 h-4"})})]})]}),e.jsx(z,{size:"sm",variant:"ghost",onClick:()=>g(null),className:"shrink-0",children:"Dismiss"})]})}),!N||N.length===0?e.jsxs(de,{className:"p-12 text-center",children:[e.jsx(xl,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-1",children:"No API Keys"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Create an API key to start integrating with your billing data programmatically."}),e.jsxs(z,{onClick:()=>n(!0),"data-testid":"button-create-key-empty",children:[e.jsx(as,{className:"w-4 h-4 mr-1"})," Create Your First API Key"]})]}):e.jsx("div",{className:"space-y-3",children:N.map(T=>e.jsx(de,{className:"p-4","data-testid":`card-api-key-${T.id}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold","data-testid":`text-key-name-${T.id}`,children:T.name}),e.jsx(Ce,{variant:T.isActive?"default":"secondary",className:"text-xs",children:T.isActive?"Active":"Disabled"}),e.jsx(Ce,{variant:"outline",className:"text-xs",children:T.scopes==="all"?"Full Access":T.scopes})]}),e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("code",{className:"text-xs font-mono text-muted-foreground","data-testid":`text-key-value-${T.id}`,children:T.key})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"w-3 h-3"}),"Created ",new Date(T.createdAt).toLocaleDateString()]}),T.lastUsedAt&&e.jsxs("span",{children:["Last used ",new Date(T.lastUsedAt).toLocaleDateString()]}),T.customerId&&b&&e.jsxs("span",{children:["Scoped to: ",b.find(O=>O.id===T.customerId)?.name||"Unknown"]}),T.expiresAt&&e.jsx("span",{className:new Date(T.expiresAt)<new Date?"text-red-500":"",children:new Date(T.expiresAt)<new Date?"Expired":`Expires ${new Date(T.expiresAt).toLocaleDateString()}`})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(Rc,{checked:T.isActive,onCheckedChange:O=>P.mutate({id:T.id,isActive:O}),"data-testid":`switch-toggle-key-${T.id}`}),e.jsx(z,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>R.mutate(T.id),"data-testid":`button-delete-key-${T.id}`,children:e.jsx(ks,{className:"w-4 h-4"})})]})]})},T.id))}),e.jsx(Lt,{open:t,onOpenChange:n,children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:"Create API Key"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($e,{children:"Name"}),e.jsx(Fe,{placeholder:"e.g., My Integration",value:a,onChange:T=>o(T.target.value),"data-testid":"input-key-name"})]}),e.jsxs("div",{children:[e.jsx($e,{children:"Permissions"}),e.jsxs(_t,{value:l,onValueChange:d,children:[e.jsx(St,{"data-testid":"select-key-scopes",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"read",children:"Read Only"}),e.jsx(Pe,{value:"read,write",children:"Read & Write"}),e.jsx(Pe,{value:"all",children:"Full Access"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Read = view data, Write = create entries, Full = everything"})]}),e.jsxs("div",{children:[e.jsx($e,{children:"Restrict to Customer (Optional)"}),e.jsxs(_t,{value:u||"none",onValueChange:T=>m(T==="none"?"":T),children:[e.jsx(St,{"data-testid":"select-key-customer",children:e.jsx(Ot,{placeholder:"All customers"})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"none",children:"All customers"}),b?.map(T=>e.jsx(Pe,{value:T.id,children:T.name},T.id))]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Limit this key to only access one customer's data"})]}),e.jsx(z,{className:"w-full",disabled:!a||k.isPending,onClick:()=>k.mutate({name:a,scopes:l,customerId:u||void 0}),"data-testid":"button-submit-create-key",children:k.isPending?"Creating...":"Create API Key"})]})]})})]})}function sl({code:s,language:t="bash"}){const[n,a]=x.useState(!1);return e.jsxs("div",{className:"relative group",children:[e.jsx("pre",{className:"bg-[#0d1117] text-zinc-200 rounded-md p-5 text-[13px] font-mono overflow-x-auto border border-white/[0.06] leading-relaxed shadow-inner",children:e.jsx("code",{children:s})}),e.jsx(z,{size:"sm",variant:"ghost",className:"absolute top-3 right-3 h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-all text-zinc-400 hover:text-white hover:bg-white/10 rounded-md",onClick:()=>{navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)},children:n?e.jsx(Ns,{className:"w-3.5 h-3.5 text-emerald-400"}):e.jsx(xn,{className:"w-3.5 h-3.5"})})]})}function oi({method:s,path:t,description:n,scopes:a,example:o,response:l,children:d}){const[u,m]=x.useState(!1),f={GET:{bg:"bg-emerald-500/10",text:"text-emerald-400",glow:"shadow-emerald-500/5"},POST:{bg:"bg-blue-500/10",text:"text-blue-400",glow:"shadow-blue-500/5"},PATCH:{bg:"bg-amber-500/10",text:"text-amber-400",glow:"shadow-amber-500/5"},DELETE:{bg:"bg-red-500/10",text:"text-red-400",glow:"shadow-red-500/5"}},y=f[s]||f.GET;return e.jsxs("div",{className:`rounded-md border border-white/[0.06] bg-white/[0.01] overflow-hidden transition-all duration-200 hover:border-white/[0.1] ${u?"shadow-lg "+y.glow:""}`,"data-testid":`endpoint-${s.toLowerCase()}-${t.replace(/[/:]/g,"-")}`,children:[e.jsxs("button",{className:"w-full flex items-center gap-3 p-4 sm:p-5 text-left hover:bg-white/[0.02] transition-colors",onClick:()=>m(!u),children:[e.jsx("span",{className:`inline-flex items-center justify-center px-2.5 py-1 rounded-md ${y.bg} ${y.text} font-mono text-xs font-bold tracking-wider min-w-[52px]`,children:s}),e.jsx("code",{className:"text-sm font-mono font-medium flex-1 text-white/80",children:t}),e.jsx("span",{className:"hidden sm:inline-flex items-center px-2.5 py-1 rounded-full bg-white/[0.04] border border-white/[0.06] text-[11px] text-white/40 font-medium",children:a}),e.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center transition-colors ${u?"bg-white/[0.06]":""}`,children:u?e.jsx(La,{className:"w-4 h-4 text-white/40"}):e.jsx(ux,{className:"w-4 h-4 text-white/30"})})]}),u&&e.jsxs("div",{className:"border-t border-white/[0.06] px-5 pb-5 pt-4 space-y-4 bg-white/[0.01]",children:[e.jsx("p",{className:"text-sm text-white/50 leading-relaxed",children:n}),d,o&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[e.jsx("div",{className:"w-1 h-4 rounded-full bg-blue-500/50"}),e.jsx("p",{className:"text-xs font-semibold text-white/60 uppercase tracking-wider",children:"Example Request"})]}),e.jsx(sl,{code:o})]}),l&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[e.jsx("div",{className:"w-1 h-4 rounded-full bg-emerald-500/50"}),e.jsx("p",{className:"text-xs font-semibold text-white/60 uppercase tracking-wider",children:"Example Response"})]}),e.jsx(sl,{code:l,language:"json"})]})]})]})}function Yf({number:s,title:t,description:n,children:a}){const o=["from-blue-500 to-cyan-500","from-violet-500 to-purple-500","from-emerald-500 to-teal-500"],l=o[(s-1)%o.length];return e.jsxs("div",{className:"flex gap-5",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${l} flex items-center justify-center text-sm font-bold text-white shrink-0 shadow-lg`,children:s}),e.jsx("div",{className:"w-px flex-1 bg-gradient-to-b from-white/10 to-transparent mt-3"})]}),e.jsxs("div",{className:"pb-10",children:[e.jsx("h3",{className:"font-semibold text-base text-white/90 mb-1.5",children:t}),e.jsx("p",{className:"text-sm text-white/45 mb-4 leading-relaxed",children:n}),a]})]})}function E9(){const[s,t]=x.useState("getting-started"),n=window.location.origin,a=[{id:"getting-started",label:"Getting Started",icon:xr},{id:"authentication",label:"Authentication",icon:ey},{id:"customers",label:"Customers",icon:ro},{id:"projects",label:"Projects",icon:_n},{id:"invoices",label:"Invoices",icon:Zt},{id:"work-entries",label:"Work Entries",icon:Iu},{id:"errors",label:"Error Handling",icon:Pc}];return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white",style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("div",{className:"border-b border-white/[0.06] bg-[#0a0a0f]/80 sticky top-0 z-10",style:{backdropFilter:"blur(20px)"},children:e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(SC,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-lg font-bold text-white/90","data-testid":"text-api-docs-title",children:"AI Powered Sites API"}),e.jsx("p",{className:"text-xs text-white/40",children:"Simple, powerful API for your integrations"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20 text-[11px] font-semibold",children:"v1"}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/[0.06] border border-emerald-500/15",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("span",{className:"text-[11px] text-emerald-400/80 font-medium",children:"Live"})]})]})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10 flex gap-10",children:[e.jsxs("nav",{className:"w-52 shrink-0 hidden lg:block sticky top-24 self-start",children:[e.jsx("div",{className:"space-y-1",children:a.map(o=>e.jsxs("button",{onClick:()=>{t(o.id),document.getElementById(o.id)?.scrollIntoView({behavior:"smooth"})},className:`w-full flex items-center gap-2.5 px-3.5 py-2.5 rounded-md text-sm transition-all duration-200 text-left ${s===o.id?"bg-blue-500/10 text-blue-400 font-medium border border-blue-500/15":"text-white/40 hover:text-white/70 hover:bg-white/[0.03] border border-transparent"}`,"data-testid":`nav-${o.id}`,children:[e.jsx(o.icon,{className:"w-4 h-4"}),o.label]},o.id))}),e.jsxs("div",{className:"mt-6 p-4 rounded-md bg-white/[0.02] border border-white/[0.06]",children:[e.jsx("p",{className:"text-[11px] text-white/30 mb-2 font-medium uppercase tracking-wider",children:"Base URL"}),e.jsxs("code",{className:"text-[11px] text-cyan-400/70 font-mono break-all",children:[n,"/api/v1"]})]})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-16",children:[e.jsxs("section",{id:"getting-started",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(xr,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white/90",children:"Getting Started"})]}),e.jsxs("div",{className:"relative p-6 sm:p-8 mb-8 rounded-md border border-blue-500/15 bg-gradient-to-br from-blue-500/[0.05] via-cyan-500/[0.02] to-transparent overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-blue-400/30 to-transparent"}),e.jsxs("div",{className:"flex items-start gap-5",children:[e.jsx("div",{className:"w-14 h-14 rounded-md bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-white/[0.06] flex items-center justify-center shrink-0 shadow-lg shadow-blue-500/10",children:e.jsx(na,{className:"w-7 h-7 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-white/90 mb-2",children:"Welcome to the API"}),e.jsx("p",{className:"text-sm text-white/45 leading-relaxed",children:"The AI Powered Sites API lets you read your customers, projects, and invoices, and log work entries  all with simple HTTP requests. No complex setup needed."})]})]})]}),e.jsxs("div",{className:"space-y-0",children:[e.jsx(Yf,{number:1,title:"Get Your API Key",description:"Go to your admin dashboard and create an API key. You'll need it for all requests.",children:e.jsxs("div",{className:"flex items-center gap-2.5 p-4 rounded-md bg-white/[0.02] border border-white/[0.06] text-sm",children:[e.jsx(xl,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-white/50",children:"Dashboard"}),e.jsx(rl,{className:"w-3 h-3 text-white/20"}),e.jsx("span",{className:"text-white/50",children:"API Keys"}),e.jsx(rl,{className:"w-3 h-3 text-white/20"}),e.jsx("span",{className:"font-medium text-white/70",children:"Create API Key"})]})}),e.jsx(Yf,{number:2,title:"Make Your First Request",description:"Try fetching your customers. Replace YOUR_API_KEY with your actual key.",children:e.jsx(sl,{code:`curl ${n}/api/v1/customers \\
  -H "Authorization: Bearer YOUR_API_KEY"`})}),e.jsx(Yf,{number:3,title:"Check the Response",description:"You'll get back a JSON response with your data. All responses follow the same format.",children:e.jsx(sl,{code:`{
  "data": [
    {
      "id": "abc123",
      "name": "Acme Corp",
      "email": "contact@acme.com",
      "company": "Acme Corp",
      "createdAt": "2025-01-15T10:30:00Z"
    }
  ]
}`,language:"json"})})]}),e.jsxs("div",{className:"flex items-start gap-4 p-5 rounded-md border border-blue-500/15 bg-blue-500/[0.04]",children:[e.jsx(qC,{className:"w-5 h-5 text-blue-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-white/80",children:"Base URL"}),e.jsxs("code",{className:"text-sm bg-white/[0.04] px-3 py-1.5 rounded-md mt-2 inline-block font-mono text-cyan-400/80 border border-white/[0.06]",children:[n,"/api/v1"]}),e.jsx("p",{className:"text-xs text-white/35 mt-2",children:"All endpoints start with this URL. Include your API key in every request."})]})]})]}),e.jsxs("section",{id:"authentication",className:"scroll-mt-20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-gradient-to-br from-violet-500/20 to-purple-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(ey,{className:"w-5 h-5 text-violet-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white/90",children:"Authentication"})]}),e.jsxs("p",{className:"text-white/45 mb-5 text-sm leading-relaxed",children:["Every request needs your API key in the ",e.jsx("code",{className:"bg-white/[0.06] px-2 py-0.5 rounded-md text-xs font-mono text-cyan-400/70",children:"Authorization"})," header."]}),e.jsx(sl,{code:"Authorization: Bearer aips_your_api_key_here"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[{icon:ta,title:"Read Only",desc:"View customers, projects, invoices. Can't make changes.",color:"from-emerald-500/15 to-teal-500/15",iconColor:"text-emerald-400",border:"border-emerald-500/10"},{icon:bw,title:"Read & Write",desc:"View data plus create work entries and log time.",color:"from-blue-500/15 to-cyan-500/15",iconColor:"text-blue-400",border:"border-blue-500/10"},{icon:xl,title:"Full Access",desc:"Complete access to all API features.",color:"from-violet-500/15 to-purple-500/15",iconColor:"text-violet-400",border:"border-violet-500/10"}].map(o=>e.jsxs("div",{className:`group p-5 rounded-md bg-white/[0.02] border border-white/[0.06] hover:${o.border} hover:bg-white/[0.03] transition-all duration-300`,children:[e.jsx("div",{className:`w-10 h-10 rounded-md bg-gradient-to-br ${o.color} border border-white/[0.06] flex items-center justify-center mb-3 group-hover:scale-105 transition-transform duration-300`,children:e.jsx(o.icon,{className:`w-5 h-5 ${o.iconColor}`})}),e.jsx("h4",{className:"font-semibold text-sm text-white/80 mb-1",children:o.title}),e.jsx("p",{className:"text-xs text-white/35 leading-relaxed",children:o.desc})]},o.title))}),e.jsxs("div",{className:"flex items-start gap-4 p-5 mt-6 rounded-md border border-amber-500/15 bg-amber-500/[0.04]",children:[e.jsx(Pc,{className:"w-5 h-5 text-amber-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-white/80",children:"Keep Your Key Safe"}),e.jsx("p",{className:"text-xs text-white/35 mt-1 leading-relaxed",children:"Never share your API key publicly or put it in frontend code. Store it in environment variables or a secrets manager."})]})]})]}),e.jsxs("section",{id:"customers",className:"scroll-mt-20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(ro,{className:"w-5 h-5 text-cyan-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white/90",children:"Customers"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(oi,{method:"GET",path:"/api/v1/customers",description:"Get a list of all your customers. If your API key is scoped to a specific customer, only that customer will be returned.",scopes:"read",example:`curl ${n}/api/v1/customers \\
  -H "Authorization: Bearer YOUR_API_KEY"`,response:`{
  "data": [
    {
      "id": "abc123",
      "name": "Acme Corp",
      "email": "contact@acme.com",
      "company": "Acme Corp",
      "createdAt": "2025-01-15T10:30:00Z"
    }
  ]
}`}),e.jsx(oi,{method:"GET",path:"/api/v1/customers/:id",description:"Get details for a specific customer by their ID.",scopes:"read",example:`curl ${n}/api/v1/customers/abc123 \\
  -H "Authorization: Bearer YOUR_API_KEY"`,response:`{
  "data": {
    "id": "abc123",
    "name": "Acme Corp",
    "email": "contact@acme.com",
    "company": "Acme Corp",
    "createdAt": "2025-01-15T10:30:00Z"
  }
}`})]})]}),e.jsxs("section",{id:"projects",className:"scroll-mt-20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(_n,{className:"w-5 h-5 text-amber-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white/90",children:"Projects"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(oi,{method:"GET",path:"/api/v1/projects",description:"Get all projects. Filter by customer using the customerId query parameter.",scopes:"read",example:`curl "${n}/api/v1/projects?customerId=abc123" \\
  -H "Authorization: Bearer YOUR_API_KEY"`,response:`{
  "data": [
    {
      "id": "proj_1",
      "name": "Website Redesign",
      "description": "Complete redesign of corporate site",
      "status": "active",
      "customerId": "abc123",
      "previewUrl": "https://preview.example.com",
      "createdAt": "2025-02-01T09:00:00Z"
    }
  ]
}`}),e.jsx(oi,{method:"GET",path:"/api/v1/projects/:id",description:"Get a specific project by its ID.",scopes:"read",example:`curl ${n}/api/v1/projects/proj_1 \\
  -H "Authorization: Bearer YOUR_API_KEY"`}),e.jsx(oi,{method:"GET",path:"/api/v1/projects/:id/updates",description:"Get all progress updates for a project. Returns milestones, deliverables, and status updates in chronological order.",scopes:"read",example:`curl ${n}/api/v1/projects/proj_1/updates \\
  -H "Authorization: Bearer YOUR_API_KEY"`,response:`{
  "data": [
    {
      "id": "upd_1",
      "projectId": "proj_1",
      "type": "milestone",
      "title": "Design Approved",
      "description": "Homepage design has been approved",
      "createdAt": "2025-02-10T14:00:00Z"
    }
  ]
}`})]})]}),e.jsxs("section",{id:"invoices",className:"scroll-mt-20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-gradient-to-br from-emerald-500/20 to-green-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(Zt,{className:"w-5 h-5 text-emerald-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white/90",children:"Invoices"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(oi,{method:"GET",path:"/api/v1/invoices",description:"Get all invoices. Filter by status using the status query parameter (draft, pending, paid, overdue).",scopes:"read",example:`curl "${n}/api/v1/invoices?status=pending" \\
  -H "Authorization: Bearer YOUR_API_KEY"`,response:`{
  "data": [
    {
      "id": "inv_1",
      "invoiceNumber": "INV-001",
      "customerId": "abc123",
      "projectId": "proj_1",
      "status": "pending",
      "totalCents": 250000,
      "dueDate": "2025-03-01",
      "createdAt": "2025-02-15T10:00:00Z"
    }
  ]
}`,children:e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-md bg-white/[0.02] border border-white/[0.06]",children:[e.jsx(vi,{className:"w-4 h-4 text-amber-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-white/60 mb-1",children:"Understanding Amounts"}),e.jsxs("p",{className:"text-xs text-white/35 leading-relaxed",children:["All money amounts are in ",e.jsx("strong",{className:"text-white/50",children:"cents"}),". So 250000 = $2,500.00. Divide by 100 to get dollars."]})]})]})}),e.jsx(oi,{method:"GET",path:"/api/v1/invoices/:id",description:"Get a single invoice with its line items. Shows exactly what was billed and the breakdown.",scopes:"read",example:`curl ${n}/api/v1/invoices/inv_1 \\
  -H "Authorization: Bearer YOUR_API_KEY"`,response:`{
  "data": {
    "id": "inv_1",
    "invoiceNumber": "INV-001",
    "status": "pending",
    "totalCents": 250000,
    "dueDate": "2025-03-01",
    "lineItems": [
      {
        "description": "Homepage Design",
        "quantity": 1,
        "unitPriceCents": 150000,
        "totalCents": 150000
      },
      {
        "description": "Custom Images",
        "quantity": 5,
        "unitPriceCents": 20000,
        "totalCents": 100000
      }
    ]
  }
}`})]})]}),e.jsxs("section",{id:"work-entries",className:"scroll-mt-20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-gradient-to-br from-pink-500/20 to-rose-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(Iu,{className:"w-5 h-5 text-pink-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white/90",children:"Work Entries"})]}),e.jsx("div",{className:"space-y-3",children:e.jsx(oi,{method:"POST",path:"/api/v1/work-entries",description:"Log a new work entry against a project. This requires the 'write' scope. The entry will be available for invoicing later.",scopes:"write",example:`curl -X POST ${n}/api/v1/work-entries \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "projectId": "proj_1",
    "billingRateId": "rate_1",
    "quantity": 3,
    "description": "Designed 3 inner pages"
  }'`,response:`{
  "data": {
    "id": "we_1",
    "projectId": "proj_1",
    "billingRateId": "rate_1",
    "quantity": 3,
    "description": "Designed 3 inner pages",
    "createdAt": "2025-02-20T15:00:00Z"
  }
}`,children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-1 h-4 rounded-full bg-violet-500/50"}),e.jsx("p",{className:"text-xs font-semibold text-white/60 uppercase tracking-wider",children:"Required Fields"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2.5",children:[{field:"projectId",label:"Project ID"},{field:"billingRateId",label:"Rate to apply"},{field:"quantity",label:"Number of units"},{field:"description",label:"What was done"}].map(o=>e.jsxs("div",{className:"flex items-center gap-2.5 p-2.5 rounded-md bg-white/[0.02] border border-white/[0.04]",children:[e.jsx(ys,{className:"w-3.5 h-3.5 text-emerald-400 shrink-0"}),e.jsx("code",{className:"text-xs bg-white/[0.04] px-2 py-0.5 rounded font-mono text-cyan-400/70",children:o.field}),e.jsx("span",{className:"text-xs text-white/35",children:o.label})]},o.field))})]})})})]}),e.jsxs("section",{id:"errors",className:"scroll-mt-20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-md bg-gradient-to-br from-red-500/20 to-orange-500/20 border border-white/[0.06] flex items-center justify-center",children:e.jsx(Pc,{className:"w-5 h-5 text-red-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white/90",children:"Error Handling"})]}),e.jsx("p",{className:"text-white/45 mb-6 text-sm leading-relaxed",children:"When something goes wrong, the API returns a clear error message with an appropriate HTTP status code."}),e.jsx("div",{className:"space-y-3",children:[{code:"401",label:"Unauthorized",desc:"Your API key is missing, invalid, or not included in the Authorization header.",color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/10"},{code:"403",label:"Forbidden",desc:"Your key doesn't have the required scope, is disabled, or has expired.",color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/10"},{code:"404",label:"Not Found",desc:"The resource you requested doesn't exist.",color:"text-yellow-400",bg:"bg-yellow-500/10",border:"border-yellow-500/10"},{code:"500",label:"Server Error",desc:"Something went wrong on our end. Try again in a moment.",color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/10"}].map(o=>e.jsxs("div",{className:"flex items-start gap-4 p-5 rounded-md bg-white/[0.02] border border-white/[0.06] hover:border-white/[0.1] transition-colors",children:[e.jsx("span",{className:`inline-flex items-center justify-center px-3 py-1.5 rounded-md ${o.bg} ${o.color} ${o.border} border font-mono text-xs font-bold min-w-[52px]`,children:o.code}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-white/80",children:o.label}),e.jsx("p",{className:"text-xs text-white/35 mt-0.5 leading-relaxed",children:o.desc})]})]},o.code))}),e.jsx("div",{className:"mt-6",children:e.jsx(sl,{code:`{
  "error": "Missing required scope: 'write'. Your key has: read"
}`,language:"json"})}),e.jsxs("div",{className:"relative p-8 mt-10 text-center rounded-md border border-blue-500/15 bg-gradient-to-br from-blue-500/[0.04] via-violet-500/[0.02] to-transparent overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-blue-400/20 to-transparent"}),e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500/20 to-violet-500/20 border border-white/[0.06] flex items-center justify-center mx-auto mb-5 shadow-lg shadow-blue-500/10",children:e.jsx(vi,{className:"w-6 h-6 text-blue-400"})}),e.jsx("h3",{className:"font-bold text-xl text-white/90 mb-3",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-white/40 mb-6 max-w-md mx-auto",children:"Start a conversation with us or check out the Q&A section for common questions."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(z,{className:"bg-gradient-to-r from-blue-500 to-violet-500 border-0 text-white font-medium shadow-lg shadow-blue-500/20",asChild:!0,children:e.jsx("a",{href:"/#contact",children:"Contact Us"})}),e.jsx(z,{className:"bg-white/[0.04] border border-white/[0.08] text-white/70 hover:bg-white/[0.08] hover:text-white transition-colors",asChild:!0,children:e.jsx("a",{href:"/questions",children:"Q&A"})})]})]})]})]})]})]})}function T9({status:s}){switch(s){case"success":return e.jsxs(Ce,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400","data-testid":`badge-status-${s}`,children:[e.jsx(Rn,{className:"w-3 h-3 mr-1"}),"Success"]});case"failed":return e.jsxs(Ce,{variant:"destructive","data-testid":`badge-status-${s}`,children:[e.jsx(Xi,{className:"w-3 h-3 mr-1"}),"Failed"]});case"pending":return e.jsxs(Ce,{className:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400","data-testid":`badge-status-${s}`,children:[e.jsx(Je,{className:"w-3 h-3 mr-1 animate-spin"}),"Running"]});default:return e.jsx(Ce,{variant:"secondary","data-testid":`badge-status-${s}`,children:s})}}function A9({project:s,customers:t,backupRate:n}){const{toast:a}=gt(),[o,l]=x.useState(!1),[d,u]=x.useState(!1),[m,f]=x.useState(""),[y,v]=x.useState("main"),[g,N]=x.useState(""),S=t.find(K=>K.id===s.customerId),{data:b,isLoading:k}=Ie({queryKey:["/api/git-backups/project",s.id],queryFn:async()=>{const K=await fetch(`/api/git-backups/project/${s.id}`,{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch");return K.json()}}),{data:P}=Ie({queryKey:["/api/git-backups/logs",s.id],queryFn:async()=>{const K=await fetch(`/api/git-backups/logs/${s.id}`,{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch");return K.json()},enabled:o}),{data:R}=Ie({queryKey:["/api/git-backups/repos",b?.id],queryFn:async()=>{const K=await fetch(`/api/git-backups/${b.id}/repos`,{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch");return K.json()},enabled:!!b?.isConnected&&d}),T=Re({mutationFn:async()=>(await Ae("POST","/api/git-backups",{projectId:s.id,customerId:s.customerId})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/git-backups/project",s.id]}),a({title:"Backup initialized",description:"GitHub connection is ready. Customer needs to connect their GitHub account from their portal."})}}),O=Re({mutationFn:async K=>(await Ae("PATCH",`/api/git-backups/${b.id}`,K)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/git-backups/project",s.id]}),a({title:"Config updated"})}}),H=Re({mutationFn:async()=>(await Ae("POST",`/api/git-backups/${b.id}/push`,{message:g||void 0})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/git-backups/logs",s.id]}),a({title:"Backup started",description:"Pushing project data to GitHub..."}),N("")}}),se=Re({mutationFn:async()=>(await Ae("DELETE",`/api/git-backups/${b.id}`)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/git-backups/project",s.id]}),a({title:"Backup config removed"})}});return k?e.jsx(de,{className:"p-4",children:e.jsx(Ne,{className:"h-20 w-full"})}):e.jsxs(de,{className:"overflow-hidden","data-testid":`card-backup-${s.id}`,children:[e.jsx("div",{className:"p-4 border-b bg-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:e.jsx(Zi,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm","data-testid":`text-project-name-${s.id}`,children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:S?.name||"Unknown client"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:b?.isConnected?e.jsxs(Ce,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400","data-testid":`badge-connected-${s.id}`,children:[e.jsx(Gi,{className:"w-3 h-3 mr-1"}),b.githubUsername||"Connected"]}):b?e.jsxs(Ce,{variant:"outline",className:"text-amber-600 border-amber-300","data-testid":`badge-pending-${s.id}`,children:[e.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Awaiting GitHub"]}):null})]})}),e.jsxs("div",{className:"p-4",children:[b?e.jsx("div",{className:"space-y-4",children:b.isConnected?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[b.githubRepo?e.jsx(Ce,{variant:"outline",className:"font-mono text-xs","data-testid":`badge-repo-${s.id}`,children:b.githubRepo}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"No repo selected"}),b.githubBranch&&e.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[e.jsx(Yv,{className:"w-3 h-3 mr-1"}),b.githubBranch]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>u(!d),"data-testid":`button-settings-${s.id}`,children:[e.jsx(oy,{className:"w-4 h-4 mr-1"}),"Settings"]}),e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l(!o),"data-testid":`button-history-${s.id}`,children:[e.jsx(Zv,{className:"w-4 h-4 mr-1"}),"History",o?e.jsx(Cl,{className:"w-3 h-3 ml-1"}):e.jsx(La,{className:"w-3 h-3 ml-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>O.mutate({autopilotEnabled:!b.autopilotEnabled}),className:"text-muted-foreground hover:text-foreground transition-colors","data-testid":`button-autopilot-toggle-${s.id}`,children:b.autopilotEnabled?e.jsx(Aw,{className:"w-8 h-8 text-emerald-500"}):e.jsx(Tw,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:["Autopilot ",b.autopilotEnabled?"On":"Off"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:b.autopilotEnabled?`Auto-backup ${b.autopilotFrequency||"daily"}`:"Enable for automatic backups"})]})]}),b.autopilotEnabled&&e.jsxs(_t,{value:b.autopilotFrequency||"daily",onValueChange:K=>O.mutate({autopilotFrequency:K}),children:[e.jsx(St,{className:"w-28","data-testid":`select-frequency-${s.id}`,children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"hourly",children:"Hourly"}),e.jsx(Pe,{value:"daily",children:"Daily"}),e.jsx(Pe,{value:"weekly",children:"Weekly"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{placeholder:"Commit message (optional)",value:g,onChange:K=>N(K.target.value),className:"flex-1 text-sm","data-testid":`input-commit-message-${s.id}`}),e.jsxs(z,{onClick:()=>H.mutate(),disabled:H.isPending||!b.githubRepo,className:"bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700","data-testid":`button-push-now-${s.id}`,children:[H.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(QC,{className:"w-4 h-4 mr-2"}),"Push Now",n?.isActive&&n.rateCents>0&&e.jsxs("span",{className:"ml-1.5 inline-flex items-center gap-0.5 bg-white/20 rounded-full px-2 py-0.5 text-xs font-medium",children:[e.jsx(Ln,{className:"w-3 h-3"}),(n.rateCents/100).toFixed(2)]})]})]}),b.lastPushAt&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last backup: ",new Date(b.lastPushAt).toLocaleString()]})]}):e.jsxs("div",{className:"text-center py-4 space-y-3",children:[e.jsx("div",{className:"w-12 h-12 mx-auto rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:e.jsx(Gi,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Waiting for customer to connect GitHub"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[S?.name||"Customer"," needs to connect their GitHub account from their portal."]}),S?.portalToken&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Portal link: ",e.jsxs("code",{className:"bg-muted px-1 rounded",children:["/portal/",S.portalToken]})]})]}),e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>se.mutate(),disabled:se.isPending,className:"text-destructive","data-testid":`button-remove-config-${s.id}`,children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),"Remove"]})]})}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Gi,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No backup configured for this project"}),e.jsxs(z,{onClick:()=>T.mutate(),disabled:T.isPending,"data-testid":`button-enable-backup-${s.id}`,children:[T.isPending?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Yv,{className:"w-4 h-4 mr-2"}),"Enable Code Backups"]})]}),d&&b?.isConnected&&e.jsxs("div",{className:"mt-4 p-4 border rounded-lg space-y-3 bg-muted/20",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(oy,{className:"w-4 h-4"}),"Repository Settings"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{className:"text-xs",children:"Repository"}),e.jsxs(_t,{value:m||b.githubRepo||"",onValueChange:K=>{f(K);const re=R?.find(W=>W.fullName===K);re&&v(re.defaultBranch),O.mutate({githubRepo:K,githubBranch:re?.defaultBranch||"main"})},children:[e.jsx(St,{"data-testid":`select-repo-${s.id}`,children:e.jsx(Ot,{placeholder:"Select a repository"})}),e.jsx(Ct,{children:R?.map(K=>e.jsx(Pe,{value:K.fullName,children:e.jsxs("span",{className:"flex items-center gap-2",children:[K.fullName,K.private&&e.jsx(Ce,{variant:"secondary",className:"text-[10px] py-0 px-1",children:"private"})]})},K.fullName))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{className:"text-xs",children:"Branch"}),e.jsx(Fe,{value:y||b.githubBranch||"main",onChange:K=>{v(K.target.value),O.mutate({githubBranch:K.target.value})},className:"text-sm","data-testid":`input-branch-${s.id}`})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs(z,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{confirm("Remove Git backup configuration for this project?")&&se.mutate()},"data-testid":`button-delete-config-${s.id}`,children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),"Remove Backup"]}),e.jsx(z,{size:"sm",variant:"outline",onClick:()=>u(!1),children:"Done"})]})]}),o&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(Zv,{className:"w-4 h-4"}),"Backup History"]}),e.jsx(z,{variant:"ghost",size:"sm",onClick:()=>be.invalidateQueries({queryKey:["/api/git-backups/logs",s.id]}),"data-testid":`button-refresh-logs-${s.id}`,children:e.jsx(ih,{className:"w-3 h-3"})})]}),!P||P.length===0?e.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No backups yet"}):e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:P.map(K=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md border text-xs","data-testid":`log-entry-${K.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T9,{status:K.status}),e.jsx("span",{className:"text-muted-foreground",children:K.commitMessage||"Backup"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[K.triggeredBy==="autopilot"&&e.jsx("span",{title:"Autopilot",children:e.jsx(xr,{className:"w-3 h-3 text-amber-500"})}),e.jsx("span",{children:new Date(K.createdAt).toLocaleString()}),K.commitSha&&e.jsx("code",{className:"bg-muted px-1 rounded font-mono",children:K.commitSha.substring(0,7)})]})]},K.id))})]})]})]})}function P9(){const{toast:s}=gt(),[t,n]=x.useState(!1),[a,o]=x.useState(""),{data:l,isLoading:d}=Ie({queryKey:["/api/projects"]}),{data:u}=Ie({queryKey:["/api/customers"]}),{data:m}=Ie({queryKey:["/api/git-backups/billing-rate"],queryFn:async()=>{const v=await fetch("/api/git-backups/billing-rate",{credentials:"include"});if(!v.ok)throw new Error("Failed to fetch");return v.json()}}),f=Re({mutationFn:async v=>(await Ae("PATCH","/api/git-backups/billing-rate",v)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/git-backups/billing-rate"]}),n(!1),s({title:"Rate updated",description:"Backup billing rate has been updated."})}}),y=l?.filter(v=>v.status==="active")||[];return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-3","data-testid":"text-page-title",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:e.jsx(Zi,{className:"w-6 h-6 text-white"})}),"Code Backups"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Push project backups to your customers' GitHub repositories. Customers connect their GitHub from their portal, and you control when backups happen."})]}),e.jsx(de,{className:"p-4 bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-950/20 dark:to-purple-950/20 border-violet-200 dark:border-violet-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(xr,{className:"w-5 h-5 text-violet-600 dark:text-violet-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-violet-900 dark:text-violet-200",children:"How it works"}),e.jsxs("ol",{className:"text-xs text-violet-700 dark:text-violet-300 mt-1 space-y-0.5 list-decimal pl-4",children:[e.jsx("li",{children:'Click "Enable Code Backups" on any project below'}),e.jsx("li",{children:"Your customer connects their GitHub account from their portal"}),e.jsx("li",{children:"Select which repository and branch to push backups to"}),e.jsx("li",{children:"Push manually anytime, or turn on Autopilot for automatic daily/weekly backups"}),e.jsx("li",{children:"Each successful backup automatically adds a billable work entry to the project"})]})]})]})}),m&&e.jsx(de,{className:"p-4 border-emerald-200 dark:border-emerald-800","data-testid":"card-backup-billing",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:e.jsx(Ln,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Backup Billing Rate"}),t?e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"$"}),e.jsx(Fe,{type:"number",step:"0.01",min:"0",value:a,onChange:v=>o(v.target.value),className:"w-24 h-7 text-xs","data-testid":"input-backup-rate"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"per backup"}),e.jsx(z,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{const v=parseFloat(a);if(isNaN(v)||v<0)return;const g=Math.round(v*100);f.mutate({rateCents:g})},disabled:!a||isNaN(parseFloat(a))||parseFloat(a)<0,"data-testid":"button-save-rate",children:"Save"}),e.jsx(z,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>n(!1),children:"Cancel"})]}):e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"font-semibold text-foreground",children:["$",(m.rateCents/100).toFixed(2)]})," per backup  auto-added to project billing"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!t&&e.jsx(z,{size:"sm",variant:"ghost",onClick:()=>{o((m.rateCents/100).toFixed(2)),n(!0)},"data-testid":"button-edit-rate",children:e.jsx(gi,{className:"w-3.5 h-3.5"})}),e.jsx(z,{size:"sm",variant:m.isActive?"outline":"secondary",onClick:()=>f.mutate({isActive:!m.isActive}),className:"text-xs","data-testid":"button-toggle-billing",children:m.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Aw,{className:"w-4 h-4 mr-1 text-emerald-500"})," Billing On"]}):e.jsxs(e.Fragment,{children:[e.jsx(Tw,{className:"w-4 h-4 mr-1 text-muted-foreground"})," Billing Off"]})})]})]})}),d?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(v=>e.jsx(Ne,{className:"h-32 w-full"},v))}):y.length===0?e.jsxs(de,{className:"p-8 text-center",children:[e.jsx(Zi,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No active projects found"})]}):e.jsx("div",{className:"space-y-4",children:y.map(v=>e.jsx(A9,{project:v,customers:u||[],backupRate:m},v.id))})]})}const R9=[{value:"restaurant",label:"Restaurants"},{value:"plumber",label:"Plumbers"},{value:"dentist",label:"Dentists"},{value:"lawyer",label:"Lawyers"},{value:"real estate agent",label:"Real Estate"},{value:"auto repair",label:"Auto Repair"},{value:"salon",label:"Hair Salons"},{value:"gym fitness",label:"Gyms & Fitness"},{value:"accountant",label:"Accountants"},{value:"contractor",label:"Contractors"},{value:"veterinarian",label:"Veterinarians"},{value:"chiropractor",label:"Chiropractors"},{value:"florist",label:"Florists"},{value:"bakery",label:"Bakeries"},{value:"insurance agent",label:"Insurance"},{value:"photographer",label:"Photographers"},{value:"cleaning service",label:"Cleaning Services"},{value:"landscaping",label:"Landscaping"}],_9={new:"bg-blue-500/10 text-blue-500 border-blue-500/20",contacted:"bg-amber-500/10 text-amber-500 border-amber-500/20",interested:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20",not_interested:"bg-red-500/10 text-red-400 border-red-500/20",converted:"bg-violet-500/10 text-violet-500 border-violet-500/20"},gb={new:"New",contacted:"Contacted",interested:"Interested",not_interested:"Not Interested",converted:"Converted"};function O9(){Yn("Lead Generator");const{toast:s}=gt(),[t,n]=x.useState(""),[a,o]=x.useState("restaurant"),[l,d]=x.useState(""),[u,m]=x.useState([]),[f,y]=x.useState(!1),[v,g]=x.useState(null),[N,S]=x.useState(null),[b,k]=x.useState(null),[P,R]=x.useState("search"),[T,O]=x.useState("all"),[H,se]=x.useState(null),[K,re]=x.useState(""),[W,me]=x.useState(""),[I,X]=x.useState(null),{data:$=[],isLoading:Q}=Ie({queryKey:["/api/leads"]}),ne=Re({mutationFn:async({zip:D,query:oe})=>{const ue=new URLSearchParams({zipCode:D,query:oe});return(await Ae("GET",`/api/leads/search?${ue}`)).json()},onSuccess:D=>{m(D.results||[]),y(!0),D.results?.length===0&&s({title:"No results",description:"Try a different search or zip code."})},onError:()=>{s({title:"Search failed",description:"Could not search businesses. Check your API key.",variant:"destructive"})}}),F=Re({mutationFn:async D=>(await Ae("POST","/api/leads",D)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/leads"]}),s({title:"Lead saved",description:"Business added to your leads."})}}),C=Re({mutationFn:async({id:D,updates:oe})=>(await Ae("PATCH",`/api/leads/${D}`,oe)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/leads"]}),se(null),s({title:"Lead updated"})}}),E=Re({mutationFn:async D=>{await Ae("DELETE",`/api/leads/${D}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/leads"]}),s({title:"Lead removed"})}}),G=()=>{if(!t.trim()){s({title:"Enter a zip code",description:"A zip code is required to search.",variant:"destructive"});return}const D=l.trim()||a;ne.mutate({zip:t.trim(),query:D})},Y=async D=>{k(D);try{const ue=await(await Ae("GET",`/api/leads/place-details/${D}`)).json();S(ue),g(D)}catch{s({title:"Failed to get details",variant:"destructive"})}finally{k(null)}},q=D=>{F.mutate({businessName:D.name,address:D.address,phone:D.phone,website:D.website,domain:D.domain,emailGuess:D.emailGuess,googlePlaceId:D.placeId,googleRating:D.rating?String(D.rating):null,googleReviewCount:D.reviewCount,category:D.category,zipCode:t,status:"new"})},ee=D=>{window.open(`/?audit=${encodeURIComponent(D)}`,"_blank")},xe=async D=>{if(D.website){X(D.id);try{const ue=await(await Ae("POST","/api/leads/scrape-email",{website:D.website})).json(),ke=[...ue.scrapedEmails||[],...ue.guessedEmails||[]].join(", ");await Ae("PATCH",`/api/leads/${D.id}`,{emailGuess:ke||D.emailGuess}),be.invalidateQueries({queryKey:["/api/leads"]}),ue.scrapedEmails?.length>0?s({title:"Emails found!",description:`Found ${ue.scrapedEmails.length} email(s) on ${D.domain||D.website}`}):s({title:"No emails found on website",description:"Guessed emails have been saved instead."})}catch{s({title:"Scrape failed",variant:"destructive"})}finally{X(null)}}},U=T==="all"?$:$.filter(D=>D.status===T),_={total:$.length,new:$.filter(D=>D.status==="new").length,contacted:$.filter(D=>D.status==="contacted").length,interested:$.filter(D=>D.status==="interested").length,converted:$.filter(D=>D.status==="converted").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-violet-500/20 to-blue-500/20",children:e.jsx(hp,{className:"w-5 h-5 text-violet-500"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"text-page-title",children:"Lead Generator"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Find local businesses that need a website or upgrade"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(z,{variant:P==="search"?"default":"outline",onClick:()=>R("search"),className:"gap-2","data-testid":"button-tab-search",children:[e.jsx(nn,{className:"w-4 h-4"}),"Search"]}),e.jsxs(z,{variant:P==="leads"?"default":"outline",onClick:()=>R("leads"),className:"gap-2","data-testid":"button-tab-leads",children:[e.jsx(ro,{className:"w-4 h-4"}),"My Leads",$.length>0&&e.jsx(Ce,{variant:"secondary",className:"ml-1",children:$.length})]})]}),P==="search"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(de,{className:"p-6 border-0 shadow-lg bg-gradient-to-br from-background to-muted/30",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(vi,{className:"w-4 h-4 text-violet-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Find Businesses Near You"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-shrink-0 sm:w-44",children:[e.jsx(tl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Zip Code",value:t,onChange:D=>n(D.target.value),className:"pl-9 h-12 text-base rounded-xl border-2 focus:border-violet-500 transition-colors",onKeyDown:D=>D.key==="Enter"&&G(),"data-testid":"input-zip-code"})]}),e.jsxs(_t,{value:a,onValueChange:o,children:[e.jsxs(St,{className:"h-12 rounded-xl border-2 sm:w-48","data-testid":"select-business-type",children:[e.jsx(al,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx(Ot,{})]}),e.jsx(Ct,{children:R9.map(D=>e.jsx(Pe,{value:D.value,children:D.label},D.value))})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Or type a custom search...",value:l,onChange:D=>d(D.target.value),className:"pl-9 h-12 text-base rounded-xl border-2 focus:border-violet-500 transition-colors",onKeyDown:D=>D.key==="Enter"&&G(),"data-testid":"input-custom-query"})]}),e.jsxs(z,{onClick:G,disabled:ne.isPending,className:"h-12 px-6 rounded-xl bg-gradient-to-r from-violet-600 to-blue-600 hover:from-violet-700 hover:to-blue-700 text-white shadow-lg shadow-violet-500/25 transition-all","data-testid":"button-search",children:[ne.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(nn,{className:"w-4 h-4 mr-2"}),"Search"]})]})]})}),ne.isPending&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:6}).map((D,oe)=>e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-5 w-3/4 mb-3"}),e.jsx(Ne,{className:"h-4 w-full mb-2"}),e.jsx(Ne,{className:"h-4 w-1/2 mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{className:"h-9 w-24"}),e.jsx(Ne,{className:"h-9 w-24"})]})]},oe))}),f&&!ne.isPending&&u.length===0&&e.jsxs(de,{className:"p-12 text-center border-dashed",children:[e.jsx(al,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"No businesses found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different zip code or business type"})]}),u.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-semibold",children:[u.length," businesses found"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(D=>{const oe=$.some(ue=>ue.googlePlaceId===D.placeId);return e.jsxs(de,{className:"p-5 hover:shadow-lg transition-all duration-200 border-2 hover:border-violet-500/30 group","data-testid":`card-result-${D.placeId}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors",children:D.name}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-1",children:[e.jsx(tl,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:D.address})]})]}),oe&&e.jsx(Ce,{variant:"secondary",className:"ml-2 text-xs bg-emerald-500/10 text-emerald-500 border-emerald-500/20",children:"Saved"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[D.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mi,{className:"w-3.5 h-3.5 fill-amber-400 text-amber-400"}),e.jsx("span",{className:"text-sm font-medium",children:D.rating}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",D.reviewCount,")"]})]}),D.category&&e.jsx(Ce,{variant:"outline",className:"text-xs capitalize",children:D.category})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>Y(D.placeId),disabled:b===D.placeId,className:"gap-1.5","data-testid":`button-details-${D.placeId}`,children:[b===D.placeId?e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(El,{className:"w-3.5 h-3.5"}),"Details"]}),!oe&&v!==D.placeId&&e.jsxs(z,{size:"sm",variant:"outline",className:"gap-1.5 hover:bg-violet-50 hover:text-violet-600 hover:border-violet-300 dark:hover:bg-violet-500/10",onClick:()=>Y(D.placeId),"data-testid":`button-save-${D.placeId}`,children:[e.jsx(as,{className:"w-3.5 h-3.5"}),"View & Save"]})]})]},D.placeId)})})]})]}),P==="leads"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[e.jsxs(de,{className:"p-4 text-center cursor-pointer hover:shadow-md transition-all",onClick:()=>O("all"),"data-testid":"stat-total",children:[e.jsx("div",{className:"text-2xl font-bold",children:_.total}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),e.jsxs(de,{className:"p-4 text-center cursor-pointer hover:shadow-md transition-all",onClick:()=>O("new"),"data-testid":"stat-new",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-500",children:_.new}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"New"})]}),e.jsxs(de,{className:"p-4 text-center cursor-pointer hover:shadow-md transition-all",onClick:()=>O("contacted"),"data-testid":"stat-contacted",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-500",children:_.contacted}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Contacted"})]}),e.jsxs(de,{className:"p-4 text-center cursor-pointer hover:shadow-md transition-all",onClick:()=>O("interested"),"data-testid":"stat-interested",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-500",children:_.interested}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Interested"})]}),e.jsxs(de,{className:"p-4 text-center cursor-pointer hover:shadow-md transition-all",onClick:()=>O("converted"),"data-testid":"stat-converted",children:[e.jsx("div",{className:"text-2xl font-bold text-violet-500",children:_.converted}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Converted"})]})]}),Q?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((D,oe)=>e.jsxs(de,{className:"p-5",children:[e.jsx(Ne,{className:"h-5 w-48 mb-3"}),e.jsx(Ne,{className:"h-4 w-full mb-2"}),e.jsx(Ne,{className:"h-4 w-2/3"})]},oe))}):U.length===0?e.jsxs(de,{className:"p-12 text-center border-dashed",children:[e.jsx(hp,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:T==="all"?"No leads yet":`No ${gb[T]?.toLowerCase()} leads`}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:T==="all"?"Search for businesses and save them as leads":"Change the filter to see other leads"}),T==="all"&&e.jsxs(z,{onClick:()=>R("search"),className:"gap-2","data-testid":"button-go-search",children:[e.jsx(nn,{className:"w-4 h-4"}),"Find Businesses"]})]}):e.jsx("div",{className:"space-y-3",children:U.map(D=>e.jsx(de,{className:"p-5 hover:shadow-md transition-all duration-200 border-l-4",style:{borderLeftColor:D.status==="new"?"#3b82f6":D.status==="contacted"?"#f59e0b":D.status==="interested"?"#10b981":D.status==="converted"?"#8b5cf6":"#ef4444"},"data-testid":`card-lead-${D.id}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-base",children:D.businessName}),e.jsx(Ce,{className:`text-xs ${_9[D.status]||""}`,children:gb[D.status]||D.status}),D.googleRating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mi,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),e.jsx("span",{className:"text-xs",children:D.googleRating})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-1.5 text-sm",children:[D.address&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(tl,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:D.address})]}),D.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Mc,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("a",{href:`tel:${D.phone}`,className:"hover:text-foreground transition-colors",children:D.phone})]}),D.website&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(na,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsxs("a",{href:D.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-500 transition-colors truncate","data-testid":`link-website-${D.id}`,children:[D.domain||D.website,e.jsx(Ws,{className:"w-3 h-3 inline ml-1"})]})]}),D.emailGuess&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_s,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("span",{className:"text-xs truncate",title:D.emailGuess,children:D.emailGuess.split(",")[0]})]})]}),D.notes&&e.jsxs("div",{className:"mt-2 text-sm text-muted-foreground bg-muted/50 rounded-lg p-2.5",children:[e.jsx(kt,{className:"w-3 h-3 inline mr-1"}),D.notes]}),D.lastContactedAt&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[e.jsx(Jt,{className:"w-3 h-3"}),"Last contacted: ",new Date(D.lastContactedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{se(D),re(D.notes||""),me(D.status)},className:"gap-1.5","data-testid":`button-edit-${D.id}`,children:[e.jsx(kt,{className:"w-3.5 h-3.5"}),"Edit"]}),D.website&&e.jsxs(e.Fragment,{children:[e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>xe(D),disabled:I===D.id,className:"gap-1.5 hover:bg-green-50 hover:text-green-600 dark:hover:bg-green-500/10","data-testid":`button-scrape-${D.id}`,children:[I===D.id?e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ih,{className:"w-3.5 h-3.5"}),I===D.id?"Scraping...":"Find Emails"]}),e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>ee(D.website),className:"gap-1.5 hover:bg-violet-50 hover:text-violet-600 dark:hover:bg-violet-500/10","data-testid":`button-audit-${D.id}`,children:[e.jsx(iy,{className:"w-3.5 h-3.5"}),"Audit"]})]}),e.jsx(z,{size:"sm",variant:"ghost",onClick:()=>E.mutate(D.id),className:"gap-1.5 text-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10","data-testid":`button-delete-${D.id}`,children:e.jsx(ks,{className:"w-3.5 h-3.5"})})]})]})},D.id))})]}),e.jsx(Lt,{open:!!v&&!!N,onOpenChange:()=>{g(null),S(null)},children:e.jsxs(Et,{className:"sm:max-w-lg",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-2",children:[e.jsx(al,{className:"w-5 h-5 text-violet-500"}),N?.name]})}),N&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[N.address&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(tl,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),e.jsx("span",{className:"text-sm",children:N.address})]}),N.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mc,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("a",{href:`tel:${N.phone}`,className:"text-sm hover:text-violet-500 transition-colors",children:N.phone})]}),N.website&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(na,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("a",{href:N.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-violet-500 hover:underline flex items-center gap-1","data-testid":"link-detail-website",children:[N.domain||N.website,e.jsx(Ws,{className:"w-3 h-3"})]})]}),!N.website&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(na,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-sm text-red-400 font-medium",children:"No website found  great opportunity!"})]}),N.scrapedEmails?.length>0&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_s,{className:"w-4 h-4 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium block mb-1",children:"Found on website:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:N.scrapedEmails.map(D=>e.jsx(Ce,{className:"text-xs font-mono bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border-green-300 dark:border-green-700",children:D},D))})]})]}),N.guessedEmails?.length>0&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_s,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:N.scrapedEmails?.length>0?"Other possible emails:":"Best guesses (not found on site):"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:N.guessedEmails.map(D=>e.jsx(Ce,{variant:"outline",className:"text-xs font-mono",children:D},D))})]})]}),N.emailSource==="none"&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_s,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-sm text-red-400",children:"No email found  no website to scrape"})]}),N.rating&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(mi,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),e.jsxs("span",{className:"text-sm",children:[N.rating," stars (",N.reviewCount," reviews)"]})]}),N.googleMapsUrl&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ws,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("a",{href:N.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline",children:"View on Google Maps"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsx(z,{onClick:()=>q(N),disabled:F.isPending||$.some(D=>D.googlePlaceId===N.placeId),className:"flex-1 gap-2 bg-gradient-to-r from-violet-600 to-blue-600 hover:from-violet-700 hover:to-blue-700 text-white","data-testid":"button-save-lead",children:$.some(D=>D.googlePlaceId===N.placeId)?e.jsx(e.Fragment,{children:"Already Saved"}):F.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(as,{className:"w-4 h-4"}),"Save Lead"]})}),N.website&&e.jsxs(z,{variant:"outline",onClick:()=>ee(N.website),className:"gap-2","data-testid":"button-audit-site",children:[e.jsx(iy,{className:"w-4 h-4"}),"Audit Site"]})]})]})]})}),e.jsx(Lt,{open:!!H,onOpenChange:()=>se(null),children:e.jsxs(Et,{className:"sm:max-w-md",children:[e.jsx(Tt,{children:e.jsxs(At,{children:["Edit Lead  ",H?.businessName]})}),H&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Status"}),e.jsxs(_t,{value:W,onValueChange:me,children:[e.jsx(St,{"data-testid":"select-lead-status",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"new",children:"New"}),e.jsx(Pe,{value:"contacted",children:"Contacted"}),e.jsx(Pe,{value:"interested",children:"Interested"}),e.jsx(Pe,{value:"not_interested",children:"Not Interested"}),e.jsx(Pe,{value:"converted",children:"Converted"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Notes"}),e.jsx(Os,{value:K,onChange:D=>re(D.target.value),placeholder:"Add notes about this lead...",rows:4,"data-testid":"textarea-lead-notes"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{onClick:()=>C.mutate({id:H.id,updates:{status:W,notes:K,lastContactedAt:W==="contacted"?new Date:void 0}}),disabled:C.isPending,className:"flex-1 bg-gradient-to-r from-violet-600 to-blue-600 text-white","data-testid":"button-save-edit",children:C.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):"Save Changes"}),e.jsx(z,{variant:"outline",onClick:()=>se(null),children:"Cancel"})]})]})]})})]})}const L9={"us-central":"us","us-west":"us","us-east":"us","us-southeast":"us","us-iad":"us","us-ord":"us","us-lax":"us","us-mia":"us","us-den":"us","us-sea":"us","ca-central":"ca","eu-west":"gb","eu-central":"de","ap-west":"in","ap-south":"sg","ap-southeast":"au","ap-northeast":"jp","gb-lon":"gb","de-fra":"de","fr-par":"fr","nl-ams":"nl","se-sto":"se","es-mad":"es","it-mil":"it","in-maa":"in","in-bom":"in","sg-sin":"sg","au-mel":"au","jp-osa":"jp","jp-tyo":"jp","id-cgk":"id","br-gru":"br","cl-scl":"cl","co-bog":"co","mx-qro":"mx"};function I9(s){const t=L9[s]||s.split("-")[0];return t.length===2?String.fromCodePoint(...[...t.toUpperCase()].map(n=>n.charCodeAt(0)+127397)):""}function M9({serverId:s,status:t}){const n=t!=="provisioning",a=t==="running",{data:o,refetch:l}=Ie({queryKey:["/api/linode/servers",s,"pricing"],queryFn:async()=>{const N=await fetch(`/api/linode/servers/${s}/pricing`,{credentials:"include"});if(!N.ok)throw new Error("Failed");return N.json()},enabled:n,refetchInterval:a?3e4:6e4}),[d,u]=x.useState(t);x.useEffect(()=>{d!==t&&l(),u(t)},[t,d,l]);const[m,f]=x.useState(0),y=x.useRef(o);if(y.current=o,x.useEffect(()=>{if(!o)return;f(o.costWithMarkup);const N=setInterval(()=>{f(S=>{const k=(y.current?.hourlyWithMarkup??0)/3600;return+(S+k).toFixed(6)})},1e3);return()=>clearInterval(N)},[o]),!o)return n?null:e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-muted/40 rounded-lg text-xs","data-testid":`usage-counter-${s}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),e.jsx("span",{className:"text-muted-foreground",children:"Provisioning..."})]}),e.jsx("span",{className:"text-muted-foreground",children:"Billing starts once provisioned"})]});const v=a?"Live":t==="booting"?"Booting":t==="rebooting"?"Rebooting":t==="shutting_down"?"Stopping":t==="offline"?"Offline":t,g=a?"bg-green-500 animate-pulse":t==="booting"||t==="rebooting"?"bg-yellow-500 animate-pulse":"bg-gray-400";return e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-muted/40 rounded-lg text-xs","data-testid":`usage-counter-${s}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${g}`}),e.jsx("span",{className:"text-muted-foreground",children:v})]}),e.jsxs("div",{className:"flex items-center gap-1 font-mono font-bold text-sm text-green-600 dark:text-green-400",children:[e.jsx(Ln,{className:"w-3.5 h-3.5"}),m.toFixed(4)]}),e.jsxs("span",{className:"text-muted-foreground",children:["accrued (",o.markupPercent,"% markup)"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-3 text-muted-foreground flex-wrap justify-end",children:[e.jsxs("span",{children:["$",o.hourlyWithMarkup.toFixed(4),"/hr"]}),e.jsxs("span",{children:[o.hoursRunning.toFixed(1)," hrs"]}),o.monthlyWithMarkup>0&&e.jsxs("span",{className:"text-xs opacity-70",children:["(~$",o.monthlyWithMarkup,"/mo)"]}),o.backupMonthly>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3"}),"Backup: $",o.backupWithMarkup.toFixed(2),"/mo"]})]})]})}function D9({serverId:s,currentLabel:t}){const{toast:n}=gt(),[a,o]=x.useState(!1),[l,d]=x.useState(t),u=Re({mutationFn:async f=>(await Ae("PATCH",`/api/linode/servers/${s}`,{label:f})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/linode/servers"]}),o(!1),n({title:"Server renamed",description:"Label updated on Linode."})},onError:f=>{n({title:"Rename failed",description:f.message,variant:"destructive"}),d(t)}}),m=()=>{if(u.isPending)return;const f=l.trim();if(!f||f===t){o(!1),d(t);return}u.mutate(f)};return a?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(fr,{className:"w-3.5 h-3.5 text-violet-500 flex-shrink-0"}),e.jsx(Fe,{value:l,onChange:f=>d(f.target.value),onKeyDown:f=>{f.key==="Enter"&&m(),f.key==="Escape"&&(o(!1),d(t))},onBlur:m,className:"h-7 text-sm font-semibold w-48 px-1.5",autoFocus:!0,"data-testid":`input-rename-${s}`}),u.isPending&&e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"})]}):e.jsxs("h3",{className:"font-semibold flex items-center gap-1.5 group cursor-pointer",onClick:()=>o(!0),"data-testid":`label-${s}`,children:[e.jsx(fr,{className:"w-3.5 h-3.5 text-violet-500"}),t,e.jsx(gi,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})}function q9({updated:s,status:t}){const[n,a]=x.useState(Date.now());if(x.useEffect(()=>{if(t!=="running"||!s)return;const y=setInterval(()=>a(Date.now()),6e4);return()=>clearInterval(y)},[t,s]),t!=="running"||!s)return null;const o=new Date(s).getTime(),l=n-o;if(l<0)return null;const d=Math.floor(l/6e4),u=Math.floor(d/60),m=Math.floor(u/24);let f="";return m>0?f=`${m}d ${u%24}h`:u>0?f=`${u}h ${d%60}m`:f=`${d}m`,e.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground","data-testid":"uptime-display",children:[e.jsx(Jt,{className:"w-3 h-3"}),"Up ",f]})}function $9({serverId:s,currentCustomerId:t,customers:n}){const{toast:a}=gt(),[o,l]=x.useState(!1),[d,u]=x.useState(t||"none"),m=Re({mutationFn:async f=>(await Ae("PATCH",`/api/linode/servers/${s}`,{customerId:f==="none"?null:f})).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/linode/servers"]}),l(!1),a({title:"Customer updated"})},onError:f=>{a({title:"Failed to assign customer",description:f.message,variant:"destructive"})}});return t?null:e.jsxs(e.Fragment,{children:[e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>l(!0),className:"gap-1.5","data-testid":`button-assign-customer-${s}`,children:[e.jsx(cy,{className:"w-3.5 h-3.5"}),"Assign Customer"]}),e.jsx(Lt,{open:o,onOpenChange:l,children:e.jsxs(Et,{className:"max-w-sm",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-2",children:[e.jsx(cy,{className:"w-5 h-5 text-violet-500"}),"Assign Customer"]})}),e.jsxs("div",{className:"space-y-4 mt-2",children:[e.jsxs(_t,{value:d,onValueChange:u,children:[e.jsx(St,{"data-testid":"select-assign-customer",children:e.jsx(Ot,{placeholder:"Select customer"})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"none",children:"No customer"}),n.map(f=>e.jsx(Pe,{value:f.id,children:f.name},f.id))]})]}),e.jsxs(z,{className:"w-full",onClick:()=>m.mutate(d),disabled:m.isPending||d==="none","data-testid":"button-confirm-assign",children:[m.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin mr-2"}):null,"Assign"]})]})]})})]})}function F9({serverId:s,planType:t}){const{toast:n}=gt(),{data:a,isLoading:o}=Ie({queryKey:["/api/linode/servers",s,"backups"],queryFn:async()=>{const f=await fetch(`/api/linode/servers/${s}/backups`,{credentials:"include"});if(!f.ok)throw new Error("Failed");return f.json()}}),{data:l}=Ie({queryKey:["/api/linode/types",t],queryFn:async()=>{const f=await fetch("/api/linode/types",{credentials:"include"});return f.ok?(await f.json()).find(v=>v.id===t)||{}:{}}}),d=Re({mutationFn:async()=>(await Ae("POST",`/api/linode/servers/${s}/backups/enable`)).json(),onSuccess:f=>{be.invalidateQueries({queryKey:["/api/linode/servers",s,"backups"]});const y=(f.backupPriceCents/100).toFixed(2),v=(f.totalCents/100).toFixed(2);n({title:"Backups enabled!",description:`Linode: $${y}/mo + 50% markup = $${v}/mo`})},onError:f=>{n({title:"Failed to enable backups",description:f.message,variant:"destructive"})}}),u=Re({mutationFn:async()=>{await Ae("POST",`/api/linode/servers/${s}/backups/cancel`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/linode/servers",s,"backups"]}),n({title:"Backups disabled"})},onError:f=>{n({title:"Failed to cancel backups",description:f.message,variant:"destructive"})}});return o?null:a?.enabled??!1?e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{confirm("Cancel backups for this server? Existing backups will be deleted.")&&u.mutate()},disabled:u.isPending,className:"gap-1.5 text-green-600 border-green-200 hover:bg-green-50","data-testid":`button-backups-enabled-${s}`,children:[u.isPending?e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(ta,{className:"w-3.5 h-3.5"}),"Backups On"]}):e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{confirm("Enable automatic backups for this server? Pricing includes a 50% markup on Linode's backup cost.")&&d.mutate()},disabled:d.isPending,className:"gap-1.5","data-testid":`button-enable-backups-${s}`,children:[d.isPending?e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(XC,{className:"w-3.5 h-3.5"}),"Backups"]})}function z9({ip:s}){const[t,n]=x.useState(!1),a=`ssh root@${s}`,o=()=>{navigator.clipboard.writeText(a),n(!0),setTimeout(()=>n(!1),2e3)};return e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-2.5 py-2 bg-muted/50 rounded-lg","data-testid":`ssh-command-${s}`,children:[e.jsx(Iu,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"}),e.jsx("code",{className:"text-xs font-mono flex-1 select-all",children:a}),e.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-muted transition-colors",title:"Copy SSH command","data-testid":`button-copy-ssh-${s}`,children:t?e.jsx(Ns,{className:"w-3.5 h-3.5 text-green-500"}):e.jsx(xn,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})}function U9(){Yn("Server Provisioning");const{toast:s}=gt(),[t,n]=x.useState(!1),[a,o]=x.useState(""),[l,d]=x.useState("us-central"),[u,m]=x.useState(""),[f,y]=x.useState(""),[v,g]=x.useState("all"),[N,S]=x.useState(null),[b,k]=x.useState(null),{data:P=[],isLoading:R}=Ie({queryKey:["/api/linode/servers"],refetchInterval:C=>C.state.data?.some(G=>G.status==="provisioning"||G.status==="booting"||G.status==="rebooting")?5e3:3e4}),{data:T=[],isLoading:O}=Ie({queryKey:["/api/linode/types"],enabled:t}),{data:H=[]}=Ie({queryKey:["/api/linode/regions"],enabled:t}),{data:se=[]}=Ie({queryKey:["/api/customers"]}),K=Re({mutationFn:async C=>(await Ae("POST","/api/linode/provision",C)).json(),onSuccess:C=>{be.invalidateQueries({queryKey:["/api/linode/servers"]}),n(!1),o(""),m(""),y(""),s({title:"Server provisioned!",description:`${C.label} is being created. Root password has been generated.`})},onError:C=>{s({title:"Provisioning failed",description:C.message,variant:"destructive"})}}),re=Re({mutationFn:async C=>{await Ae("DELETE",`/api/linode/servers/${C}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/linode/servers"]}),s({title:"Server deleted"})},onError:()=>{s({title:"Failed to delete server",variant:"destructive"})}}),W=Re({mutationFn:async C=>(await Ae("GET",`/api/linode/servers/${C}/stats`)).json(),onError:C=>{const E=C.message||"";E.includes("Linode")||E.includes("stats")?s({title:"Stats not available yet",description:"Server usage data takes a few hours to become available after provisioning."}):s({title:"Failed to fetch stats",description:E,variant:"destructive"})}}),me=Re({mutationFn:async C=>(await Ae("POST",`/api/linode/servers/${C}/reboot`),C),onSuccess:C=>{be.invalidateQueries({queryKey:["/api/linode/servers"]}),be.invalidateQueries({queryKey:["/api/linode/servers",C,"pricing"]}),s({title:"Server rebooting",description:"The server is restarting now."})},onError:C=>{s({title:"Reboot failed",description:C.message,variant:"destructive"})}});Re({mutationFn:async C=>(await Ae("POST",`/api/linode/servers/${C}/backups/enable`)).json(),onSuccess:C=>{be.invalidateQueries({queryKey:["/api/linode/servers"]});const E=(C.backupPriceCents/100).toFixed(2),G=(C.totalCents/100).toFixed(2);s({title:"Backups enabled!",description:`Linode: $${E}/mo + 50% markup = $${G}/mo billed to customer`})},onError:C=>{s({title:"Failed to enable backups",description:C.message,variant:"destructive"})}}),Re({mutationFn:async C=>{await Ae("POST",`/api/linode/servers/${C}/backups/cancel`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/linode/servers"]}),s({title:"Backups disabled"})},onError:C=>{s({title:"Failed to cancel backups",description:C.message,variant:"destructive"})}});const I=Re({mutationFn:async C=>(await Ae("POST",`/api/linode/servers/${C}/invoice`)).json(),onSuccess:(C,E)=>{k(C.html),be.invalidateQueries({queryKey:["/api/linode/servers",E,"pricing"]}),be.invalidateQueries({queryKey:["/api/linode/servers"]}),C.emailSent?s({title:"Invoice sent!",description:`Emailed to ${C.customerEmail}  $${(C.totalCents/100).toFixed(2)} total`}):s({title:"Invoice generated",description:`$${(C.totalCents/100).toFixed(2)}  No customer email linked, preview only.`})},onError:C=>{s({title:"Invoice failed",description:C.message||"Could not generate invoice",variant:"destructive"})}}),X=v==="all"?T:T.filter(C=>v==="shared"?C.typeClass==="standard"||C.typeClass==="nanode":C.typeClass==="dedicated"),$=T.find(C=>C.id===a),Q=()=>{!a||!u||K.mutate({typeId:a,region:l,label:u,customerId:f&&f!=="none"?f:void 0})},ne=async C=>{S(C),W.mutate(C)},F=C=>{const E={running:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",provisioning:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",booting:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",rebooting:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",offline:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",shutting_down:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"};return e.jsx(Ce,{className:E[C]||"bg-gray-100 text-gray-700","data-testid":`status-${C}`,children:C})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight","data-testid":"text-page-title",children:"Server Provisioning"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Provision and manage Linode servers for your clients"})]}),e.jsxs(z,{onClick:()=>n(!0),className:"gap-2 bg-gradient-to-r from-violet-600 to-blue-600 text-white","data-testid":"button-new-server",children:[e.jsx(as,{className:"w-4 h-4"}),"New Server"]})]})}),R?e.jsx("div",{className:"space-y-3",children:[1,2].map(C=>e.jsx(Ne,{className:"h-32 rounded-xl"},C))}):P.length===0?e.jsxs(de,{className:"p-12 text-center",children:[e.jsx(fr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No servers yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Provision your first Linode server for a client"}),e.jsxs(z,{onClick:()=>n(!0),className:"gap-2","data-testid":"button-first-server",children:[e.jsx(as,{className:"w-4 h-4"})," Provision Server"]})]}):e.jsx("div",{className:"space-y-3",children:P.map(C=>{const E=se.find(G=>G.id===C.customerId);return e.jsxs(de,{className:"p-4","data-testid":`card-server-${C.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-[200px]",children:[e.jsx("span",{className:"text-xl",children:I9(C.region)}),e.jsxs("div",{children:[e.jsx(D9,{serverId:C.id,currentLabel:C.label}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:C.region}),E&&e.jsxs("span",{children:[" ",E.name]})]})]})]}),F(C.status),e.jsx(q9,{updated:C.updated,status:C.status}),C.ipv4&&e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(na,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-mono text-xs",children:C.ipv4})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-3 text-xs text-muted-foreground",children:[C.vcpus&&e.jsxs("span",{children:[C.vcpus," vCPU"]}),C.memory&&e.jsxs("span",{children:[Math.round(C.memory/1024)," GB RAM"]}),C.disk&&e.jsxs("span",{children:[Math.round(C.disk/1024)," GB Disk"]})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(M9,{serverId:C.id,status:C.status})}),C.ipv4&&e.jsx("div",{className:"mt-2",children:e.jsx(z9,{ip:C.ipv4})}),e.jsxs("div",{className:"flex gap-2 pt-3 mt-1 border-t flex-wrap",children:[e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{confirm("Reboot this server? It will be briefly unavailable.")&&me.mutate(C.id)},disabled:me.isPending||C.status==="rebooting",className:"gap-1.5","data-testid":`button-reboot-${C.id}`,children:[me.isPending?e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(oh,{className:"w-3.5 h-3.5"}),"Reboot"]}),e.jsx($9,{serverId:C.id,currentCustomerId:C.customerId,customers:se}),e.jsx(F9,{serverId:C.id,planType:C.planType}),e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>ne(C.id),disabled:W.isPending&&N===C.id,className:"gap-1.5","data-testid":`button-stats-${C.id}`,children:[W.isPending&&N===C.id?e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(pl,{className:"w-3.5 h-3.5"}),"Stats"]}),e.jsxs(z,{size:"sm",variant:"outline",onClick:()=>I.mutate(C.id),disabled:I.isPending,className:"gap-1.5","data-testid":`button-invoice-${C.id}`,children:[I.isPending?e.jsx(Je,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Zt,{className:"w-3.5 h-3.5"}),"Invoice"]}),e.jsx(z,{size:"sm",variant:"outline",onClick:()=>{be.invalidateQueries({queryKey:["/api/linode/servers"]})},className:"gap-1.5","data-testid":`button-refresh-${C.id}`,children:e.jsx(ih,{className:"w-3.5 h-3.5"})}),e.jsx(z,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure? This will permanently delete this server from Linode.")&&re.mutate(C.id)},className:"gap-1.5 text-red-500 ml-auto","data-testid":`button-delete-${C.id}`,children:e.jsx(ks,{className:"w-3.5 h-3.5"})})]})]},C.id)})}),e.jsx(Lt,{open:t,onOpenChange:n,children:e.jsxs(Et,{className:"max-w-lg",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"w-5 h-5 text-violet-500"}),"Provision New Server"]})}),e.jsxs("div",{className:"space-y-4 mt-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Server Label"}),e.jsx(Fe,{placeholder:"e.g., client-website-prod",value:u,onChange:C=>m(C.target.value),"data-testid":"input-server-label"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Assign to Customer (optional)"}),e.jsxs(_t,{value:f,onValueChange:y,children:[e.jsx(St,{"data-testid":"select-customer",children:e.jsx(Ot,{placeholder:"No customer"})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"none",children:"No customer"}),se.map(C=>e.jsx(Pe,{value:C.id,children:C.name},C.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Region"}),e.jsxs(_t,{value:l,onValueChange:d,children:[e.jsx(St,{"data-testid":"select-region",children:e.jsx(Ot,{placeholder:"Select region"})}),e.jsx(Ct,{children:H.map(C=>e.jsxs(Pe,{value:C.id,children:[C.label," (",C.country.toUpperCase(),")"]},C.id))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("label",{className:"text-sm font-medium",children:"Server Plan"}),e.jsx("div",{className:"flex gap-1",children:["all","shared","dedicated"].map(C=>e.jsx(z,{size:"sm",variant:v===C?"default":"outline",onClick:()=>g(C),className:"text-xs h-7 px-2.5","data-testid":`button-filter-${C}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]}),O?e.jsx(Ne,{className:"h-32 rounded-lg"}):e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border rounded-lg p-2",children:X.map(C=>e.jsxs("button",{onClick:()=>o(C.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${a===C.id?"border-violet-500 bg-violet-50 dark:bg-violet-500/10":"border-transparent hover:bg-muted/50"}`,"data-testid":`plan-${C.id}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-sm",children:C.label}),e.jsxs("span",{className:"text-sm font-semibold text-violet-600 dark:text-violet-400",children:["$",C.monthlyPrice,"/mo"]})]}),e.jsxs("div",{className:"flex gap-3 mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[C.vcpus," vCPU"]}),e.jsxs("span",{children:[Math.round(C.memory/1024)," GB RAM"]}),e.jsxs("span",{children:[Math.round(C.disk/1024)," GB Disk"]}),e.jsxs("span",{children:[C.transfer/1e3," TB Transfer"]})]})]},C.id))}),$&&e.jsxs("div",{className:"mt-3 p-3 bg-violet-50 dark:bg-violet-500/10 rounded-lg text-sm",children:[e.jsxs("div",{className:"font-medium text-violet-700 dark:text-violet-300",children:["Selected: ",$.label]}),e.jsxs("div",{className:"text-muted-foreground mt-1",children:["$",$.monthlyPrice,"/mo  ",$.vcpus," vCPU  ",Math.round($.memory/1024)," GB RAM  Ubuntu 24.04"]})]})]}),e.jsxs(z,{onClick:Q,disabled:!a||!u||K.isPending,className:"w-full gap-2 bg-gradient-to-r from-violet-600 to-blue-600 text-white","data-testid":"button-provision",children:[K.isPending?e.jsx(Je,{className:"w-4 h-4 animate-spin"}):e.jsx(fr,{className:"w-4 h-4"}),K.isPending?"Provisioning...":"Provision Server"]})]})]})}),e.jsx(Lt,{open:!!N&&!!W.data,onOpenChange:C=>{C||S(null)},children:e.jsxs(Et,{className:"max-w-md",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-2",children:[e.jsx(pl,{className:"w-5 h-5 text-violet-500"}),"Server Statistics"]})}),W.data&&e.jsxs("div",{className:"space-y-4 mt-2",children:[W.data.message&&e.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 rounded-lg text-sm","data-testid":"stats-message",children:W.data.message}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs(de,{className:"p-3 text-center",children:[e.jsx(cp,{className:"w-5 h-5 mx-auto text-blue-500 mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[W.data.cpu,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"CPU Usage"})]}),e.jsxs(de,{className:"p-3 text-center",children:[e.jsx(ry,{className:"w-5 h-5 mx-auto text-green-500 mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:W.data.networkInGB}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"GB In"})]}),e.jsxs(de,{className:"p-3 text-center",children:[e.jsx(ry,{className:"w-5 h-5 mx-auto text-orange-500 mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:W.data.networkOutGB}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"GB Out"})]})]}),W.data.cpuTimeline?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"CPU Timeline (last 24 points)"}),e.jsx("div",{className:"flex items-end gap-0.5 h-16 bg-muted/30 rounded-lg p-1",children:W.data.cpuTimeline.map((C,E)=>e.jsx("div",{className:"flex-1 bg-violet-500 rounded-sm min-h-[2px]",style:{height:`${Math.max(2,parseFloat(C.value))}%`},title:`${C.value}%`},E))})]})]})]})}),e.jsx(Lt,{open:!!b,onOpenChange:C=>{C||k(null)},children:e.jsxs(Et,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Tt,{children:e.jsxs(At,{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-violet-500"}),"Server Invoice"]})}),b&&e.jsx("div",{className:"mt-2",dangerouslySetInnerHTML:{__html:b},"data-testid":"invoice-preview"})]})})]})}const B9=["General","Getting Started","Billing","Technical","FAQ","Tutorials","Troubleshooting"],H9={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["blockquote","code-block"],["link","image"],["clean"]]};function vb(s){const t=document.createElement("div");return t.innerHTML=s,t.textContent||t.innerText||""}function W9(){const{toast:s}=gt(),[t,n]=x.useState(!1),[a,o]=x.useState(null),[l,d]=x.useState(null),[u,m]=x.useState("all"),[f,y]=x.useState("all"),[v,g]=x.useState(""),[N,S]=x.useState(""),[b,k]=x.useState(""),[P,R]=x.useState("General"),[T,O]=x.useState(0),[H,se]=x.useState(!1),[K,re]=x.useState(""),{data:W=[],isLoading:me}=Ie({queryKey:["/api/knowledge-base"]}),I=x.useMemo(()=>{const _=W.map(oe=>oe.category).filter(Boolean),D=new Set([...B9,..._]);return Array.from(D).sort()},[W]),X=Re({mutationFn:async _=>(await Ae("POST","/api/knowledge-base",_)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/knowledge-base"]}),s({title:"Article created"}),C()},onError:()=>s({title:"Failed to create article",variant:"destructive"})}),$=Re({mutationFn:async({id:_,...D})=>(await Ae("PATCH",`/api/knowledge-base/${_}`,D)).json(),onSuccess:()=>{be.invalidateQueries({queryKey:["/api/knowledge-base"]}),s({title:"Article updated"}),C()},onError:()=>s({title:"Failed to update article",variant:"destructive"})}),Q=Re({mutationFn:async _=>{await Ae("DELETE",`/api/knowledge-base/${_}`)},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/knowledge-base"]}),s({title:"Article deleted"}),d(null)}}),ne=()=>{o(null),S(""),k(""),R("General"),O(0),se(!1),re(""),n(!0)},F=_=>{o(_),se(!1),re(""),S(_.title),k(_.content),R(_.category),O(_.sortOrder||0),n(!0)},C=()=>{n(!1),o(null)},E=()=>{if(!N.trim())return s({title:"Title is required",variant:"destructive"});a?$.mutate({id:a.id,title:N,content:b,category:P,status:"draft",sortOrder:T}):X.mutate({title:N,content:b,category:P,status:"draft",sortOrder:T})},G=()=>{if(!N.trim())return s({title:"Title is required",variant:"destructive"});a?$.mutate({id:a.id,title:N,content:b,category:P,status:"published",sortOrder:T}):X.mutate({title:N,content:b,category:P,status:"published",sortOrder:T})},Y=_=>{const D=_.status==="published"?"draft":"published";$.mutate({id:_.id,status:D})},q=W.filter(_=>!(u!=="all"&&_.status!==u||f!=="all"&&_.category!==f||v&&!_.title.toLowerCase().includes(v.toLowerCase()))),ee=W.filter(_=>_.status==="draft").length,xe=W.filter(_=>_.status==="published").length,U=X.isPending||$.isPending;return e.jsxs("div",{className:"space-y-6","data-testid":"page-knowledge-base",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-kb-title",children:[e.jsx(so,{className:"w-6 h-6"})," Knowledge Base"]}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Create and manage help articles. Published articles sync to Notion and appear on the public /help page."})]}),e.jsxs(z,{onClick:ne,"data-testid":"button-new-article",children:[e.jsx(as,{className:"w-4 h-4 mr-2"})," New Article"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Ce,{variant:u==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>m("all"),"data-testid":"filter-all",children:["All (",W.length,")"]}),e.jsxs(Ce,{variant:u==="draft"?"default":"outline",className:"cursor-pointer",onClick:()=>m("draft"),"data-testid":"filter-draft",children:["Drafts (",ee,")"]}),e.jsxs(Ce,{variant:u==="published"?"default":"outline",className:"cursor-pointer",onClick:()=>m("published"),"data-testid":"filter-published",children:["Published (",xe,")"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search articles...",value:v,onChange:_=>g(_.target.value),className:"pl-9","data-testid":"input-search-articles"})]}),e.jsxs(_t,{value:f,onValueChange:y,children:[e.jsx(St,{className:"w-[180px]","data-testid":"select-filter-category",children:e.jsx(Ot,{placeholder:"Category"})}),e.jsxs(Ct,{children:[e.jsx(Pe,{value:"all",children:"All Categories"}),I.map(_=>e.jsx(Pe,{value:_,children:_},_))]})]})]}),me?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading articles..."}):q.length===0?e.jsx(de,{children:e.jsxs(ji,{className:"py-12 text-center",children:[e.jsx(Zt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No articles found. Create your first knowledge base article!"})]})}):e.jsx("div",{className:"grid gap-3",children:q.map(_=>e.jsx(de,{className:"hover:shadow-md transition-shadow","data-testid":`card-article-${_.id}`,children:e.jsx(ji,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[e.jsx(IC,{className:"w-4 h-4 text-muted-foreground/40 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold truncate","data-testid":`text-article-title-${_.id}`,children:_.title}),e.jsx(Ce,{variant:_.status==="published"?"default":"secondary",className:"text-xs","data-testid":`badge-status-${_.id}`,children:_.status==="published"?"Published":"Draft"}),e.jsx(Ce,{variant:"outline",className:"text-xs",children:_.category}),_.notionPageId&&e.jsx(Ce,{variant:"outline",className:"text-xs text-blue-600 border-blue-200",children:"Notion"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:_.content?vb(_.content).substring(0,150)+(vb(_.content).length>150?"...":""):"No content yet"}),e.jsxs("p",{className:"text-xs text-muted-foreground/60 mt-1",children:["Updated ",_.updatedAt?new Date(_.updatedAt).toLocaleDateString():"","  /",_.slug]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>Y(_),title:_.status==="published"?"Unpublish":"Publish","data-testid":`button-toggle-publish-${_.id}`,children:_.status==="published"?e.jsx(hx,{className:"w-4 h-4"}):e.jsx(El,{className:"w-4 h-4"})}),e.jsx(z,{variant:"ghost",size:"icon",onClick:()=>F(_),"data-testid":`button-edit-article-${_.id}`,children:e.jsx(gi,{className:"w-4 h-4"})}),e.jsx(z,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>d(_.id),"data-testid":`button-delete-article-${_.id}`,children:e.jsx(ks,{className:"w-4 h-4"})})]})]})})},_.id))}),e.jsx(Lt,{open:t,onOpenChange:n,children:e.jsxs(Et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Tt,{children:e.jsx(At,{"data-testid":"text-editor-title",children:a?"Edit Article":"New Article"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($e,{children:"Title"}),e.jsx(Fe,{value:N,onChange:_=>S(_.target.value),placeholder:"Article title...","data-testid":"input-article-title"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{children:"Category"}),H?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Fe,{value:K,onChange:_=>re(_.target.value),placeholder:"Type new category name...",autoFocus:!0,"data-testid":"input-new-category",onKeyDown:_=>{_.key==="Enter"&&K.trim()&&(R(K.trim()),se(!1),re(""))}}),e.jsx(z,{type:"button",size:"sm",disabled:!K.trim(),onClick:()=>{R(K.trim()),se(!1),re("")},"data-testid":"button-save-category",children:"Add"}),e.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{se(!1),re("")},"data-testid":"button-cancel-category",children:"Cancel"})]}):e.jsxs(_t,{value:P,onValueChange:_=>{_==="__new__"?se(!0):R(_)},children:[e.jsx(St,{"data-testid":"select-article-category",children:e.jsx(Ot,{})}),e.jsxs(Ct,{children:[I.map(_=>e.jsx(Pe,{value:_,children:_},_)),e.jsx(Pe,{value:"__new__",className:"text-primary font-medium border-t mt-1 pt-1",children:"+ New Category"})]})]})]}),e.jsxs("div",{className:"w-24",children:[e.jsx($e,{children:"Sort Order"}),e.jsx(Fe,{type:"number",value:T,onChange:_=>O(parseInt(_.target.value)||0),"data-testid":"input-sort-order"})]})]}),e.jsxs("div",{children:[e.jsx($e,{children:"Content"}),e.jsx("div",{className:"mt-1 rounded-md border bg-background","data-testid":"editor-quill-wrapper",children:e.jsx(M4,{theme:"snow",value:b,onChange:k,modules:H9,placeholder:"Write your article content here...",style:{minHeight:"300px"}})})]})]}),e.jsxs(bp,{className:"flex gap-2 sm:gap-2",children:[e.jsx(z,{variant:"outline",onClick:C,"data-testid":"button-cancel-editor",children:"Cancel"}),e.jsxs(z,{variant:"secondary",onClick:E,disabled:U,"data-testid":"button-save-draft",children:[e.jsx(Zt,{className:"w-4 h-4 mr-2"})," Save as Draft"]}),e.jsxs(z,{onClick:G,disabled:U,"data-testid":"button-publish",children:[e.jsx(ms,{className:"w-4 h-4 mr-2"})," ",a?.status==="published"?"Update & Publish":"Publish"]})]})]})}),e.jsx(Lt,{open:!!l,onOpenChange:()=>d(null),children:e.jsxs(Et,{children:[e.jsx(Tt,{children:e.jsx(At,{children:"Delete Article"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to delete this article? This action cannot be undone."}),e.jsxs(bp,{children:[e.jsx(z,{variant:"outline",onClick:()=>d(null),children:"Cancel"}),e.jsx(z,{variant:"destructive",onClick:()=>l&&Q.mutate(l),disabled:Q.isPending,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}function Xf(s){const t=document.createElement("div");return t.innerHTML=s,t.textContent||t.innerText||""}function K9(){const[s,t]=x.useState(""),[n,a]=x.useState(null),[o,l]=x.useState(null),{data:d=[],isLoading:u}=Ie({queryKey:["/api/public/knowledge-base"]}),m=Array.from(new Set(d.map(v=>v.category))),f=d.filter(v=>{if(o&&v.category!==o)return!1;if(s){const g=s.toLowerCase(),N=Xf(v.content).toLowerCase();return v.title.toLowerCase().includes(g)||N.includes(g)}return!0}),y=d.find(v=>v.slug===n);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsxs("a",{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity","data-testid":"link-home",children:[e.jsx(so,{className:"w-6 h-6 text-primary"}),e.jsx("span",{className:"text-lg font-bold",children:"Help Center"})]}),e.jsx("a",{href:"/questions",className:"text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"link-qa",children:"Q&A"})]})}),e.jsx("main",{className:"max-w-5xl mx-auto px-6 py-8",children:y?e.jsxs("div",{"data-testid":"article-detail-view",children:[e.jsxs(z,{variant:"ghost",className:"mb-4 -ml-2",onClick:()=>a(null),"data-testid":"button-back-to-list",children:[e.jsx(Ta,{className:"w-4 h-4 mr-2"})," Back to articles"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(Ce,{variant:"outline",className:"mb-2",children:y.category}),e.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-article-detail-title",children:y.title}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Last updated ",y.updatedAt?new Date(y.updatedAt).toLocaleDateString():""]})]}),e.jsx(de,{children:e.jsx(ji,{className:"p-6 sm:p-8 prose dark:prose-invert max-w-none article-content","data-testid":"article-content",dangerouslySetInnerHTML:{__html:y.content}})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"How can we help?"}),e.jsx("p",{className:"text-muted-foreground",children:"Browse our knowledge base for guides, tutorials, and answers."})]}),e.jsxs("div",{className:"relative max-w-xl mx-auto mb-8",children:[e.jsx(nn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search for articles...",value:s,onChange:v=>t(v.target.value),className:"pl-12 h-12 text-base rounded-xl","data-testid":"input-search-help"})]}),m.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:[e.jsx(Ce,{variant:o===null?"default":"outline",className:"cursor-pointer px-3 py-1",onClick:()=>l(null),"data-testid":"badge-category-all",children:"All"}),m.map(v=>e.jsxs(Ce,{variant:o===v?"default":"outline",className:"cursor-pointer px-3 py-1",onClick:()=>l(v),"data-testid":`badge-category-${v.toLowerCase().replace(/\s+/g,"-")}`,children:[v," (",d.filter(g=>g.category===v).length,")"]},v))]}),u?e.jsx("div",{className:"text-center py-16 text-muted-foreground",children:"Loading articles..."}):f.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(Zt,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No articles found."})]}):e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:f.map(v=>e.jsx(de,{className:"cursor-pointer hover:shadow-md hover:border-primary/30 transition-all group",onClick:()=>a(v.slug),"data-testid":`card-help-article-${v.id}`,children:e.jsx(ji,{className:"p-5",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx(Ce,{variant:"outline",className:"text-xs mb-2",children:v.category}),e.jsx("h3",{className:"font-semibold group-hover:text-primary transition-colors","data-testid":`text-help-title-${v.id}`,children:v.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:v.content?Xf(v.content).substring(0,120)+(Xf(v.content).length>120?"...":""):""})]}),e.jsx(ux,{className:"w-5 h-5 text-muted-foreground/40 group-hover:text-primary transition-colors flex-shrink-0 mt-1"})]})})},v.id))})]})}),e.jsx("footer",{className:"border-t mt-16 py-6 text-center text-xs text-muted-foreground",children:e.jsxs("p",{children:["AI Powered Sites  ",e.jsx("a",{href:"/",className:"hover:underline",children:"Home"}),"  ",e.jsx("a",{href:"/questions",className:"hover:underline",children:"Q&A"})]})})]})}const V9="/images/logo.png";function Q9(){const{toast:s}=gt(),[t,n]=x.useState(""),[a,o]=x.useState(""),[l,d]=x.useState(!1),u=async m=>{m.preventDefault(),d(!0);try{const f=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}),y=await f.json();if(!f.ok){s({title:"Login failed",description:y.message||"Invalid credentials",variant:"destructive"}),d(!1);return}window.location.href=y.redirect||"/admin"}catch{s({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"}),d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:e.jsxs(de,{className:"w-full max-w-sm p-8 bg-card/95 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:V9,alt:"AI Powered Sites",className:"w-14 h-14 rounded-md object-cover mb-4"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Admin Login"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Sign in to your dashboard"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email",children:"Email"}),e.jsx(Fe,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:m=>n(m.target.value),required:!0,"data-testid":"input-login-email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"password",children:"Password"}),e.jsx(Fe,{id:"password",type:"password",placeholder:"Your password",value:a,onChange:m=>o(m.target.value),required:!0,"data-testid":"input-login-password"})]}),e.jsxs(z,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-login-submit",children:[l?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx($C,{className:"w-4 h-4 mr-2"}),"Sign In"]})]})]})})}function G9(){return e.jsxs(Rb,{children:[e.jsx(Dt,{path:"/admin",component:hP}),e.jsx(Dt,{path:"/admin/customers",component:gP}),e.jsx(Dt,{path:"/admin/projects",component:ZP}),e.jsx(Dt,{path:"/admin/invoices",component:e6}),e.jsx(Dt,{path:"/admin/billing-rates",component:n6}),e.jsx(Dt,{path:"/admin/payment-methods",component:x6}),e.jsx(Dt,{path:"/admin/quotes",component:MR}),e.jsx(Dt,{path:"/admin/support",component:zR}),e.jsx(Dt,{path:"/admin/qa",component:f9}),e.jsx(Dt,{path:"/admin/quote-builder",component:b9}),e.jsx(Dt,{path:"/admin/conversations",component:S9}),e.jsx(Dt,{path:"/admin/api-keys",component:C9}),e.jsx(Dt,{path:"/admin/code-backups",component:P9}),e.jsx(Dt,{path:"/admin/lead-generator",component:O9}),e.jsx(Dt,{path:"/admin/servers",component:U9}),e.jsx(Dt,{path:"/admin/knowledge-base",component:W9}),e.jsx(Dt,{path:"/admin/settings",component:j6}),e.jsx(Dt,{component:SN})]})}function yb(){const s={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},{user:t,isLoading:n,isAuthenticated:a}=jN(),{toast:o}=gt();if(x.useEffect(()=>{!n&&!a&&(o({title:"Unauthorized",description:"Please sign in to access the dashboard.",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500))},[n,a]),n)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading..."})});if(!a)return null;const l=[t?.firstName?.[0],t?.lastName?.[0]].filter(Boolean).join("").toUpperCase()||"U";return e.jsx(RA,{style:s,children:e.jsxs("div",{className:"flex h-screen w-full",children:[e.jsx(zA,{}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsxs("header",{className:"flex items-center justify-between gap-3 flex-wrap px-4 py-2 border-b sticky top-0 z-50 bg-background",children:[e.jsx(OA,{"data-testid":"button-sidebar-toggle"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(yN,{className:"w-7 h-7","data-testid":"img-user-avatar",children:[e.jsx(bN,{src:t?.profileImageUrl||void 0,alt:t?.firstName||"User"}),e.jsx(wN,{className:"text-xs",children:l})]}),e.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline","data-testid":"text-user-name",children:[t?.firstName,t?.lastName].filter(Boolean).join(" ")||"Admin"})]}),e.jsx("a",{href:"/api/logout",children:e.jsx(z,{variant:"ghost",size:"icon","data-testid":"button-logout",children:e.jsx(kw,{className:"w-4 h-4"})})}),e.jsx(lN,{})]})]}),e.jsx("main",{className:"flex-1 overflow-auto p-6 bg-dot-pattern",children:e.jsx(G9,{})})]})]})})}function Y9(){return e.jsxs(Rb,{children:[e.jsx(Dt,{path:"/",component:OR}),e.jsx(Dt,{path:"/questions",component:x9}),e.jsx(Dt,{path:"/portal/:token",component:gR}),e.jsx(Dt,{path:"/progress/:projectId",component:v9}),e.jsx(Dt,{path:"/quote/:token",component:N9}),e.jsx(Dt,{path:"/conversation/:token",component:k9}),e.jsx(Dt,{path:"/api/docs",component:E9}),e.jsx(Dt,{path:"/help",component:K9}),e.jsx(Dt,{path:"/login",component:Q9}),e.jsx(Dt,{path:"/admin/:rest*",children:e.jsx(yb,{})}),e.jsx(Dt,{path:"/admin",children:e.jsx(yb,{})}),e.jsx(Dt,{component:SN})]})}function X9(){return e.jsx(mS,{client:be,children:e.jsx(UA,{children:e.jsxs(jj,{children:[e.jsx(Y9,{}),e.jsx(F3,{})]})})})}N5.createRoot(document.getElementById("root")).render(e.jsx(X9,{}))});export default Z9();
